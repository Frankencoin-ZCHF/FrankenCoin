{
  "address": "0x304B992EFb5d140393542D072e52279A43a6EA75",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_minApplicationPeriod",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "AlreadyRegistered",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "spender",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "allowance",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "needed",
          "type": "uint256"
        }
      ],
      "name": "ERC20InsufficientAllowance",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "sender",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "balance",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "needed",
          "type": "uint256"
        }
      ],
      "name": "ERC20InsufficientBalance",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "FeeTooLow",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotMinter",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "PeriodTooShort",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "TooLate",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "spender",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "value",
          "type": "uint256"
        }
      ],
      "name": "Approval",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "reportingMinter",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "reserve",
          "type": "uint256"
        }
      ],
      "name": "Loss",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "minter",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "applicationPeriod",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "applicationFee",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "message",
          "type": "string"
        }
      ],
      "name": "MinterApplied",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "minter",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "message",
          "type": "string"
        }
      ],
      "name": "MinterDenied",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "value",
          "type": "uint256"
        }
      ],
      "name": "Transfer",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "DOMAIN_SEPARATOR",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "MIN_APPLICATION_PERIOD",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "MIN_FEE",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "spender",
          "type": "address"
        }
      ],
      "name": "allowance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "spender",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "value",
          "type": "uint256"
        }
      ],
      "name": "approve",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "balanceOf",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "burn",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_owner",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "burnFrom",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "payer",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "targetTotalBurnAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint32",
          "name": "reservePPM",
          "type": "uint32"
        }
      ],
      "name": "burnFromWithReserve",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_amountExcludingReserve",
          "type": "uint256"
        },
        {
          "internalType": "uint32",
          "name": "_reservePPM",
          "type": "uint32"
        }
      ],
      "name": "burnWithReserve",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint32",
          "name": "reservePPM",
          "type": "uint32"
        }
      ],
      "name": "burnWithourReserve",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "mintedAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint32",
          "name": "_reservePPM",
          "type": "uint32"
        }
      ],
      "name": "calculateAssignedReserve",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amountExcludingReserve",
          "type": "uint256"
        },
        {
          "internalType": "uint32",
          "name": "reservePPM",
          "type": "uint32"
        }
      ],
      "name": "calculateFreedAmount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "decimals",
      "outputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_minter",
          "type": "address"
        },
        {
          "internalType": "address[]",
          "name": "_helpers",
          "type": "address[]"
        },
        {
          "internalType": "string",
          "name": "_message",
          "type": "string"
        }
      ],
      "name": "denyMinter",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "equity",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_minter",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "_message",
          "type": "string"
        }
      ],
      "name": "initialize",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_minter",
          "type": "address"
        }
      ],
      "name": "isMinter",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_position",
          "type": "address"
        }
      ],
      "name": "isPosition",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_target",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "mint",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_target",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        },
        {
          "internalType": "uint32",
          "name": "_reservePPM",
          "type": "uint32"
        },
        {
          "internalType": "uint32",
          "name": "_feesPPM",
          "type": "uint32"
        }
      ],
      "name": "mintWithReserve",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "minterReserve",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "minter",
          "type": "address"
        }
      ],
      "name": "minters",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "validityStart",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "name",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "nonces",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "nonce",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "notifyLoss",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "spender",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "value",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "deadline",
          "type": "uint256"
        },
        {
          "internalType": "uint8",
          "name": "v",
          "type": "uint8"
        },
        {
          "internalType": "bytes32",
          "name": "r",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "s",
          "type": "bytes32"
        }
      ],
      "name": "permit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "position",
          "type": "address"
        }
      ],
      "name": "positions",
      "outputs": [
        {
          "internalType": "address",
          "name": "registeringMinter",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_position",
          "type": "address"
        }
      ],
      "name": "registerPosition",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "reserve",
      "outputs": [
        {
          "internalType": "contract IReserve",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_minter",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_applicationPeriod",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_applicationFee",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "_message",
          "type": "string"
        }
      ],
      "name": "suggestMinter",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "symbol",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalSupply",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "transfer",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "data",
          "type": "bytes"
        }
      ],
      "name": "transferAndCall",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "sender",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "transferFrom",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0xfb3f5b18778f911546c326e0a43bb3f5f89085207a2e69caaaf9d693c9a3d6f3",
  "receipt": {
    "to": null,
    "from": "0xaA770D646be470BA8Cb97566DD83662334D5D7CF",
    "contractAddress": "0x304B992EFb5d140393542D072e52279A43a6EA75",
    "transactionIndex": 153,
    "gasUsed": "3503847",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x897dfa0723758c8b5190bd10bf22ca9c8f95d8c577e6097deed5db4d88a91e3a",
    "transactionHash": "0xfb3f5b18778f911546c326e0a43bb3f5f89085207a2e69caaaf9d693c9a3d6f3",
    "logs": [],
    "blockNumber": 4058761,
    "cumulativeGasUsed": "21776115",
    "status": 1,
    "byzantium": true
  },
  "args": [
    900
  ],
  "numDeployments": 2,
  "solcInputHash": "c3ef2ca3154904ad4e7c1c529f7cdf76",
  "metadata": "{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_minApplicationPeriod\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"AlreadyRegistered\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"allowance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"needed\",\"type\":\"uint256\"}],\"name\":\"ERC20InsufficientAllowance\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"needed\",\"type\":\"uint256\"}],\"name\":\"ERC20InsufficientBalance\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"FeeTooLow\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotMinter\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PeriodTooShort\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"TooLate\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"reportingMinter\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"reserve\",\"type\":\"uint256\"}],\"name\":\"Loss\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"minter\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"applicationPeriod\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"applicationFee\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"message\",\"type\":\"string\"}],\"name\":\"MinterApplied\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"minter\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"message\",\"type\":\"string\"}],\"name\":\"MinterDenied\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"DOMAIN_SEPARATOR\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MIN_APPLICATION_PERIOD\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MIN_FEE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"burn\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"burnFrom\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"payer\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"targetTotalBurnAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint32\",\"name\":\"reservePPM\",\"type\":\"uint32\"}],\"name\":\"burnFromWithReserve\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amountExcludingReserve\",\"type\":\"uint256\"},{\"internalType\":\"uint32\",\"name\":\"_reservePPM\",\"type\":\"uint32\"}],\"name\":\"burnWithReserve\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint32\",\"name\":\"reservePPM\",\"type\":\"uint32\"}],\"name\":\"burnWithourReserve\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"mintedAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint32\",\"name\":\"_reservePPM\",\"type\":\"uint32\"}],\"name\":\"calculateAssignedReserve\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amountExcludingReserve\",\"type\":\"uint256\"},{\"internalType\":\"uint32\",\"name\":\"reservePPM\",\"type\":\"uint32\"}],\"name\":\"calculateFreedAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_minter\",\"type\":\"address\"},{\"internalType\":\"address[]\",\"name\":\"_helpers\",\"type\":\"address[]\"},{\"internalType\":\"string\",\"name\":\"_message\",\"type\":\"string\"}],\"name\":\"denyMinter\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"equity\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_minter\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"_message\",\"type\":\"string\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_minter\",\"type\":\"address\"}],\"name\":\"isMinter\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_position\",\"type\":\"address\"}],\"name\":\"isPosition\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_target\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"mint\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_target\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"},{\"internalType\":\"uint32\",\"name\":\"_reservePPM\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"_feesPPM\",\"type\":\"uint32\"}],\"name\":\"mintWithReserve\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"minterReserve\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"minter\",\"type\":\"address\"}],\"name\":\"minters\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"validityStart\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"nonces\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"notifyLoss\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"deadline\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"v\",\"type\":\"uint8\"},{\"internalType\":\"bytes32\",\"name\":\"r\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"permit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"position\",\"type\":\"address\"}],\"name\":\"positions\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"registeringMinter\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_position\",\"type\":\"address\"}],\"name\":\"registerPosition\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"reserve\",\"outputs\":[{\"internalType\":\"contract IReserve\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_minter\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_applicationPeriod\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_applicationFee\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"_message\",\"type\":\"string\"}],\"name\":\"suggestMinter\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"transferAndCall\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"events\":{\"Approval(address,address,uint256)\":{\"details\":\"Emitted when the allowance of a `spender` for an `owner` is set by a call to `approve`. `value` is the new allowance.\"},\"Transfer(address,address,uint256)\":{\"details\":\"Emitted when `value` tokens are moved from one account (`from`) to another (`to`). Note that `value` may be zero.\"}},\"kind\":\"dev\",\"methods\":{\"allowance(address,address)\":{\"details\":\"See `IERC20.allowance`.\"},\"approve(address,uint256)\":{\"details\":\"See `IERC20.approve`. Requirements: - `spender` cannot be the zero address.\"},\"balanceOf(address)\":{\"details\":\"See `IERC20.balanceOf`.\"},\"totalSupply()\":{\"details\":\"See `IERC20.totalSupply`.\"},\"transfer(address,uint256)\":{\"details\":\"See `IERC20.transfer`. Requirements: - `recipient` cannot be the zero address. - the caller must have a balance of at least `amount`.\"},\"transferFrom(address,address,uint256)\":{\"details\":\"See `IERC20.transferFrom`. Emits an `Approval` event indicating the updated allowance. This is not required by the EIP. See the note at the beginning of `ERC20`; Requirements: - `sender` and `recipient` cannot be the zero address. - `sender` must have a balance of at least `value`. - the caller must have allowance for `sender`'s tokens of at least `amount`.\"}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"MIN_FEE()\":{\"notice\":\"Minimal fee and application period when suggesting a new minter.\"},\"burn(uint256)\":{\"notice\":\"Anyone is allowed to burn their ZCHF.\"},\"burnFrom(address,uint256)\":{\"notice\":\"Burn someone elses ZCHF.\"},\"burnFromWithReserve(address,uint256,uint32)\":{\"notice\":\"Burns the target amount taking the tokens to be burned from the payer and the payer's reserve. The caller is only allowed to use this method for tokens also minted through the caller with the same _reservePPM amount. Example: the calling contract has previously minted 100 ZCHF with a reserve ratio of 20% (i.e. 200000 ppm). To burn half of that again, the minter calls burnFrom with a target amount of 50 ZCHF. Assuming that reserves are only 90% covered, this call will deduct 41 ZCHF from the payer's balance and 9 from the reserve, while reducing the minter reserve by 10.\"},\"burnWithReserve(uint256,uint32)\":{\"notice\":\"Burns the provided number of tokens plus whatever reserves are associated with that amount given the reserve requirement. The caller is only allowed to use this method for tokens also minted through the caller with the same _reservePPM amount. Example: the calling contract has previously minted 100 ZCHF with a reserve ratio of 20% (i.e. 200000 ppm). Now they have 41 ZCHF that they do not need so they decide to repay that amount. Assuming the reserves are only 90% covered, the call to burnWithReserve will burn the 41 plus 9 from the reserve, reducing the outstanding 'debt' of the caller by 50 ZCHF in total. This total is returned by the method so the caller knows how much less they owe.\"},\"burnWithourReserve(uint256,uint32)\":{\"notice\":\"Burn that amount without reclaiming the reserve, but freeing it up and thereby essentially donating it to the pool share holders. This can make sense in combination with 'notifyLoss', i.e. when it is the pool share holders that bear the risk and depending on the outcome they make a profit or a loss. Design rule: Minters calling this method are only allowed to so for tokens amounts they previously minted with the same _reservePPM amount. For example, if someone minted 50 ZCHF earlier with a 20% reserve requirement (200000 ppm), they got 40 ZCHF and paid 10 ZCHF into the reserve. Now they want to repay the debt by burning 50 ZCHF. When doing so using this method, 50 ZCHF get burned and on top of that, 10 ZCHF previously assigned to the minter's reserved are reassigned to the pool share holders.\"},\"calculateAssignedReserve(uint256,uint32)\":{\"notice\":\"Calculates the reserve attributable to someone who minted the given amount with the given reserve requirement. Under normal circumstances, this is just the reserver requirement multiplied by the amount. However, after a severe loss of capital that burned into the minter's reserve, this can also be less than that.\"},\"calculateFreedAmount(uint256,uint32)\":{\"notice\":\"Calculate the amount that is freed when returning amountExcludingReserve given a reserve ratio of reservePPM, taking into account potential losses. Example values in the comments.\"},\"constructor\":{\"notice\":\"Initiates the Frankencoin with the provided minimum application period for new plugins in seconds, for example 10 days, i.e. 3600*24*10 = 864000\"},\"denyMinter(address,address[],string)\":{\"notice\":\"Qualified pool share holders can deny minters during the application period. Calling this function is relatively cheap thanks to the deletion of a storage slot.\"},\"equity()\":{\"notice\":\"The amount of equity of the Frankencoin system in ZCHF, owned by the holders of Frankencoin Pool Shares. Note that the equity contract technically holds both the minter reserve as well as the equity, so the minter reserve must be subtracted. All fees and other kind of income is added to the Equity contract and essentially constitutes profits attributable to the pool share holders.\"},\"isMinter(address)\":{\"notice\":\"Returns true if the address is an approved minter.\"},\"isPosition(address)\":{\"notice\":\"Returns the address of the minter that created this position or null if the provided address is unknown.\"},\"mintWithReserve(address,uint256,uint32,uint32)\":{\"notice\":\"Mints the provided amount of ZCHF to the target address, automatically forwarding the minting fee and the reserve to the right place.\"},\"minterReserve()\":{\"notice\":\"The reserve provided by the owners of collateralized positions. The minter reserve can be used to cover losses after all else failed and the equity holders have already been wiped out.\"},\"minters(address)\":{\"notice\":\"Map of minters to approval time stamps. If the time stamp is in the past, the minter contract is allowed to mint Frankencoins.\"},\"notifyLoss(uint256)\":{\"notice\":\"Notify the Frankencoin that a minter lost economic access to some coins. This does not mean that the coins are literally lost. It just means that some ZCHF will likely never be repaid and that in order to bring the system back into balance, the lost amount of ZCHF must be removed from the reserve instead. For example, if a minter printed 1 million ZCHF for a mortgage and the mortgage turned out to be unsound with the house only yielding 800'000 in the subsequent auction, there is a loss of 200'000 that needs to be covered by the reserve.\"},\"positions(address)\":{\"notice\":\"List of positions that are allowed to mint and the minter that registered them.\"},\"registerPosition(address)\":{\"notice\":\"Registers a collateralized debt position, thereby giving it the ability to mint Frankencoins. It is assumed that the responsible minter that registers the position ensures that the position can be trusted.\"},\"reserve()\":{\"notice\":\"The contract that holds the reserve.\"},\"suggestMinter(address,uint256,uint256,string)\":{\"notice\":\"Publicly accessible method to suggest a new way of minting Frankencoin. The caller has to pay an application fee that is irrevocably lost even if the new minter is vetoed. The caller must assume that someone will veto the new minter unless there is broad consensus that the new minter adds value to the Frankencoin system. Complex proposals should have application periods and applications fees above the minimum. It is assumed that over time, informal ways to coordinate on new minters emerge. The message parameter might be useful for initiating further communication. Maybe it contains a link to a website describing the proposed minter.\"}},\"notice\":\"The Frankencoin (ZCHF) is an ERC-20 token that is designed to track the value of the Swiss franc. It is not upgradable, but open to arbitrary minting plugins. These are automatically accepted if none of the qualified pool share holders casts a veto, leading to a flexible but conservative governance.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/Frankencoin.sol\":\"Frankencoin\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/Equity.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"./Frankencoin.sol\\\";\\nimport \\\"./utils/MathUtil.sol\\\";\\nimport \\\"./interface/IReserve.sol\\\";\\nimport \\\"./interface/IERC677Receiver.sol\\\";\\n\\n/**\\n * If the Frankencoin system was a bank, this contract would represent the equity on its balance sheet.\\n * Like with a corporation, the owners of the equity capital are the shareholders, or in this case the holders\\n * of Frankencoin Pool Shares (FPS) tokens. Anyone can mint additional FPS tokens by adding Frankencoins to the\\n * reserve pool. Also, FPS tokens can be redeemed for Frankencoins again after a minimum holding period.\\n * Furthermore, the FPS shares come with some voting power. Anyone that held at least 3% of the holding-period-\\n * weighted reserve pool shares gains veto power and can veto new proposals.\\n */\\ncontract Equity is ERC20PermitLight, MathUtil, IReserve {\\n    /**\\n     * The VALUATION_FACTOR determines the market cap of the reserve pool shares relative to the equity reserves.\\n     * The following always holds: Market Cap = Valuation Factor * Equity Reserve = Price * Supply\\n     *\\n     * In the absence of profits and losses, the variables grow as follows when FPS tokens are minted:\\n     *\\n     * |   Reserve     |   Market Cap  |     Price     |     Supply   |\\n     * |          1000 |          3000 |             3 |         1000 |\\n     * |       1000000 |       3000000 |           300 |        10000 |\\n     * |    1000000000 |    3000000000 |         30000 |       100000 |\\n     * | 1000000000000 | 3000000000000 |       3000000 |      1000000 |\\n     *\\n     * I.e., the supply is proporational to the cubic root of the reserve and the price is proportional to the\\n     * squared cubic root. When profits accumulate or losses materialize, the reserve, the market cap,\\n     * and the price are adjusted proportionally, with the supply staying constant. In the absence of an extreme\\n     * inflation of the Swiss franc, it is unlikely that there will ever be more than ten million FPS.\\n     */\\n    uint32 public constant VALUATION_FACTOR = 3;\\n\\n    uint256 private constant MINIMUM_EQUITY = 1000 * ONE_DEC18;\\n\\n    /**\\n     * The quorum in basis points. 100 is 1%.\\n     */\\n    uint32 private constant QUORUM = 300;\\n\\n    /**\\n     * The number of digits to store the average holding time of share tokens.\\n     */\\n    uint8 private constant TIME_RESOLUTION_BITS = 20;\\n\\n    /**\\n     * The minimum holding duration. You are not allowed to redeem your pool shares if you held them\\n     * for less than the minimum holding duration at average. For example, if you have two pool shares on your\\n     * address, one acquired 5 days ago and one acquired 105 days ago, you cannot redeem them as the average\\n     * holding duration of your shares is only 55 days < 90 days.\\n     */\\n    uint256 public constant MIN_HOLDING_DURATION =\\n        90 days << TIME_RESOLUTION_BITS; // Set to 5 for local testing\\n\\n    Frankencoin public immutable zchf;\\n\\n    /**\\n     * To track the total number of votes we need to know the number of votes at the anchor time and when the\\n     * anchor time was. This is (hopefully) stored in one 256 bit slot, with the anchor time taking 64 Bits and\\n     * the total vote count 192 Bits. Given the sub-second resolution of 20 Bits, the implicit assumption is\\n     * that the timestamp can always be stored in 44 Bits (i.e. it does not exceed half a million years). Further,\\n     * given 18 decimals (about 60 Bits), this implies that the total supply cannot exceed\\n     *   192 - 60 - 44 - 20 = 68 Bits\\n     * Here, we are also save, as 68 Bits would imply more than a trillion outstanding shares. In fact,\\n     * a limit of about 2**30 shares (that's 2**90 Bits when taking into account the decimals) is imposed\\n     * when minting. This means that the maximum supply is about a billion shares, which is reached at a market\\n     * cap of 3,000,000,000,000,000,000 CHF. This limit could in theory be reached in times of hyper inflaction.\\n     */\\n    uint192 private totalVotesAtAnchor; // Total number of votes at the anchor time, see comment on the um\\n    uint64 private totalVotesAnchorTime; // 44 Bit for the time stamp, 20 Bit sub-second time resolution\\n\\n    /**\\n     * Keeping track on who delegated votes to whom.\\n     * Note that delegation does not mean you cannot vote / veto any more, it just means that the delegate can\\n     * benefit from your votes when invoking a veto. Circular delegations are valid, do not help when voting.\\n     */\\n    mapping(address owner => address delegate) public delegates;\\n\\n    /**\\n     * A time stamp in the past such that: votes = balance * (time passed since anchor was set)\\n     */\\n    mapping(address owner => uint64 timestamp) private voteAnchor; // 44 Bit for the time stamp, 20 Bit sub-second time resolution\\n\\n    event Delegation(address indexed from, address indexed to); // indicates a delegation\\n    event Trade(address who, int amount, uint totPrice, uint newprice); // amount pos or neg for mint or redemption\\n\\n    constructor(Frankencoin zchf_) ERC20(18) {\\n        zchf = zchf_;\\n    }\\n\\n    function name() external pure override returns (string memory) {\\n        return \\\"Frankencoin Pool Share\\\";\\n    }\\n\\n    function symbol() external pure override returns (string memory) {\\n        return \\\"FPS\\\";\\n    }\\n\\n    /**\\n     * Returns the price of one FPS in ZCHF with 18 decimals precision.\\n     */\\n    function price() public view returns (uint256) {\\n        uint256 equity = zchf.equity();\\n        if (equity == 0 || totalSupply() == 0) {\\n            return ONE_DEC18; // initial price is 1000 ZCHF for the first 1000 FPS\\n        } else {\\n            return\\n                (VALUATION_FACTOR * zchf.equity() * ONE_DEC18) / totalSupply();\\n        }\\n    }\\n\\n    function _beforeTokenTransfer(\\n        address from,\\n        address to,\\n        uint256 amount\\n    ) internal override {\\n        super._beforeTokenTransfer(from, to, amount);\\n        if (amount > 0) {\\n            // No need to adjust the sender votes. When they send out 10% of their shares, they also lose 10% of\\n            // their votes so everything falls nicely into place.\\n            // Recipient votes should stay the same, but grow faster in the future, requiring an adjustment of the anchor.\\n            uint256 roundingLoss = _adjustRecipientVoteAnchor(to, amount);\\n            // The total also must be adjusted and kept accurate by taking into account the rounding error.\\n            _adjustTotalVotes(from, amount, roundingLoss);\\n        }\\n    }\\n\\n    /**\\n     * Returns whether the given address is allowed to redeem FPS, which is the\\n     * case after their average holding duration is larger than the required minimum.\\n     */\\n    function canRedeem(address owner) public view returns (bool) {\\n        return _anchorTime() - voteAnchor[owner] >= MIN_HOLDING_DURATION;\\n    }\\n\\n    /**\\n     * @notice Decrease the total votes anchor when tokens lose their voting power due to being moved\\n     * @param from      sender\\n     * @param amount    amount to be sent\\n     */\\n    function _adjustTotalVotes(\\n        address from,\\n        uint256 amount,\\n        uint256 roundingLoss\\n    ) internal {\\n        uint64 time = _anchorTime();\\n        uint256 lostVotes = from == address(0x0)\\n            ? 0\\n            : (time - voteAnchor[from]) * amount;\\n        totalVotesAtAnchor = uint192(totalVotes() - roundingLoss - lostVotes);\\n        totalVotesAnchorTime = time;\\n    }\\n\\n    /**\\n     * @notice the vote anchor of the recipient is moved forward such that the number of calculated\\n     * votes does not change despite the higher balance.\\n     * @param to        receiver address\\n     * @param amount    amount to be received\\n     * @return the number of votes lost due to rounding errors\\n     */\\n    function _adjustRecipientVoteAnchor(\\n        address to,\\n        uint256 amount\\n    ) internal returns (uint256) {\\n        if (to != address(0x0)) {\\n            uint256 recipientVotes = votes(to); // for example 21 if 7 shares were held for 3 seconds\\n            uint256 newbalance = balanceOf(to) + amount; // for example 11 if 4 shares are added\\n            voteAnchor[to] = uint64(\\n                _anchorTime() - recipientVotes / newbalance\\n            ); // new example anchor is only 21 / 11 = 1 second in the past\\n            return recipientVotes % newbalance; // we have lost 21 % 11 = 10 votes\\n        } else {\\n            // optimization for burn, vote anchor of null address does not matter\\n            return 0;\\n        }\\n    }\\n\\n    /**\\n     * Time stamp with some additional bits for higher resolution.\\n     */\\n    function _anchorTime() internal view returns (uint64) {\\n        return uint64(block.timestamp << TIME_RESOLUTION_BITS);\\n    }\\n\\n    /**\\n     * The relative voting power of the address. 1e18 is 100%.\\n     */\\n    function relativeVotes(address holder) external view returns (uint256) {\\n        return (ONE_DEC18 * votes(holder)) / totalVotes();\\n    }\\n\\n    /**\\n     * The votes of the holder, excluding votes from delegates.\\n     */\\n    function votes(address holder) public view returns (uint256) {\\n        return balanceOf(holder) * (_anchorTime() - voteAnchor[holder]);\\n    }\\n\\n    /**\\n     * Total number of votes in the system.\\n     */\\n    function totalVotes() public view returns (uint256) {\\n        return\\n            totalVotesAtAnchor +\\n            totalSupply() *\\n            (_anchorTime() - totalVotesAnchorTime);\\n    }\\n\\n    function votesDelegated(\\n        address sender,\\n        address[] calldata helpers\\n    ) public view returns (uint256) {\\n        uint256 _votes = votes(sender);\\n        require(_checkDuplicatesAndSorted(helpers));\\n        for (uint i = 0; i < helpers.length; i++) {\\n            address current = helpers[i];\\n            require(current != sender);\\n            require(_canVoteFor(sender, current));\\n            _votes += votes(current);\\n        }\\n        return _votes;\\n    }\\n\\n    function _checkDuplicatesAndSorted(\\n        address[] calldata helpers\\n    ) internal pure returns (bool ok) {\\n        if (helpers.length <= 1) {\\n            return true;\\n        } else {\\n            address prevAddress = helpers[0];\\n            for (uint i = 1; i < helpers.length; i++) {\\n                if (helpers[i] <= prevAddress) {\\n                    return false;\\n                }\\n                prevAddress = helpers[i];\\n            }\\n            return true;\\n        }\\n    }\\n\\n    /**\\n     * Checks whether the sender address is qualified given a list of helpers that delegated their votes\\n     * directly or indirectly to the sender. It is the responsiblity of the caller to figure out whether\\n     * helpes are necessary and to identify them by scanning the blockchain for Delegation events.\\n     */\\n    function checkQualified(\\n        address sender,\\n        address[] calldata helpers\\n    ) public view override {\\n        uint256 _votes = votesDelegated(sender, helpers);\\n        if (_votes * 10000 < QUORUM * totalVotes()) revert NotQualified();\\n    }\\n\\n    error NotQualified();\\n\\n    /**\\n     * Increases the voting power of the delegate by your number of votes without taking away any voting power\\n     * from the sender.\\n     */\\n    function delegateVoteTo(address delegate) external {\\n        delegates[msg.sender] = delegate;\\n        emit Delegation(msg.sender, delegate);\\n    }\\n\\n    function _canVoteFor(\\n        address delegate,\\n        address owner\\n    ) internal view returns (bool) {\\n        if (owner == delegate) {\\n            return true;\\n        } else if (owner == address(0x0)) {\\n            return false;\\n        } else {\\n            return _canVoteFor(delegate, delegates[owner]);\\n        }\\n    }\\n\\n    /**\\n     * Since quorum is rather low, it is important to have a way to prevent malicious minority holders\\n     * from blocking the whole system. This method provides a way for the good guys to team up and destroy\\n     * the bad guy's votes (at the cost of also reducing their own votes). This mechanism potentially\\n     * gives full control over the system to whoever has 51% of the votes.\\n     *\\n     * Since this is a rather aggressive measure, delegation is not supported. Every holder must call this\\n     * method on their own.\\n     */\\n    function kamikaze(address target, uint256 votesToDestroy) external {\\n        uint256 destroyedVotes = _reduceVotes(msg.sender, votesToDestroy);\\n        destroyedVotes += _reduceVotes(target, votesToDestroy);\\n        totalVotesAtAnchor = uint192(totalVotes() - destroyedVotes);\\n        totalVotesAnchorTime = _anchorTime();\\n    }\\n\\n    function _reduceVotes(\\n        address target,\\n        uint256 amount\\n    ) internal returns (uint256) {\\n        uint256 votesBefore = votes(target);\\n        require(votesBefore >= amount, \\\"not enough votes\\\");\\n        voteAnchor[target] = uint64(\\n            _anchorTime() - (votesBefore - amount) / balanceOf(target)\\n        );\\n        return votesBefore - votes(target);\\n    }\\n\\n    function invest(\\n        uint256 amount,\\n        uint256 expectedShares\\n    ) external returns (uint256) {\\n        zchf.transferFrom(msg.sender, address(this), amount);\\n        uint256 shares = _createShares(msg.sender, amount);\\n        require(shares >= expectedShares);\\n        return shares;\\n    }\\n\\n    /**\\n     * In order to mint new FPS tokens, one needs to send ZCHF to this contract using the transferAndCall function\\n     * in the ZCHF contract.\\n     *\\n     * If equity is close to zero or negative, you need to send enough ZCHF to bring equity back to 1000 ZCHF.\\n     */\\n    function onTokenTransfer(\\n        address from,\\n        uint256 amount,\\n        bytes calldata\\n    ) external returns (bool) {\\n        require(msg.sender == address(zchf), \\\"caller must be zchf\\\");\\n        _createShares(from, amount);\\n        return true;\\n    }\\n\\n    function _createShares(\\n        address from,\\n        uint256 amount\\n    ) internal returns (uint256) {\\n        uint256 equity = zchf.equity();\\n        require(equity >= MINIMUM_EQUITY, \\\"insuf equity\\\"); // ensures that the initial deposit is at least 1000 ZCHF\\n\\n        // Assign 1000 FPS for the initial deposit, calculate the amount otherwise\\n        uint256 shares = equity <= amount\\n            ? 1000 * ONE_DEC18\\n            : _calculateShares(equity - amount, amount);\\n        _mint(from, shares);\\n        emit Trade(from, int(shares), amount, price());\\n\\n        // limit the total supply to a reasonable amount to guard against overflows with price and vote calculations\\n        // the 128 bits are 68 bits for magnitude and 60 bits for precision, as calculated in an above comment\\n        require(totalSupply() <= type(uint128).max, \\\"total supply exceeded\\\");\\n        return shares;\\n    }\\n\\n    /**\\n     * @notice Calculate shares received when depositing ZCHF\\n     * @param investment ZCHF invested\\n     * @return amount of shares received for the ZCHF invested\\n     */\\n    function calculateShares(uint256 investment) public view returns (uint256) {\\n        return _calculateShares(zchf.equity(), investment);\\n    }\\n\\n    function _calculateShares(\\n        uint256 capitalBefore,\\n        uint256 investment\\n    ) internal view returns (uint256) {\\n        uint256 totalShares = totalSupply();\\n        uint256 investmentExFees = (investment * 997) / 1000;\\n        uint256 newTotalShares = totalShares < 1000 * ONE_DEC18\\n            ? 1000 * ONE_DEC18\\n            : _mulD18(\\n                totalShares,\\n                _cubicRoot(\\n                    _divD18(capitalBefore + investmentExFees, capitalBefore)\\n                )\\n            );\\n        return newTotalShares - totalShares;\\n    }\\n\\n    /**\\n     * Redeem the given amount of shares owned by the sender and transfer the proceeds to the target.\\n     */\\n    function redeem(address target, uint256 shares) public returns (uint256) {\\n        require(canRedeem(msg.sender));\\n        uint256 proceeds = calculateProceeds(shares);\\n        _burn(msg.sender, shares);\\n        zchf.transfer(target, proceeds);\\n        emit Trade(msg.sender, -int(shares), proceeds, price());\\n        return proceeds;\\n    }\\n\\n    function redeemExpected(\\n        address target,\\n        uint256 shares,\\n        uint256 expectedProceeds\\n    ) external returns (uint256) {\\n        uint256 proceeds = redeem(target, shares);\\n        require(proceeds >= expectedProceeds);\\n        return proceeds;\\n    }\\n\\n    /**\\n     * @notice Calculate ZCHF received when depositing shares\\n     * @param shares number of shares we want to exchange for ZCHF,\\n     *               in dec18 format\\n     * @return amount of ZCHF received for the shares\\n     */\\n    function calculateProceeds(uint256 shares) public view returns (uint256) {\\n        uint256 totalShares = totalSupply();\\n        require(shares + ONE_DEC18 < totalShares, \\\"too many shares\\\"); // make sure there is always at least one share\\n        uint256 capital = zchf.equity();\\n        uint256 reductionAfterFees = (shares * 997) / 1000;\\n        uint256 newCapital = _mulD18(\\n            capital,\\n            _power3(_divD18(totalShares - reductionAfterFees, totalShares))\\n        );\\n        return capital - newCapital;\\n    }\\n\\n    /**\\n     * If there is less than 1000 ZCHF in equity left (maybe even negative), the system is at risk\\n     * and we should allow qualified FPS holders to restructure the system.\\n     *\\n     * Example: there was a devastating loss and equity stands at -1'000'000. Most shareholders have lost hope in the\\n     * Frankencoin system except for a group of small FPS holders who still believes in it and is willing to provide\\n     * 2'000'000 ZCHF to save it. These brave souls are essentially donating 1'000'000 to the minter reserve and it\\n     * would be wrong to force them to share the other million with the passive FPS holders. Instead, they will get\\n     * the possibility to bootstrap the system again owning 100% of all FPS shares.\\n     */\\n    function restructureCapTable(\\n        address[] calldata helpers,\\n        address[] calldata addressesToWipe\\n    ) external {\\n        require(zchf.equity() < MINIMUM_EQUITY);\\n        checkQualified(msg.sender, helpers);\\n        for (uint256 i = 0; i < addressesToWipe.length; i++) {\\n            address current = addressesToWipe[i];\\n            _burn(current, balanceOf(current));\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x2b8b566040ca21e78984bf6e158cd832da2a865c35bab752c8a6f7798626287b\",\"license\":\"MIT\"},\"contracts/Frankencoin.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\nimport \\\"./utils/ERC20PermitLight.sol\\\";\\nimport \\\"./Equity.sol\\\";\\nimport \\\"./interface/IReserve.sol\\\";\\nimport \\\"./interface/IFrankencoin.sol\\\";\\n\\n/**\\n * The Frankencoin (ZCHF) is an ERC-20 token that is designed to track the value of the Swiss franc.\\n * It is not upgradable, but open to arbitrary minting plugins. These are automatically accepted if none of the\\n * qualified pool share holders casts a veto, leading to a flexible but conservative governance.\\n */\\ncontract Frankencoin is ERC20PermitLight, IFrankencoin {\\n    /**\\n     * Minimal fee and application period when suggesting a new minter.\\n     */\\n    uint256 public constant MIN_FEE = 1000 * (10 ** 18);\\n    uint256 public immutable MIN_APPLICATION_PERIOD; // for example 10 days\\n\\n    /**\\n     * The contract that holds the reserve.\\n     */\\n    IReserve public immutable override reserve;\\n\\n    /**\\n     * How much of the reserve belongs to the minters.\\n     * Everything else belongs to the pool share holders.\\n     * Stored with 6 additional digits of accuracy so no rounding is necessary\\n     * when dealing with parts per million (ppm) in reserve calculations.\\n     */\\n    uint256 private minterReserveE6;\\n\\n    /**\\n     * Map of minters to approval time stamps. If the time stamp is in the past, the minter contract is allowed\\n     * to mint Frankencoins.\\n     */\\n    mapping(address minter => uint256 validityStart) public minters;\\n\\n    /**\\n     * List of positions that are allowed to mint and the minter that registered them.\\n     */\\n    mapping(address position => address registeringMinter) public positions;\\n\\n    event MinterApplied(\\n        address indexed minter,\\n        uint256 applicationPeriod,\\n        uint256 applicationFee,\\n        string message\\n    );\\n    event MinterDenied(address indexed minter, string message);\\n    event Loss(\\n        address indexed reportingMinter,\\n        uint256 amount,\\n        uint256 reserve\\n    );\\n\\n    modifier minterOnly() {\\n        if (!isMinter(msg.sender) && !isMinter(positions[msg.sender]))\\n            revert NotMinter();\\n        _;\\n    }\\n\\n    /**\\n     * Initiates the Frankencoin with the provided minimum application period for new plugins\\n     * in seconds, for example 10 days, i.e. 3600*24*10 = 864000\\n     */\\n    constructor(uint256 _minApplicationPeriod) ERC20(18) {\\n        MIN_APPLICATION_PERIOD = _minApplicationPeriod;\\n        reserve = new Equity(this);\\n    }\\n\\n    function name() external pure override returns (string memory) {\\n        return \\\"Frankencoin\\\";\\n    }\\n\\n    function symbol() external pure override returns (string memory) {\\n        return \\\"ZCHF\\\";\\n    }\\n\\n    function initialize(address _minter, string calldata _message) external {\\n        require(totalSupply() == 0 && reserve.totalSupply() == 0);\\n        minters[_minter] = block.timestamp;\\n        emit MinterApplied(_minter, 0, 0, _message);\\n    }\\n\\n    /**\\n     * Publicly accessible method to suggest a new way of minting Frankencoin.\\n     *\\n     * The caller has to pay an application fee that is irrevocably lost even if the new minter is vetoed.\\n     *\\n     * The caller must assume that someone will veto the new minter unless there is broad consensus that the new minter\\n     * adds value to the Frankencoin system. Complex proposals should have application periods and applications fees above\\n     * the minimum. It is assumed that over time, informal ways to coordinate on new minters emerge. The message parameter\\n     * might be useful for initiating further communication. Maybe it contains a link to a website describing the proposed\\n     * minter.\\n     */\\n    function suggestMinter(\\n        address _minter,\\n        uint256 _applicationPeriod,\\n        uint256 _applicationFee,\\n        string calldata _message\\n    ) external override {\\n        if (_applicationPeriod < MIN_APPLICATION_PERIOD)\\n            revert PeriodTooShort();\\n        if (_applicationFee < MIN_FEE) revert FeeTooLow();\\n        if (minters[_minter] != 0) revert AlreadyRegistered();\\n        _transfer(msg.sender, address(reserve), _applicationFee);\\n        minters[_minter] = block.timestamp + _applicationPeriod;\\n        emit MinterApplied(\\n            _minter,\\n            _applicationPeriod,\\n            _applicationFee,\\n            _message\\n        );\\n    }\\n\\n    error PeriodTooShort();\\n    error FeeTooLow();\\n    error AlreadyRegistered();\\n\\n    /**\\n     * Make the system more user friendly by skipping the allowance in many cases.\\n     *\\n     * We trust minters and the positions they have created to mint and burn as they please, so\\n     * giving them arbitraty allowances does not pose an additional risk.\\n     */\\n    function _allowance(\\n        address owner,\\n        address spender\\n    ) internal view override returns (uint256) {\\n        uint256 explicit = super._allowance(owner, spender);\\n        if (explicit > 0) {\\n            return explicit; // don't waste gas checking minter\\n        } else if (isMinter(spender) || isMinter(isPosition(spender))) {\\n            return INFINITY;\\n        } else {\\n            return 0;\\n        }\\n    }\\n\\n    /**\\n     * The reserve provided by the owners of collateralized positions.\\n     * The minter reserve can be used to cover losses after all else failed and the equity holders have already been wiped out.\\n     */\\n    function minterReserve() public view returns (uint256) {\\n        return minterReserveE6 / 1000000;\\n    }\\n\\n    /**\\n     * Registers a collateralized debt position, thereby giving it the ability to mint Frankencoins.\\n     * It is assumed that the responsible minter that registers the position ensures that the position can be trusted.\\n     */\\n    function registerPosition(address _position) external override {\\n        if (!isMinter(msg.sender)) revert NotMinter();\\n        positions[_position] = msg.sender;\\n    }\\n\\n    error NotMinter();\\n\\n    /**\\n     * The amount of equity of the Frankencoin system in ZCHF, owned by the holders of Frankencoin Pool Shares.\\n     * Note that the equity contract technically holds both the minter reserve as well as the equity, so the minter\\n     * reserve must be subtracted. All fees and other kind of income is added to the Equity contract and essentially\\n     * constitutes profits attributable to the pool share holders.\\n     */\\n    function equity() public view returns (uint256) {\\n        uint256 balance = balanceOf(address(reserve));\\n        uint256 minReserve = minterReserve();\\n        if (balance <= minReserve) {\\n            return 0;\\n        } else {\\n            return balance - minReserve;\\n        }\\n    }\\n\\n    /**\\n     * Qualified pool share holders can deny minters during the application period.\\n     * Calling this function is relatively cheap thanks to the deletion of a storage slot.\\n     */\\n    function denyMinter(\\n        address _minter,\\n        address[] calldata _helpers,\\n        string calldata _message\\n    ) external override {\\n        if (block.timestamp > minters[_minter]) revert TooLate();\\n        reserve.checkQualified(msg.sender, _helpers);\\n        delete minters[_minter];\\n        emit MinterDenied(_minter, _message);\\n    }\\n\\n    error TooLate();\\n\\n    /**\\n     * Mints the provided amount of ZCHF to the target address, automatically forwarding\\n     * the minting fee and the reserve to the right place.\\n     */\\n    function mintWithReserve(\\n        address _target,\\n        uint256 _amount,\\n        uint32 _reservePPM,\\n        uint32 _feesPPM\\n    ) external override minterOnly {\\n        uint256 usableMint = (_amount * (1000_000 - _feesPPM - _reservePPM)) /\\n            1000_000; // rounding down is fine\\n        _mint(_target, usableMint);\\n        _mint(address(reserve), _amount - usableMint); // rest goes to equity as reserves or as fees\\n        minterReserveE6 += _amount * _reservePPM; // minter reserve must be kept accurately in order to ensure we can get back to exactly 0\\n    }\\n\\n    function mint(\\n        address _target,\\n        uint256 _amount\\n    ) external override minterOnly {\\n        _mint(_target, _amount);\\n    }\\n\\n    /**\\n     * Anyone is allowed to burn their ZCHF.\\n     */\\n    function burn(uint256 _amount) external {\\n        _burn(msg.sender, _amount);\\n    }\\n\\n    /**\\n     * Burn someone elses ZCHF.\\n     */\\n    function burnFrom(\\n        address _owner,\\n        uint256 _amount\\n    ) external override minterOnly {\\n        _burn(_owner, _amount);\\n    }\\n\\n    /**\\n     * Burn that amount without reclaiming the reserve, but freeing it up and thereby essentially donating it to the pool\\n     * share holders. This can make sense in combination with 'notifyLoss', i.e. when it is the pool share holders that bear the risk\\n     * and depending on the outcome they make a profit or a loss.\\n     *\\n     * Design rule: Minters calling this method are only allowed to so for tokens amounts they previously minted with the same _reservePPM amount.\\n     *\\n     * For example, if someone minted 50 ZCHF earlier with a 20% reserve requirement (200000 ppm), they got 40 ZCHF and paid\\n     * 10 ZCHF into the reserve. Now they want to repay the debt by burning 50 ZCHF. When doing so using this method, 50 ZCHF get\\n     * burned and on top of that, 10 ZCHF previously assigned to the minter's reserved are reassigned to the pool share holders.\\n     */\\n    function burnWithourReserve(\\n        uint256 amount,\\n        uint32 reservePPM\\n    ) external override minterOnly {\\n        _burn(msg.sender, amount);\\n        minterReserveE6 -= amount * reservePPM;\\n    }\\n\\n    /**\\n     * Burns the provided number of tokens plus whatever reserves are associated with that amount given the reserve requirement.\\n     * The caller is only allowed to use this method for tokens also minted through the caller with the same _reservePPM amount.\\n     *\\n     * Example: the calling contract has previously minted 100 ZCHF with a reserve ratio of 20% (i.e. 200000 ppm). Now they have\\n     * 41 ZCHF that they do not need so they decide to repay that amount. Assuming the reserves are only 90% covered,\\n     * the call to burnWithReserve will burn the 41 plus 9 from the reserve, reducing the outstanding 'debt' of the caller by\\n     * 50 ZCHF in total. This total is returned by the method so the caller knows how much less they owe.\\n     */\\n    function burnWithReserve(\\n        uint256 _amountExcludingReserve,\\n        uint32 _reservePPM\\n    ) external override minterOnly returns (uint256) {\\n        uint256 freedAmount = calculateFreedAmount(\\n            _amountExcludingReserve,\\n            _reservePPM\\n        ); // this would be the 50 in the example\\n        minterReserveE6 -= freedAmount * _reservePPM; // reduce reserve requirements by original ratio\\n        _transfer(\\n            address(reserve),\\n            msg.sender,\\n            freedAmount - _amountExcludingReserve\\n        ); // collect assigned reserve, maybe less than original reserve\\n        _burn(msg.sender, freedAmount); // burn the rest of the freed amount\\n        return freedAmount;\\n    }\\n\\n    /**\\n     * Burns the target amount taking the tokens to be burned from the payer and the payer's reserve.\\n     * The caller is only allowed to use this method for tokens also minted through the caller with the same _reservePPM amount.\\n     *\\n     * Example: the calling contract has previously minted 100 ZCHF with a reserve ratio of 20% (i.e. 200000 ppm). To burn half\\n     * of that again, the minter calls burnFrom with a target amount of 50 ZCHF. Assuming that reserves are only 90% covered,\\n     * this call will deduct 41 ZCHF from the payer's balance and 9 from the reserve, while reducing the minter reserve by 10.\\n     */\\n    function burnFromWithReserve(\\n        address payer,\\n        uint256 targetTotalBurnAmount,\\n        uint32 reservePPM\\n    ) external override minterOnly returns (uint256) {\\n        uint256 assigned = calculateAssignedReserve(\\n            targetTotalBurnAmount,\\n            reservePPM\\n        );\\n        _transfer(address(reserve), payer, assigned); // send reserve to owner\\n        _burn(payer, targetTotalBurnAmount); // and burn the full amount from the owner's address\\n        minterReserveE6 -= targetTotalBurnAmount * reservePPM; // reduce reserve requirements by original ratio\\n        return assigned;\\n    }\\n\\n    /**\\n     * Calculates the reserve attributable to someone who minted the given amount with the given reserve requirement.\\n     * Under normal circumstances, this is just the reserver requirement multiplied by the amount. However, after a severe loss\\n     * of capital that burned into the minter's reserve, this can also be less than that.\\n     */\\n    function calculateAssignedReserve(\\n        uint256 mintedAmount,\\n        uint32 _reservePPM\\n    ) public view returns (uint256) {\\n        uint256 theoreticalReserve = (_reservePPM * mintedAmount) / 1000000;\\n        uint256 currentReserve = balanceOf(address(reserve));\\n        uint256 minterReserve_ = minterReserve();\\n        if (currentReserve < minterReserve_) {\\n            // not enough reserves, owner has to take a loss\\n            return (theoreticalReserve * currentReserve) / minterReserve_;\\n        } else {\\n            return theoreticalReserve;\\n        }\\n    }\\n\\n    /**\\n     * Calculate the amount that is freed when returning amountExcludingReserve given a reserve ratio of reservePPM, taking\\n     * into account potential losses. Example values in the comments.\\n     */\\n    function calculateFreedAmount(\\n        uint256 amountExcludingReserve /* 41 */,\\n        uint32 reservePPM /* 20% */\\n    ) public view returns (uint256) {\\n        uint256 currentReserve = balanceOf(address(reserve)); // 18, 10% below what we should have\\n        uint256 minterReserve_ = minterReserve(); // 20\\n        uint256 adjustedReservePPM = currentReserve < minterReserve_\\n            ? (reservePPM * currentReserve) / minterReserve_\\n            : reservePPM; // 18%\\n        return\\n            (1000000 * amountExcludingReserve) / (1000000 - adjustedReservePPM); // 41 / (1-18%) = 50\\n    }\\n\\n    /**\\n     * Notify the Frankencoin that a minter lost economic access to some coins. This does not mean that the coins\\n     * are literally lost. It just means that some ZCHF will likely never be repaid and that in order to bring the system\\n     * back into balance, the lost amount of ZCHF must be removed from the reserve instead.\\n     *\\n     * For example, if a minter printed 1 million ZCHF for a mortgage and the mortgage turned out to be unsound with the\\n     * house only yielding 800'000 in the subsequent auction, there is a loss of 200'000 that needs to be covered by the\\n     * reserve.\\n     */\\n    function notifyLoss(uint256 _amount) external override minterOnly {\\n        uint256 reserveLeft = balanceOf(address(reserve));\\n        if (reserveLeft >= _amount) {\\n            _transfer(address(reserve), msg.sender, _amount);\\n        } else {\\n            _transfer(address(reserve), msg.sender, reserveLeft);\\n            _mint(msg.sender, _amount - reserveLeft);\\n        }\\n        emit Loss(msg.sender, _amount, reserveLeft);\\n    }\\n\\n    /**\\n     * Returns true if the address is an approved minter.\\n     */\\n    function isMinter(address _minter) public view override returns (bool) {\\n        return minters[_minter] != 0 && block.timestamp >= minters[_minter];\\n    }\\n\\n    /**\\n     * Returns the address of the minter that created this position or null if the provided address is unknown.\\n     */\\n    function isPosition(\\n        address _position\\n    ) public view override returns (address) {\\n        return positions[_position];\\n    }\\n}\\n\",\"keccak256\":\"0xb242362852c7059603654725f4d4b707232a63e34566ca0fd340cde7a73c2799\",\"license\":\"MIT\"},\"contracts/interface/IERC20.sol\":{\"content\":\"/**\\n* SPDX-License-Identifier: MIT\\n*\\n* Copyright (c) 2016-2019 zOS Global Limited\\n*\\n*/\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Interface of the ERC20 standard as defined in the EIP. Does not include\\n * the optional functions; to access them see `ERC20Detailed`.\\n */\\n\\ninterface IERC20 {\\n\\n    // Optional functions\\n    function name() external view returns (string memory);\\n\\n    function symbol() external view returns (string memory);\\n\\n    function decimals() external view returns (uint8);\\n\\n    /**\\n     * @dev Returns the amount of tokens in existence.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the amount of tokens owned by `account`.\\n     */\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    /**\\n     * @dev Moves `amount` tokens from the caller's account to `recipient`.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a `Transfer` event.\\n     */\\n    function transfer(address recipient, uint256 amount) external returns (bool);\\n\\n    function transferAndCall(address recipient, uint256 amount, bytes calldata data) external returns (bool);\\n\\n    /**\\n     * @dev Returns the remaining number of tokens that `spender` will be\\n     * allowed to spend on behalf of `owner` through `transferFrom`. This is\\n     * zero by default.\\n     *\\n     * This value changes when `approve` or `transferFrom` are called.\\n     */\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /**\\n     * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * > Beware that changing an allowance with this method brings the risk\\n     * that someone may use both the old and the new allowance by unfortunate\\n     * transaction ordering. One possible solution to mitigate this race\\n     * condition is to first reduce the spender's allowance to 0 and set the\\n     * desired value afterwards:\\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n     *\\n     * Emits an `Approval` event.\\n     */\\n    function approve(address spender, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Moves `amount` tokens from `sender` to `recipient` using the\\n     * allowance mechanism. `amount` is then deducted from the caller's\\n     * allowance.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a `Transfer` event.\\n     */\\n    function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n     * another (`to`).\\n     *\\n     * Note that `value` may be zero.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n    /**\\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n     * a call to `approve`. `value` is the new allowance.\\n     */\\n    event Approval(address indexed owner, address indexed spender, uint256 value);\\n\\n}\",\"keccak256\":\"0xca95e6b6324b1c92dca4759b3da5fc251053691de885f2e23021eb5abdddea9c\",\"license\":\"MIT\"},\"contracts/interface/IERC677Receiver.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\ninterface IERC677Receiver {\\n    \\n    function onTokenTransfer(address from, uint256 amount, bytes calldata data) external returns (bool);\\n\\n}\",\"keccak256\":\"0x40703acdfa2126286b117ad0cca84c0a4ca2d3b18586765186c9bdd8ad5cf744\",\"license\":\"MIT\"},\"contracts/interface/IFrankencoin.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\nimport \\\"./IERC20.sol\\\";\\nimport \\\"./IReserve.sol\\\";\\n\\ninterface IFrankencoin is IERC20 {\\n    function suggestMinter(\\n        address _minter,\\n        uint256 _applicationPeriod,\\n        uint256 _applicationFee,\\n        string calldata _message\\n    ) external;\\n\\n    function registerPosition(address position) external;\\n\\n    function denyMinter(\\n        address minter,\\n        address[] calldata helpers,\\n        string calldata message\\n    ) external;\\n\\n    function reserve() external view returns (IReserve);\\n\\n    function minterReserve() external view returns (uint256);\\n\\n    function calculateAssignedReserve(\\n        uint256 mintedAmount,\\n        uint32 _reservePPM\\n    ) external view returns (uint256);\\n\\n    function equity() external view returns (uint256);\\n\\n    function isMinter(address minter) external view returns (bool);\\n\\n    function isPosition(address position) external view returns (address);\\n\\n    function mint(address target, uint256 amount) external;\\n\\n    function mintWithReserve(\\n        address target,\\n        uint256 amount,\\n        uint32 reservePPM,\\n        uint32 feePPM\\n    ) external;\\n\\n    function burnFrom(address target, uint256 amount) external;\\n\\n    function burnWithourReserve(\\n        uint256 amountIncludingReserve,\\n        uint32 reservePPM\\n    ) external;\\n\\n    function burnFromWithReserve(\\n        address payer,\\n        uint256 targetTotalBurnAmount,\\n        uint32 _reservePPM\\n    ) external returns (uint256);\\n\\n    function burnWithReserve(\\n        uint256 amountExcludingReserve,\\n        uint32 reservePPM\\n    ) external returns (uint256);\\n\\n    function notifyLoss(uint256 amount) external;\\n}\\n\",\"keccak256\":\"0x480b5b0995e5018f73dc18c6fee19497e2ea8b549a0cdec3dc09832bdaf85b12\",\"license\":\"MIT\"},\"contracts/interface/IReserve.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\nimport \\\"./IERC20.sol\\\";\\n\\ninterface IReserve is IERC20 {\\n   function checkQualified(address sender, address[] calldata helpers) external view;\\n}\",\"keccak256\":\"0xbbb5f65cee6a43065dc16b2fa4540ab2462de86b689cc15a1e8dd2c7b87411d0\",\"license\":\"MIT\"},\"contracts/utils/ERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// Copied and adjusted from OpenZeppelin\\n// Adjustments:\\n// - modifications to support ERC-677\\n// - removed require messages to save space\\n// - removed unnecessary require statements\\n// - removed GSN Context\\n// - upgraded to 0.8 to drop SafeMath\\n// - let name() and symbol() be implemented by subclass\\n// - infinite allowance support, with 2^255 and above considered infinite\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"../interface/IERC20.sol\\\";\\nimport \\\"../interface/IERC677Receiver.sol\\\";\\n\\n/**\\n * @dev Implementation of the `IERC20` interface.\\n *\\n * This implementation is agnostic to the way tokens are created. This means\\n * that a supply mechanism has to be added in a derived contract using `_mint`.\\n * For a generic mechanism see `ERC20Mintable`.\\n *\\n * *For a detailed writeup see our guide [How to implement supply\\n * mechanisms](https://forum.zeppelin.solutions/t/how-to-implement-erc20-supply-mechanisms/226).*\\n *\\n * We have followed general OpenZeppelin guidelines: functions revert instead\\n * of returning `false` on failure. This behavior is nonetheless conventional\\n * and does not conflict with the expectations of ERC20 applications.\\n *\\n * Additionally, an `Approval` event is emitted on calls to `transferFrom`.\\n * This allows applications to reconstruct the allowance for all accounts just\\n * by listening to said events. Other implementations of the EIP may not emit\\n * these events, as it isn't required by the specification.\\n *\\n * Finally, the non-standard `decreaseAllowance` and `increaseAllowance`\\n * functions have been added to mitigate the well-known issues around setting\\n * allowances. See `IERC20.approve`.\\n */\\n\\nabstract contract ERC20 is IERC20 {\\n    mapping(address account => uint256 balance) private _balances;\\n\\n    mapping(address account => mapping(address spender => uint256 allowance))\\n        private _allowances;\\n\\n    uint256 internal constant INFINITY = (1 << 255);\\n\\n    uint256 private _totalSupply;\\n\\n    uint8 public immutable override decimals;\\n\\n    // Copied from https://github.com/OpenZeppelin/openzeppelin-contracts/pull/4139/files#diff-fa792f7d08644eebc519dac2c29b00a54afc4c6a76b9ef3bba56c8401fe674f6\\n    // Indicates an error related to the current balance of a sender. Used in transfers.\\n    error ERC20InsufficientBalance(\\n        address sender,\\n        uint256 balance,\\n        uint256 needed\\n    );\\n    // Indicates a failure with the spender\\u2019s allowance. Used in transfers.\\n    error ERC20InsufficientAllowance(\\n        address spender,\\n        uint256 allowance,\\n        uint256 needed\\n    );\\n\\n    constructor(uint8 _decimals) {\\n        decimals = _decimals;\\n    }\\n\\n    /**\\n     * @dev See `IERC20.totalSupply`.\\n     */\\n    function totalSupply() public view override returns (uint256) {\\n        return _totalSupply;\\n    }\\n\\n    /**\\n     * @dev See `IERC20.balanceOf`.\\n     */\\n    function balanceOf(address account) public view override returns (uint256) {\\n        return _balances[account];\\n    }\\n\\n    /**\\n     * @dev See `IERC20.transfer`.\\n     *\\n     * Requirements:\\n     *\\n     * - `recipient` cannot be the zero address.\\n     * - the caller must have a balance of at least `amount`.\\n     */\\n    function transfer(\\n        address recipient,\\n        uint256 amount\\n    ) public virtual override returns (bool) {\\n        _transfer(msg.sender, recipient, amount);\\n        return true;\\n    }\\n\\n    /**\\n     * @dev See `IERC20.allowance`.\\n     */\\n    function allowance(\\n        address owner,\\n        address spender\\n    ) external view override returns (uint256) {\\n        return _allowance(owner, spender);\\n    }\\n\\n    function _allowance(\\n        address owner,\\n        address spender\\n    ) internal view virtual returns (uint256) {\\n        return _allowances[owner][spender];\\n    }\\n\\n    /**\\n     * @dev See `IERC20.approve`.\\n     *\\n     * Requirements:\\n     *\\n     * - `spender` cannot be the zero address.\\n     */\\n    function approve(\\n        address spender,\\n        uint256 value\\n    ) external override returns (bool) {\\n        _approve(msg.sender, spender, value);\\n        return true;\\n    }\\n\\n    /**\\n     * @dev See `IERC20.transferFrom`.\\n     *\\n     * Emits an `Approval` event indicating the updated allowance. This is not\\n     * required by the EIP. See the note at the beginning of `ERC20`;\\n     *\\n     * Requirements:\\n     * - `sender` and `recipient` cannot be the zero address.\\n     * - `sender` must have a balance of at least `value`.\\n     * - the caller must have allowance for `sender`'s tokens of at least\\n     * `amount`.\\n     */\\n    function transferFrom(\\n        address sender,\\n        address recipient,\\n        uint256 amount\\n    ) external override returns (bool) {\\n        _transfer(sender, recipient, amount);\\n        uint256 currentAllowance = _allowance(sender, msg.sender);\\n        if (currentAllowance < INFINITY) {\\n            // Only decrease the allowance if it was not set to 'infinite'\\n            // Documented in /doc/infiniteallowance.md\\n            if (currentAllowance < amount)\\n                revert ERC20InsufficientAllowance(\\n                    sender,\\n                    currentAllowance,\\n                    amount\\n                );\\n            _approve(sender, msg.sender, currentAllowance - amount);\\n        }\\n        return true;\\n    }\\n\\n    /**\\n     * @dev Moves tokens `amount` from `sender` to `recipient`.\\n     *\\n     * This is internal function is equivalent to `transfer`, and can be used to\\n     * e.g. implement automatic token fees, slashing mechanisms, etc.\\n     *\\n     * Emits a `Transfer` event.\\n     *\\n     * Requirements:\\n     *\\n     * - `sender` cannot be the zero address.\\n     * - `recipient` cannot be the zero address.\\n     * - `sender` must have a balance of at least `amount`.\\n     */\\n    function _transfer(\\n        address sender,\\n        address recipient,\\n        uint256 amount\\n    ) internal virtual {\\n        require(recipient != address(0));\\n\\n        _beforeTokenTransfer(sender, recipient, amount);\\n        if (_balances[sender] < amount)\\n            revert ERC20InsufficientBalance(sender, _balances[sender], amount);\\n        _balances[sender] -= amount;\\n        _balances[recipient] += amount;\\n        emit Transfer(sender, recipient, amount);\\n    }\\n\\n    // ERC-677 functionality, can be useful for swapping and wrapping tokens\\n    function transferAndCall(\\n        address recipient,\\n        uint256 amount,\\n        bytes calldata data\\n    ) external override returns (bool) {\\n        bool success = transfer(recipient, amount);\\n        if (success) {\\n            success = IERC677Receiver(recipient).onTokenTransfer(\\n                msg.sender,\\n                amount,\\n                data\\n            );\\n        }\\n        return success;\\n    }\\n\\n    /** @dev Creates `amount` tokens and assigns them to `account`, increasing\\n     * the total supply.\\n     *\\n     * Emits a `Transfer` event with `from` set to the zero address.\\n     *\\n     * Requirements\\n     *\\n     * - `to` cannot be the zero address.\\n     */\\n    function _mint(address recipient, uint256 amount) internal virtual {\\n        require(recipient != address(0));\\n\\n        _beforeTokenTransfer(address(0), recipient, amount);\\n\\n        _totalSupply += amount;\\n        _balances[recipient] += amount;\\n        emit Transfer(address(0), recipient, amount);\\n    }\\n\\n    /**\\n     * @dev Destroys `amount` tokens from `account`, reducing the\\n     * total supply.\\n     *\\n     * Emits a `Transfer` event with `to` set to the zero address.\\n     *\\n     * Requirements\\n     *\\n     * - `account` cannot be the zero address.\\n     * - `account` must have at least `amount` tokens.\\n     */\\n    function _burn(address account, uint256 amount) internal virtual {\\n        _beforeTokenTransfer(account, address(0), amount);\\n\\n        _totalSupply -= amount;\\n        _balances[account] -= amount;\\n        emit Transfer(account, address(0), amount);\\n    }\\n\\n    /**\\n     * @dev Sets `amount` as the allowance of `spender` over the `owner`s tokens.\\n     *\\n     * This is internal function is equivalent to `approve`, and can be used to\\n     * e.g. set automatic allowances for certain subsystems, etc.\\n     *\\n     * Emits an `Approval` event.\\n     *\\n     * Requirements:\\n     *\\n     * - `owner` cannot be the zero address.\\n     * - `spender` cannot be the zero address.\\n     */\\n    function _approve(address owner, address spender, uint256 value) internal {\\n        _allowances[owner][spender] = value;\\n        emit Approval(owner, spender, value);\\n    }\\n\\n    /**\\n     * @dev Hook that is called before any transfer of tokens. This includes\\n     * minting and burning.\\n     *\\n     * Calling conditions:\\n     *\\n     * - when `from` and `to` are both non-zero, `amount` of ``from``'s tokens\\n     * will be to transferred to `to`.\\n     * - when `from` is zero, `amount` tokens will be minted for `to`.\\n     * - when `to` is zero, `amount` of ``from``'s tokens will be burned.\\n     * - `from` and `to` are never both zero.\\n     *\\n     * To learn more about hooks, head to xref:ROOT:extending-contracts.adoc#using-hooks[Using Hooks].\\n     */\\n    function _beforeTokenTransfer(\\n        address from,\\n        address to,\\n        uint256 amount\\n    ) internal virtual {}\\n}\\n\",\"keccak256\":\"0x30733b1264a82f59f72a22aaddff0892c47a9f3bc7a801b9c3aeb14666def56f\",\"license\":\"MIT\"},\"contracts/utils/ERC20PermitLight.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// Copied from https://github.com/transmissions11/solmate/blob/main/src/tokens/ERC20.sol\\n// and modified it.\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"./ERC20.sol\\\";\\n\\nabstract contract ERC20PermitLight is ERC20 {\\n   \\n   /*//////////////////////////////////////////////////////////////\\n                            EIP-2612 STORAGE\\n    //////////////////////////////////////////////////////////////*/\\n\\n    mapping(address account => uint256 nonce) public nonces;\\n\\n  /*//////////////////////////////////////////////////////////////\\n                             EIP-2612 LOGIC\\n    //////////////////////////////////////////////////////////////*/\\n\\n    function permit(\\n        address owner,\\n        address spender,\\n        uint256 value,\\n        uint256 deadline,\\n        uint8 v,\\n        bytes32 r,\\n        bytes32 s\\n    ) public {\\n        require(deadline >= block.timestamp, \\\"PERMIT_DEADLINE_EXPIRED\\\");\\n\\n        unchecked { // unchecked to save a little gas with the nonce increment...\\n            address recoveredAddress = ecrecover(\\n                keccak256(\\n                    abi.encodePacked(\\n                        \\\"\\\\x19\\\\x01\\\",\\n                        DOMAIN_SEPARATOR(),\\n                        keccak256(\\n                            abi.encode(\\n                                // keccak256(\\\"Permit(address owner,address spender,uint256 value,uint256 nonce,uint256 deadline)\\\"),\\n                                bytes32(0x6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c9),\\n                                owner,\\n                                spender,\\n                                value,\\n                                nonces[owner]++,\\n                                deadline\\n                            )\\n                        )\\n                    )\\n                ),\\n                v,\\n                r,\\n                s\\n            );\\n\\n            require(recoveredAddress != address(0) && recoveredAddress == owner, \\\"INVALID_SIGNER\\\");\\n            _approve(recoveredAddress, spender, value);\\n        }\\n    }\\n\\n    function DOMAIN_SEPARATOR() public view returns (bytes32) {\\n        return\\n            keccak256(\\n                abi.encode(\\n                    //keccak256(\\\"EIP712Domain(uint256 chainId,address verifyingContract)\\\");\\n                    bytes32(0x47e79534a245952e8b16893a336b85a3d9ea9fa8c573f3d803afb92a79469218),\\n                    block.chainid,\\n                    address(this)\\n                )\\n            );\\n    }\\n\\n}\",\"keccak256\":\"0xdc744632f210a6cc98465589c0b551b21cee375ba5d84d62e69d0de03444a32b\",\"license\":\"MIT\"},\"contracts/utils/MathUtil.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\n/** \\n * @title Functions for share valuation\\n */\\ncontract MathUtil {\\n\\n    uint256 internal constant ONE_DEC18 = 10**18;\\n    uint256 internal constant THRESH_DEC18 = 10000000000000000; //0.01\\n    /**\\n     * @notice Cubic root with Halley approximation\\n     *         Number 1e18 decimal\\n     * @param _v     number for which we calculate x**(1/3)\\n     * @return returns _v**(1/3)\\n     */\\n    function _cubicRoot(uint256 _v) internal pure returns (uint256) {\\n        uint256 x = ONE_DEC18;\\n        uint256 xOld;\\n        bool cond;\\n        do {\\n            xOld = x;\\n            uint256 powX3 = _mulD18(_mulD18(x, x), x);\\n            x = _mulD18(x, _divD18( (powX3 + 2 * _v) , (2 * powX3 + _v)));\\n            cond = xOld > x ? xOld - x > THRESH_DEC18 : x - xOld > THRESH_DEC18;\\n        } while ( cond );\\n        return x;\\n    }\\n\\n    /**\\n     * Divides and multiplies, with divisor > 0.\\n     */\\n    function _mulDiv(uint256 x, uint256 factor, uint256 divisor) internal pure returns(uint256) {\\n        if (factor == 0){\\n            return 0;\\n        } else if (type(uint256).max / factor > x){\\n            // divide first to avoid overflow\\n            return x > factor ? x / divisor * factor : factor / divisor * x;\\n        } else {\\n            return x * factor / divisor;\\n        }\\n    }\\n\\n    function _mulD18(uint256 _a, uint256 _b) internal pure returns(uint256) {\\n        return _a * _b / ONE_DEC18;\\n    }\\n\\n    function _divD18(uint256 _a, uint256 _b) internal pure returns(uint256) {\\n        return (_a * ONE_DEC18) / _b ;\\n    }\\n\\n    function _power3(uint256 _x) internal pure returns(uint256) {\\n        return _mulD18(_mulD18(_x, _x), _x);\\n    }\\n\\n}\",\"keccak256\":\"0x3fb2629d5ca88e1c313daf791faa0e6c3e4a830784f319a24e592c78b94266a6\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x60e060405234801562000010575f80fd5b5060405162003fce38038062003fce833981016040819052620000339162000099565b601260805260a081905260405130906200004d906200008b565b6001600160a01b039091168152602001604051809103905ff08015801562000077573d5f803e3d5ffd5b506001600160a01b031660c05250620000b1565b6121d78062001df783390190565b5f60208284031215620000aa575f80fd5b5051919050565b60805160a05160c051611cc0620001375f395f81816104ff0152818161066a015281816107ca015281816109d301528181610a1501528181610a4501528181610bb001528181610c0f01528181610cb701528181610e0201528181610f820152818161121a01526112bf01525f81816102b60152610edd01525f6103330152611cc05ff3fe608060405234801561000f575f80fd5b5060043610610213575f3560e01c806379cc67901161011f578063b52c696d116100a9578063d505accf11610079578063d505accf1461053c578063dd62ed3e1461054f578063e093c8a414610562578063f399e22e14610575578063f46eccc414610588575f80fd5b8063b52c696d146104e7578063cd3293de146104fa578063d1a15ff114610521578063d38bb00914610534575f80fd5b806395d89b41116100ef57806395d89b411461047b5780639b404da61461049b578063a47d75ad146104ae578063a9059cbb146104c1578063aa271e1a146104d4575f80fd5b806379cc67901461042e5780637ecebe00146104415780638112eb2b1461046057806391a0ac6a14610473575f80fd5b8063315f3e72116101a057806342966c681161017057806342966c68146103a857806355f57510146103bb57806361f3d110146103e357806370a08231146103f657806376c7a3c71461041e575f80fd5b8063315f3e72146103675780633644e5151461037a5780634000aea01461038257806340c10f1914610395575f80fd5b806318160ddd116101e657806318160ddd146102a95780631a46c7e9146102b157806323b872dd146102d85780632748913b146102eb578063313ce5671461032e575f80fd5b806306fdde0314610217578063095ea7b3146102505780630b9f412b1461027357806316e0e53814610288575b5f80fd5b60408051808201909152600b81526a233930b735b2b731b7b4b760a91b60208201525b60405161024791906116b4565b60405180910390f35b61026361025e36600461171a565b6105a7565b6040519015158152602001610247565b610286610281366004611755565b6105bd565b005b61029b610296366004611755565b610642565b604051908152602001610247565b60025461029b565b61029b7f000000000000000000000000000000000000000000000000000000000000000081565b6102636102e636600461177f565b6106e2565b6103166102f93660046117b8565b6001600160a01b039081165f908152600660205260409020541690565b6040516001600160a01b039091168152602001610247565b6103557f000000000000000000000000000000000000000000000000000000000000000081565b60405160ff9091168152602001610247565b61029b6103753660046117d1565b610765565b61029b610828565b61026361039036600461184f565b610880565b6102866103a336600461171a565b610912565b6102866103b63660046118a5565b610972565b6103166103c93660046117b8565b60066020525f90815260409020546001600160a01b031681565b6102866103f13660046118a5565b61097f565b61029b6104043660046117b8565b6001600160a01b03165f9081526020819052604090205490565b61029b683635c9adc5dea0000081565b61028661043c36600461171a565b610abd565b61029b61044f3660046117b8565b60036020525f908152604090205481565b61028661046e3660046118bc565b610b19565b61029b610c05565b6040805180820190915260048152632d21a42360e11b602082015261023a565b6102866104a9366004611906565b610c68565b61029b6104bc366004611755565b610d77565b6102636104cf36600461171a565b610e42565b6102636104e23660046117b8565b610e4e565b6102866104f53660046117b8565b610e8d565b6103167f000000000000000000000000000000000000000000000000000000000000000081565b61028661052f3660046119af565b610edb565b61029b611003565b61028661054a366004611a01565b61101a565b61029b61055d366004611a6e565b611205565b61029b610570366004611755565b611210565b610286610583366004611a96565b6112b2565b61029b6105963660046117b8565b60056020525f908152604090205481565b5f6105b33384846113a1565b5060015b92915050565b6105c633610e4e565b1580156105f15750335f908152600660205260409020546105ef906001600160a01b0316610e4e565b155b1561060f57604051633e34a41b60e21b815260040160405180910390fd5b6106193383611402565b61062963ffffffff821683611af9565b60045f8282546106399190611b10565b90915550505050565b5f80620f42406106588563ffffffff8616611af9565b6106629190611b23565b90505f6106a37f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165f9081526020819052604090205490565b90505f6106ae611003565b9050808210156106d757806106c38385611af9565b6106cd9190611b23565b93505050506105b7565b8293505050506105b7565b5f6106ee848484611489565b5f6106f9853361159b565b9050600160ff1b81101561075a578281101561074657604051637dc7a0d960e11b81526001600160a01b038616600482015260248101829052604481018490526064015b60405180910390fd5b61075a85336107558685611b10565b6113a1565b506001949350505050565b5f61076f33610e4e565b15801561079a5750335f90815260066020526040902054610798906001600160a01b0316610e4e565b155b156107b857604051633e34a41b60e21b815260040160405180910390fd5b5f6107c38484610642565b90506107f07f00000000000000000000000000000000000000000000000000000000000000008683611489565b6107fa8585611402565b61080a63ffffffff841685611af9565b60045f82825461081a9190611b10565b909155509095945050505050565b604080517f47e79534a245952e8b16893a336b85a3d9ea9fa8c573f3d803afb92a79469218602082015246918101919091523060608201525f9060800160405160208183030381529060405280519060200120905090565b5f8061088c8686610e42565b9050801561090957604051635260769b60e11b81526001600160a01b0387169063a4c0ed36906108c6903390899089908990600401611b6a565b6020604051808303815f875af11580156108e2573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906109069190611b91565b90505b95945050505050565b61091b33610e4e565b1580156109465750335f90815260066020526040902054610944906001600160a01b0316610e4e565b155b1561096457604051633e34a41b60e21b815260040160405180910390fd5b61096e8282611623565b5050565b61097c3382611402565b50565b61098833610e4e565b1580156109b35750335f908152600660205260409020546109b1906001600160a01b0316610e4e565b155b156109d157604051633e34a41b60e21b815260040160405180910390fd5b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165f90815260208190526040902054818110610a4057610a3b7f00000000000000000000000000000000000000000000000000000000000000003384611489565b610a7e565b610a6b7f00000000000000000000000000000000000000000000000000000000000000003383611489565b610a7e33610a798385611b10565b611623565b604080518381526020810183905233917f68968dce3e47f9519d4b1886045d266b13a87545a0831788b35556bbf8abb6c7910160405180910390a25050565b610ac633610e4e565b158015610af15750335f90815260066020526040902054610aef906001600160a01b0316610e4e565b155b15610b0f57604051633e34a41b60e21b815260040160405180910390fd5b61096e8282611402565b610b2233610e4e565b158015610b4d5750335f90815260066020526040902054610b4b906001600160a01b0316610e4e565b155b15610b6b57604051633e34a41b60e21b815260040160405180910390fd5b5f620f424083610b7b8483611bb0565b610b859190611bb0565b610b959063ffffffff1686611af9565b610b9f9190611b23565b9050610bab8582611623565b610bd97f0000000000000000000000000000000000000000000000000000000000000000610a798387611b10565b610be963ffffffff841685611af9565b60045f828254610bf99190611bcd565b90915550505050505050565b6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165f908152602081905260408120545f610c46611003565b9050808211610c57575f9250505090565b610c618183611b10565b9250505090565b6001600160a01b0385165f90815260056020526040902054421115610ca05760405163ecdd1c2960e01b815260040160405180910390fd5b60405163352e3a8360e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063352e3a8390610cf090339088908890600401611be0565b5f6040518083038186803b158015610d06575f80fd5b505afa158015610d18573d5f803e3d5ffd5b505050506001600160a01b0385165f8181526005602052604080822091909155517fd60c86e83346fdbe3124cb7d1cba32973a9f62d05c4ec801bfe6c09d1038038190610d689085908590611c39565b60405180910390a25050505050565b5f610d8133610e4e565b158015610dac5750335f90815260066020526040902054610daa906001600160a01b0316610e4e565b155b15610dca57604051633e34a41b60e21b815260040160405180910390fd5b5f610dd58484611210565b9050610de763ffffffff841682611af9565b60045f828254610df79190611b10565b90915550610e3190507f000000000000000000000000000000000000000000000000000000000000000033610e2c8785611b10565b611489565b610e3b3382611402565b9392505050565b5f6105b3338484611489565b6001600160a01b0381165f90815260056020526040812054158015906105b75750506001600160a01b03165f9081526005602052604090205442101590565b610e9633610e4e565b610eb357604051633e34a41b60e21b815260040160405180910390fd5b6001600160a01b03165f90815260066020526040902080546001600160a01b03191633179055565b7f0000000000000000000000000000000000000000000000000000000000000000841015610f1c57604051631260d0af60e31b815260040160405180910390fd5b683635c9adc5dea00000831015610f465760405163732f941360e01b815260040160405180910390fd5b6001600160a01b0385165f9081526005602052604090205415610f7c57604051630ea075bf60e21b815260040160405180910390fd5b610fa7337f000000000000000000000000000000000000000000000000000000000000000085611489565b610fb18442611bcd565b6001600160a01b0386165f81815260056020526040908190209290925590517f97326258efdae63280617ca33884e507791c2abeed7b82acd77f1853394ef94b90610d68908790879087908790611c54565b5f620f42406004546110159190611b23565b905090565b4284101561106a5760405162461bcd60e51b815260206004820152601760248201527f5045524d49545f444541444c494e455f45585049524544000000000000000000604482015260640161073d565b5f6001611075610828565b6001600160a01b038a81165f8181526003602090815260409182902080546001810190915582517f6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c98184015280840194909452938d166060840152608083018c905260a083019390935260c08083018b90528151808403909101815260e08301909152805192019190912061190160f01b6101008301526101028201929092526101228101919091526101420160408051601f1981840301815282825280516020918201205f84529083018083525260ff871690820152606081018590526080810184905260a0016020604051602081039080840390855afa15801561117d573d5f803e3d5ffd5b5050604051601f1901519150506001600160a01b038116158015906111b35750876001600160a01b0316816001600160a01b0316145b6111f05760405162461bcd60e51b815260206004820152600e60248201526d24a72b20a624a22fa9a4a3a722a960911b604482015260640161073d565b6111fb8188886113a1565b5050505050505050565b5f610e3b838361159b565b6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165f908152602081905260408120545f611251611003565b90505f818310611267578463ffffffff16611282565b816112788463ffffffff8816611af9565b6112829190611b23565b905061129181620f4240611b10565b61129e87620f4240611af9565b6112a89190611b23565b9695505050505050565b60025415801561133f57507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166318160ddd6040518163ffffffff1660e01b8152600401602060405180830381865afa158015611319573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061133d9190611c73565b155b611347575f80fd5b6001600160a01b0383165f81815260056020526040808220429055517f97326258efdae63280617ca33884e507791c2abeed7b82acd77f1853394ef94b9161139491819087908790611c54565b60405180910390a2505050565b6001600160a01b038381165f8181526001602090815260408083209487168084529482529182902085905590518481527f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591015b60405180910390a3505050565b8060025f8282546114139190611b10565b90915550506001600160a01b0382165f908152602081905260408120805483929061143f908490611b10565b90915550506040518181525f906001600160a01b038416907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef906020015b60405180910390a35050565b6001600160a01b03821661149b575f80fd5b6001600160a01b0383165f908152602081905260409020548111156114fc576001600160a01b0383165f818152602081905260409081902054905163391434e360e21b8152600481019290925260248201526044810182905260640161073d565b6001600160a01b0383165f9081526020819052604081208054839290611523908490611b10565b90915550506001600160a01b0382165f908152602081905260408120805483929061154f908490611bcd565b92505081905550816001600160a01b0316836001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040516113f591815260200190565b6001600160a01b038083165f90815260016020908152604080832093851683529290529081205480156115cf5790506105b7565b6115d883610e4e565b8061160157506001600160a01b038084165f908152600660205260409020546116019116610e4e565b1561161357600160ff1b9150506105b7565b5f9150506105b7565b5092915050565b6001600160a01b038216611635575f80fd5b8060025f8282546116469190611bcd565b90915550506001600160a01b0382165f9081526020819052604081208054839290611672908490611bcd565b90915550506040518181526001600160a01b038316905f907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9060200161147d565b5f6020808352835180828501525f5b818110156116df578581018301518582016040015282016116c3565b505f604082860101526040601f19601f8301168501019250505092915050565b80356001600160a01b0381168114611715575f80fd5b919050565b5f806040838503121561172b575f80fd5b611734836116ff565b946020939093013593505050565b803563ffffffff81168114611715575f80fd5b5f8060408385031215611766575f80fd5b8235915061177660208401611742565b90509250929050565b5f805f60608486031215611791575f80fd5b61179a846116ff565b92506117a8602085016116ff565b9150604084013590509250925092565b5f602082840312156117c8575f80fd5b610e3b826116ff565b5f805f606084860312156117e3575f80fd5b6117ec846116ff565b92506020840135915061180160408501611742565b90509250925092565b5f8083601f84011261181a575f80fd5b50813567ffffffffffffffff811115611831575f80fd5b602083019150836020828501011115611848575f80fd5b9250929050565b5f805f8060608587031215611862575f80fd5b61186b856116ff565b935060208501359250604085013567ffffffffffffffff81111561188d575f80fd5b6118998782880161180a565b95989497509550505050565b5f602082840312156118b5575f80fd5b5035919050565b5f805f80608085870312156118cf575f80fd5b6118d8856116ff565b9350602085013592506118ed60408601611742565b91506118fb60608601611742565b905092959194509250565b5f805f805f6060868803121561191a575f80fd5b611923866116ff565b9450602086013567ffffffffffffffff8082111561193f575f80fd5b818801915088601f830112611952575f80fd5b813581811115611960575f80fd5b8960208260051b8501011115611974575f80fd5b602083019650809550506040880135915080821115611991575f80fd5b5061199e8882890161180a565b969995985093965092949392505050565b5f805f805f608086880312156119c3575f80fd5b6119cc866116ff565b94506020860135935060408601359250606086013567ffffffffffffffff8111156119f5575f80fd5b61199e8882890161180a565b5f805f805f805f60e0888a031215611a17575f80fd5b611a20886116ff565b9650611a2e602089016116ff565b95506040880135945060608801359350608088013560ff81168114611a51575f80fd5b9699959850939692959460a0840135945060c09093013592915050565b5f8060408385031215611a7f575f80fd5b611a88836116ff565b9150611776602084016116ff565b5f805f60408486031215611aa8575f80fd5b611ab1846116ff565b9250602084013567ffffffffffffffff811115611acc575f80fd5b611ad88682870161180a565b9497909650939450505050565b634e487b7160e01b5f52601160045260245ffd5b80820281158282048414176105b7576105b7611ae5565b818103818111156105b7576105b7611ae5565b5f82611b3d57634e487b7160e01b5f52601260045260245ffd5b500490565b81835281816020850137505f828201602090810191909152601f909101601f19169091010190565b60018060a01b0385168152836020820152606060408201525f6112a8606083018486611b42565b5f60208284031215611ba1575f80fd5b81518015158114610e3b575f80fd5b63ffffffff82811682821603908082111561161c5761161c611ae5565b808201808211156105b7576105b7611ae5565b6001600160a01b038481168252604060208084018290529083018490525f91859160608501845b87811015611c2c5783611c19866116ff565b1682529382019390820190600101611c07565b5098975050505050505050565b602081525f611c4c602083018486611b42565b949350505050565b848152836020820152606060408201525f6112a8606083018486611b42565b5f60208284031215611c83575f80fd5b505191905056fea26469706673582212204ea2d3f5e523dfe23041019f9c9ecb1f0fc717baca0f8bcb0ddeaa294c4f0e4f64736f6c6343000814003360c060405234801561000f575f80fd5b50604051620021d7380380620021d783398101604081905261003091610046565b60126080526001600160a01b031660a052610073565b5f60208284031215610056575f80fd5b81516001600160a01b038116811461006c575f80fd5b9392505050565b60805160a051612103620000d45f395f81816104b80152818161064d0152818161086a01528181610aa501528181610c3401528181610ce301528181610d9201528181610e790152818161115f015261172c01525f6102e901526121035ff3fe608060405234801561000f575f80fd5b50600436106101f2575f3560e01c80635895b77311610114578063a4c0ed36116100a9578063c4d4803a11610079578063c4d4803a146104b3578063d505accf146104da578063d87aa643146104ed578063d8bff5a514610500578063dd62ed3e14610513575f80fd5b8063a4c0ed361461046d578063a9059cbb14610480578063ad08ce5b14610493578063b0c2bf06146104a6575f80fd5b806384a7aa0c116100e457806384a7aa0c1461042057806395d89b41146104335780639823004f14610452578063a035b1fe14610465575f80fd5b80635895b773146103b357806370a08231146103c65780637ecebe00146103ee578063820710af1461040d575f80fd5b8063250f25f41161018a5780633ec161941161015a5780633ec161941461033a5780634000aea01461034d578063558ac24a14610360578063587cde1e14610373575f80fd5b8063250f25f4146102c7578063313ce567146102e4578063352e3a831461031d5780633644e51514610332575f80fd5b8063151535b9116101c5578063151535b91461028657806318160ddd146102995780631e9a6950146102a157806323b872dd146102b4575f80fd5b806306fdde03146101f6578063095ea7b31461023a5780630d15fd771461025d5780630e89c37014610273575b5f80fd5b6040805180820190915260168152754672616e6b656e636f696e20506f6f6c20536861726560501b60208201525b6040516102319190611bf9565b60405180910390f35b61024d610248366004611c5f565b610526565b6040519015158152602001610231565b61026561053c565b604051908152602001610231565b610265610281366004611c87565b610596565b61024d610294366004611cb7565b6105b8565b600254610265565b6102656102af366004611c5f565b6105ff565b61024d6102c2366004611cd0565b610720565b6102cf600381565b60405163ffffffff9091168152602001610231565b61030b7f000000000000000000000000000000000000000000000000000000000000000081565b60405160ff9091168152602001610231565b61033061032b366004611d50565b6107b9565b005b61026561080c565b610265610348366004611d9e565b610864565b61024d61035b366004611db5565b6108ee565b61033061036e366004611c5f565b610980565b61039b610381366004611cb7565b60056020525f90815260409020546001600160a01b031681565b6040516001600160a01b039091168152602001610231565b6102656103c1366004611d50565b6109db565b6102656103d4366004611cb7565b6001600160a01b03165f9081526020819052604090205490565b6102656103fc366004611cb7565b60036020525f908152604090205481565b61033061041b366004611e34565b610a8f565b61026561042e366004611cb7565b610bac565b60408051808201909152600381526246505360e81b6020820152610224565b610330610460366004611cb7565b610bda565b610265610c30565b61024d61047b366004611db5565b610d86565b61024d61048e366004611c5f565b610e0b565b6102656104a1366004611d9e565b610e17565b61026565076a7000000081565b61039b7f000000000000000000000000000000000000000000000000000000000000000081565b6103306104e8366004611e9a565b610f50565b6102656104fb366004611f07565b61113b565b61026561050e366004611cb7565b6111f2565b610265610521366004611f27565b611251565b5f61053233848461127d565b5060015b92915050565b6004545f90600160c01b90046001600160401b03164260141b61055f9190611f6c565b6001600160401b031661057160025490565b61057b9190611f93565b60045461059191906001600160c01b0316611faa565b905090565b5f806105a285856105ff565b9050828110156105b0575f80fd5b949350505050565b6001600160a01b0381165f9081526006602052604081205465076a70000000906105ee906001600160401b03164260141b611f6c565b6001600160401b0316101592915050565b5f610609336105b8565b610611575f80fd5b5f61061b83610e17565b905061062733846112de565b60405163a9059cbb60e01b81526001600160a01b038581166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063a9059cbb906044016020604051808303815f875af1158015610693573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906106b79190611fbd565b507fd98fb7c2b7c7b545387da80b92c08bc5d2a4b922fb74851c3d27ee07ca897bdf336106e385611fdc565b836106ec610c30565b604080516001600160a01b039095168552602085019390935291830152606082015260800160405180910390a19392505050565b5f61072c848484611370565b6001600160a01b0384165f908152600160209081526040808320338452909152902054600160ff1b8110156107ae578281101561079a57604051637dc7a0d960e11b81526001600160a01b038616600482015260248101829052604481018490526064015b60405180910390fd5b6107ae85336107a98685611ff6565b61127d565b506001949350505050565b5f6107c58484846109db565b90506107cf61053c565b6107db9061012c611f93565b6107e782612710611f93565b10156108065760405163bcfcdc1160e01b815260040160405180910390fd5b50505050565b604080517f47e79534a245952e8b16893a336b85a3d9ea9fa8c573f3d803afb92a79469218602082015246918101919091523060608201525f9060800160405160208183030381529060405280519060200120905090565b5f6105367f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166391a0ac6a6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156108c4573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906108e89190612009565b8361148d565b5f806108fa8686610e0b565b9050801561097757604051635260769b60e11b81526001600160a01b0387169063a4c0ed3690610934903390899089908990600401612020565b6020604051808303815f875af1158015610950573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906109749190611fbd565b90505b95945050505050565b5f61098b3383611515565b90506109978383611515565b6109a19082611faa565b9050806109ac61053c565b6109b69190611ff6565b6001600160c01b0316600160c01b4260141b6001600160401b03160217600455505050565b5f806109e6856111f2565b90506109f284846115f0565b6109fa575f80fd5b5f5b83811015610a86575f858583818110610a1757610a17612067565b9050602002016020810190610a2c9190611cb7565b9050866001600160a01b0316816001600160a01b031603610a4b575f80fd5b610a5587826116c5565b610a5d575f80fd5b610a66816111f2565b610a709084611faa565b9250508080610a7e9061207b565b9150506109fc565b50949350505050565b610aa3670de0b6b3a76400006103e8611f93565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166391a0ac6a6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610aff573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610b239190612009565b10610b2c575f80fd5b610b373385856107b9565b5f5b81811015610ba5575f838383818110610b5457610b54612067565b9050602002016020810190610b699190611cb7565b9050610b9281610b8d836001600160a01b03165f9081526020819052604090205490565b6112de565b5080610b9d8161207b565b915050610b39565b5050505050565b5f610bb561053c565b610bbe836111f2565b610bd090670de0b6b3a7640000611f93565b61053691906120a7565b335f8181526005602052604080822080546001600160a01b0319166001600160a01b03861690811790915590519092917fd000f39f92c3ed77f890f16b6ced1555e0ab2cdf470522d2210de67d8c83d45b91a350565b5f807f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166391a0ac6a6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610c8e573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610cb29190612009565b9050801580610cc15750600254155b15610cd557670de0b6b3a764000091505090565b600254670de0b6b3a76400007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166391a0ac6a6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610d3d573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610d619190612009565b610d6c906003611f93565b610d769190611f93565b610d8091906120a7565b91505090565b5f336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610df55760405162461bcd60e51b815260206004820152601360248201527231b0b63632b91036bab9ba103132903d31b43360691b6044820152606401610791565b610dff8585611728565b50600195945050505050565b5f610532338484611370565b5f80610e2260025490565b905080610e37670de0b6b3a764000085611faa565b10610e765760405162461bcd60e51b815260206004820152600f60248201526e746f6f206d616e792073686172657360881b6044820152606401610791565b5f7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166391a0ac6a6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610ed3573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610ef79190612009565b90505f6103e8610f09866103e5611f93565b610f1391906120a7565b90505f610f3a83610f35610f30610f2a8689611ff6565b886118f8565b611916565b611926565b9050610f468184611ff6565b9695505050505050565b42841015610fa05760405162461bcd60e51b815260206004820152601760248201527f5045524d49545f444541444c494e455f455850495245440000000000000000006044820152606401610791565b5f6001610fab61080c565b6001600160a01b038a81165f8181526003602090815260409182902080546001810190915582517f6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c98184015280840194909452938d166060840152608083018c905260a083019390935260c08083018b90528151808403909101815260e08301909152805192019190912061190160f01b6101008301526101028201929092526101228101919091526101420160408051601f1981840301815282825280516020918201205f84529083018083525260ff871690820152606081018590526080810184905260a0016020604051602081039080840390855afa1580156110b3573d5f803e3d5ffd5b5050604051601f1901519150506001600160a01b038116158015906110e95750876001600160a01b0316816001600160a01b0316145b6111265760405162461bcd60e51b815260206004820152600e60248201526d24a72b20a624a22fa9a4a3a722a960911b6044820152606401610791565b61113181888861127d565b5050505050505050565b6040516323b872dd60e01b8152336004820152306024820152604481018390525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906323b872dd906064016020604051808303815f875af11580156111ad573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906111d19190611fbd565b505f6111dd3385611728565b9050828110156111eb575f80fd5b9392505050565b6001600160a01b0381165f90815260066020526040812054611220906001600160401b03164260141b611f6c565b6001600160401b0316611247836001600160a01b03165f9081526020819052604090205490565b6105369190611f93565b6001600160a01b038083165f9081526001602090815260408083209385168352929052908120546111eb565b6001600160a01b038381165f8181526001602090815260408083209487168084529482529182902085905590518481527f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591015b60405180910390a3505050565b6112e9825f8361193a565b8060025f8282546112fa9190611ff6565b90915550506001600160a01b0382165f9081526020819052604081208054839290611326908490611ff6565b90915550506040518181525f906001600160a01b038416907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef906020015b60405180910390a35050565b6001600160a01b038216611382575f80fd5b61138d83838361193a565b6001600160a01b0383165f908152602081905260409020548111156113ee576001600160a01b0383165f818152602081905260409081902054905163391434e360e21b81526004810192909252602482015260448101829052606401610791565b6001600160a01b0383165f9081526020819052604081208054839290611415908490611ff6565b90915550506001600160a01b0382165f9081526020819052604081208054839290611441908490611faa565b92505081905550816001600160a01b0316836001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040516112d191815260200190565b5f8061149860025490565b90505f6103e86114aa856103e5611f93565b6114b491906120a7565b90505f6114cb670de0b6b3a76400006103e8611f93565b83106114f5576114f083610f356114eb6114e5868b611faa565b8a6118f8565b61195d565b611509565b611509670de0b6b3a76400006103e8611f93565b9050610f468382611ff6565b5f80611520846111f2565b9050828110156115655760405162461bcd60e51b815260206004820152601060248201526f6e6f7420656e6f75676820766f74657360801b6044820152606401610791565b6001600160a01b0384165f908152602081905260409020546115878483611ff6565b61159191906120a7565b6115a7906001600160401b034260141b16611ff6565b6001600160a01b0385165f908152600660205260409020805467ffffffffffffffff19166001600160401b03929092169190911790556115e6846111f2565b6105b09082611ff6565b5f6001821161160157506001610536565b5f83835f81811061161457611614612067565b90506020020160208101906116299190611cb7565b905060015b838110156116ba57816001600160a01b031685858381811061165257611652612067565b90506020020160208101906116679190611cb7565b6001600160a01b03161161167f575f92505050610536565b84848281811061169157611691612067565b90506020020160208101906116a69190611cb7565b9150806116b28161207b565b91505061162e565b506001915050610536565b5f826001600160a01b0316826001600160a01b0316036116e757506001610536565b6001600160a01b0382166116fc57505f610536565b6001600160a01b038083165f90815260056020526040902054611721918591166116c5565b9050610536565b5f807f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166391a0ac6a6040518163ffffffff1660e01b8152600401602060405180830381865afa158015611786573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906117aa9190612009565b90506117c0670de0b6b3a76400006103e8611f93565b8110156117fe5760405162461bcd60e51b815260206004820152600c60248201526b696e7375662065717569747960a01b6044820152606401610791565b5f8382111561181f5761181a6118148584611ff6565b8561148d565b611833565b611833670de0b6b3a76400006103e8611f93565b905061183f8582611a00565b7fd98fb7c2b7c7b545387da80b92c08bc5d2a4b922fb74851c3d27ee07ca897bdf85828661186b610c30565b604080516001600160a01b039095168552602085019390935291830152606082015260800160405180910390a16fffffffffffffffffffffffffffffffff6118b260025490565b11156105b05760405162461bcd60e51b81526020600482015260156024820152741d1bdd185b081cdd5c1c1b1e48195e18d959591959605a1b6044820152606401610791565b5f8161190c670de0b6b3a764000085611f93565b6111eb91906120a7565b5f6105366119248384611926565b835b5f670de0b6b3a764000061190c8385611f93565b8015611958575f61194b8383611a9c565b9050610806848383611b54565b505050565b5f670de0b6b3a764000081805b8291505f61198161197b8586611926565b85611926565b90506119ba84610f35611995896002611f93565b61199f9085611faa565b896119ab866002611f93565b6119b59190611faa565b6118f8565b93508383116119db57662386f26fc100006119d58486611ff6565b116119ef565b662386f26fc100006119ed8585611ff6565b115b9150508061196a5750909392505050565b6001600160a01b038216611a12575f80fd5b611a1d5f838361193a565b8060025f828254611a2e9190611faa565b90915550506001600160a01b0382165f9081526020819052604081208054839290611a5a908490611faa565b90915550506040518181526001600160a01b038316905f907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef90602001611364565b5f6001600160a01b03831615611b4d575f611ab6846111f2565b90505f83611ad8866001600160a01b03165f9081526020819052604090205490565b611ae29190611faa565b9050611aee81836120a7565b611b04906001600160401b034260141b16611ff6565b6001600160a01b0386165f908152600660205260409020805467ffffffffffffffff19166001600160401b0392909216919091179055611b4481836120ba565b92505050610536565b505f610536565b4260141b5f6001600160a01b03851615611bad576001600160a01b0385165f908152600660205260409020548490611b95906001600160401b031684611f6c565b6001600160401b0316611ba89190611f93565b611baf565b5f5b90508083611bbb61053c565b611bc59190611ff6565b611bcf9190611ff6565b6001600160401b03909216600160c01b026001600160c01b03929092169190911760045550505050565b5f6020808352835180828501525f5b81811015611c2457858101830151858201604001528201611c08565b505f604082860101526040601f19601f8301168501019250505092915050565b80356001600160a01b0381168114611c5a575f80fd5b919050565b5f8060408385031215611c70575f80fd5b611c7983611c44565b946020939093013593505050565b5f805f60608486031215611c99575f80fd5b611ca284611c44565b95602085013595506040909401359392505050565b5f60208284031215611cc7575f80fd5b6111eb82611c44565b5f805f60608486031215611ce2575f80fd5b611ceb84611c44565b9250611cf960208501611c44565b9150604084013590509250925092565b5f8083601f840112611d19575f80fd5b5081356001600160401b03811115611d2f575f80fd5b6020830191508360208260051b8501011115611d49575f80fd5b9250929050565b5f805f60408486031215611d62575f80fd5b611d6b84611c44565b925060208401356001600160401b03811115611d85575f80fd5b611d9186828701611d09565b9497909650939450505050565b5f60208284031215611dae575f80fd5b5035919050565b5f805f8060608587031215611dc8575f80fd5b611dd185611c44565b93506020850135925060408501356001600160401b0380821115611df3575f80fd5b818701915087601f830112611e06575f80fd5b813581811115611e14575f80fd5b886020828501011115611e25575f80fd5b95989497505060200194505050565b5f805f8060408587031215611e47575f80fd5b84356001600160401b0380821115611e5d575f80fd5b611e6988838901611d09565b90965094506020870135915080821115611e81575f80fd5b50611e8e87828801611d09565b95989497509550505050565b5f805f805f805f60e0888a031215611eb0575f80fd5b611eb988611c44565b9650611ec760208901611c44565b95506040880135945060608801359350608088013560ff81168114611eea575f80fd5b9699959850939692959460a0840135945060c09093013592915050565b5f8060408385031215611f18575f80fd5b50508035926020909101359150565b5f8060408385031215611f38575f80fd5b611f4183611c44565b9150611f4f60208401611c44565b90509250929050565b634e487b7160e01b5f52601160045260245ffd5b6001600160401b03828116828216039080821115611f8c57611f8c611f58565b5092915050565b808202811582820484141761053657610536611f58565b8082018082111561053657610536611f58565b5f60208284031215611fcd575f80fd5b815180151581146111eb575f80fd5b5f600160ff1b8201611ff057611ff0611f58565b505f0390565b8181038181111561053657610536611f58565b5f60208284031215612019575f80fd5b5051919050565b6001600160a01b0385168152602081018490526060604082018190528101829052818360808301375f818301608090810191909152601f909201601f191601019392505050565b634e487b7160e01b5f52603260045260245ffd5b5f6001820161208c5761208c611f58565b5060010190565b634e487b7160e01b5f52601260045260245ffd5b5f826120b5576120b5612093565b500490565b5f826120c8576120c8612093565b50069056fea26469706673582212207da246d1678641908dcb7062a939fb1dafe5bcba0a0faf8caeccf3bcb492872864736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561000f575f80fd5b5060043610610213575f3560e01c806379cc67901161011f578063b52c696d116100a9578063d505accf11610079578063d505accf1461053c578063dd62ed3e1461054f578063e093c8a414610562578063f399e22e14610575578063f46eccc414610588575f80fd5b8063b52c696d146104e7578063cd3293de146104fa578063d1a15ff114610521578063d38bb00914610534575f80fd5b806395d89b41116100ef57806395d89b411461047b5780639b404da61461049b578063a47d75ad146104ae578063a9059cbb146104c1578063aa271e1a146104d4575f80fd5b806379cc67901461042e5780637ecebe00146104415780638112eb2b1461046057806391a0ac6a14610473575f80fd5b8063315f3e72116101a057806342966c681161017057806342966c68146103a857806355f57510146103bb57806361f3d110146103e357806370a08231146103f657806376c7a3c71461041e575f80fd5b8063315f3e72146103675780633644e5151461037a5780634000aea01461038257806340c10f1914610395575f80fd5b806318160ddd116101e657806318160ddd146102a95780631a46c7e9146102b157806323b872dd146102d85780632748913b146102eb578063313ce5671461032e575f80fd5b806306fdde0314610217578063095ea7b3146102505780630b9f412b1461027357806316e0e53814610288575b5f80fd5b60408051808201909152600b81526a233930b735b2b731b7b4b760a91b60208201525b60405161024791906116b4565b60405180910390f35b61026361025e36600461171a565b6105a7565b6040519015158152602001610247565b610286610281366004611755565b6105bd565b005b61029b610296366004611755565b610642565b604051908152602001610247565b60025461029b565b61029b7f000000000000000000000000000000000000000000000000000000000000000081565b6102636102e636600461177f565b6106e2565b6103166102f93660046117b8565b6001600160a01b039081165f908152600660205260409020541690565b6040516001600160a01b039091168152602001610247565b6103557f000000000000000000000000000000000000000000000000000000000000000081565b60405160ff9091168152602001610247565b61029b6103753660046117d1565b610765565b61029b610828565b61026361039036600461184f565b610880565b6102866103a336600461171a565b610912565b6102866103b63660046118a5565b610972565b6103166103c93660046117b8565b60066020525f90815260409020546001600160a01b031681565b6102866103f13660046118a5565b61097f565b61029b6104043660046117b8565b6001600160a01b03165f9081526020819052604090205490565b61029b683635c9adc5dea0000081565b61028661043c36600461171a565b610abd565b61029b61044f3660046117b8565b60036020525f908152604090205481565b61028661046e3660046118bc565b610b19565b61029b610c05565b6040805180820190915260048152632d21a42360e11b602082015261023a565b6102866104a9366004611906565b610c68565b61029b6104bc366004611755565b610d77565b6102636104cf36600461171a565b610e42565b6102636104e23660046117b8565b610e4e565b6102866104f53660046117b8565b610e8d565b6103167f000000000000000000000000000000000000000000000000000000000000000081565b61028661052f3660046119af565b610edb565b61029b611003565b61028661054a366004611a01565b61101a565b61029b61055d366004611a6e565b611205565b61029b610570366004611755565b611210565b610286610583366004611a96565b6112b2565b61029b6105963660046117b8565b60056020525f908152604090205481565b5f6105b33384846113a1565b5060015b92915050565b6105c633610e4e565b1580156105f15750335f908152600660205260409020546105ef906001600160a01b0316610e4e565b155b1561060f57604051633e34a41b60e21b815260040160405180910390fd5b6106193383611402565b61062963ffffffff821683611af9565b60045f8282546106399190611b10565b90915550505050565b5f80620f42406106588563ffffffff8616611af9565b6106629190611b23565b90505f6106a37f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165f9081526020819052604090205490565b90505f6106ae611003565b9050808210156106d757806106c38385611af9565b6106cd9190611b23565b93505050506105b7565b8293505050506105b7565b5f6106ee848484611489565b5f6106f9853361159b565b9050600160ff1b81101561075a578281101561074657604051637dc7a0d960e11b81526001600160a01b038616600482015260248101829052604481018490526064015b60405180910390fd5b61075a85336107558685611b10565b6113a1565b506001949350505050565b5f61076f33610e4e565b15801561079a5750335f90815260066020526040902054610798906001600160a01b0316610e4e565b155b156107b857604051633e34a41b60e21b815260040160405180910390fd5b5f6107c38484610642565b90506107f07f00000000000000000000000000000000000000000000000000000000000000008683611489565b6107fa8585611402565b61080a63ffffffff841685611af9565b60045f82825461081a9190611b10565b909155509095945050505050565b604080517f47e79534a245952e8b16893a336b85a3d9ea9fa8c573f3d803afb92a79469218602082015246918101919091523060608201525f9060800160405160208183030381529060405280519060200120905090565b5f8061088c8686610e42565b9050801561090957604051635260769b60e11b81526001600160a01b0387169063a4c0ed36906108c6903390899089908990600401611b6a565b6020604051808303815f875af11580156108e2573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906109069190611b91565b90505b95945050505050565b61091b33610e4e565b1580156109465750335f90815260066020526040902054610944906001600160a01b0316610e4e565b155b1561096457604051633e34a41b60e21b815260040160405180910390fd5b61096e8282611623565b5050565b61097c3382611402565b50565b61098833610e4e565b1580156109b35750335f908152600660205260409020546109b1906001600160a01b0316610e4e565b155b156109d157604051633e34a41b60e21b815260040160405180910390fd5b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165f90815260208190526040902054818110610a4057610a3b7f00000000000000000000000000000000000000000000000000000000000000003384611489565b610a7e565b610a6b7f00000000000000000000000000000000000000000000000000000000000000003383611489565b610a7e33610a798385611b10565b611623565b604080518381526020810183905233917f68968dce3e47f9519d4b1886045d266b13a87545a0831788b35556bbf8abb6c7910160405180910390a25050565b610ac633610e4e565b158015610af15750335f90815260066020526040902054610aef906001600160a01b0316610e4e565b155b15610b0f57604051633e34a41b60e21b815260040160405180910390fd5b61096e8282611402565b610b2233610e4e565b158015610b4d5750335f90815260066020526040902054610b4b906001600160a01b0316610e4e565b155b15610b6b57604051633e34a41b60e21b815260040160405180910390fd5b5f620f424083610b7b8483611bb0565b610b859190611bb0565b610b959063ffffffff1686611af9565b610b9f9190611b23565b9050610bab8582611623565b610bd97f0000000000000000000000000000000000000000000000000000000000000000610a798387611b10565b610be963ffffffff841685611af9565b60045f828254610bf99190611bcd565b90915550505050505050565b6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165f908152602081905260408120545f610c46611003565b9050808211610c57575f9250505090565b610c618183611b10565b9250505090565b6001600160a01b0385165f90815260056020526040902054421115610ca05760405163ecdd1c2960e01b815260040160405180910390fd5b60405163352e3a8360e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063352e3a8390610cf090339088908890600401611be0565b5f6040518083038186803b158015610d06575f80fd5b505afa158015610d18573d5f803e3d5ffd5b505050506001600160a01b0385165f8181526005602052604080822091909155517fd60c86e83346fdbe3124cb7d1cba32973a9f62d05c4ec801bfe6c09d1038038190610d689085908590611c39565b60405180910390a25050505050565b5f610d8133610e4e565b158015610dac5750335f90815260066020526040902054610daa906001600160a01b0316610e4e565b155b15610dca57604051633e34a41b60e21b815260040160405180910390fd5b5f610dd58484611210565b9050610de763ffffffff841682611af9565b60045f828254610df79190611b10565b90915550610e3190507f000000000000000000000000000000000000000000000000000000000000000033610e2c8785611b10565b611489565b610e3b3382611402565b9392505050565b5f6105b3338484611489565b6001600160a01b0381165f90815260056020526040812054158015906105b75750506001600160a01b03165f9081526005602052604090205442101590565b610e9633610e4e565b610eb357604051633e34a41b60e21b815260040160405180910390fd5b6001600160a01b03165f90815260066020526040902080546001600160a01b03191633179055565b7f0000000000000000000000000000000000000000000000000000000000000000841015610f1c57604051631260d0af60e31b815260040160405180910390fd5b683635c9adc5dea00000831015610f465760405163732f941360e01b815260040160405180910390fd5b6001600160a01b0385165f9081526005602052604090205415610f7c57604051630ea075bf60e21b815260040160405180910390fd5b610fa7337f000000000000000000000000000000000000000000000000000000000000000085611489565b610fb18442611bcd565b6001600160a01b0386165f81815260056020526040908190209290925590517f97326258efdae63280617ca33884e507791c2abeed7b82acd77f1853394ef94b90610d68908790879087908790611c54565b5f620f42406004546110159190611b23565b905090565b4284101561106a5760405162461bcd60e51b815260206004820152601760248201527f5045524d49545f444541444c494e455f45585049524544000000000000000000604482015260640161073d565b5f6001611075610828565b6001600160a01b038a81165f8181526003602090815260409182902080546001810190915582517f6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c98184015280840194909452938d166060840152608083018c905260a083019390935260c08083018b90528151808403909101815260e08301909152805192019190912061190160f01b6101008301526101028201929092526101228101919091526101420160408051601f1981840301815282825280516020918201205f84529083018083525260ff871690820152606081018590526080810184905260a0016020604051602081039080840390855afa15801561117d573d5f803e3d5ffd5b5050604051601f1901519150506001600160a01b038116158015906111b35750876001600160a01b0316816001600160a01b0316145b6111f05760405162461bcd60e51b815260206004820152600e60248201526d24a72b20a624a22fa9a4a3a722a960911b604482015260640161073d565b6111fb8188886113a1565b5050505050505050565b5f610e3b838361159b565b6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165f908152602081905260408120545f611251611003565b90505f818310611267578463ffffffff16611282565b816112788463ffffffff8816611af9565b6112829190611b23565b905061129181620f4240611b10565b61129e87620f4240611af9565b6112a89190611b23565b9695505050505050565b60025415801561133f57507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166318160ddd6040518163ffffffff1660e01b8152600401602060405180830381865afa158015611319573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061133d9190611c73565b155b611347575f80fd5b6001600160a01b0383165f81815260056020526040808220429055517f97326258efdae63280617ca33884e507791c2abeed7b82acd77f1853394ef94b9161139491819087908790611c54565b60405180910390a2505050565b6001600160a01b038381165f8181526001602090815260408083209487168084529482529182902085905590518481527f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591015b60405180910390a3505050565b8060025f8282546114139190611b10565b90915550506001600160a01b0382165f908152602081905260408120805483929061143f908490611b10565b90915550506040518181525f906001600160a01b038416907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef906020015b60405180910390a35050565b6001600160a01b03821661149b575f80fd5b6001600160a01b0383165f908152602081905260409020548111156114fc576001600160a01b0383165f818152602081905260409081902054905163391434e360e21b8152600481019290925260248201526044810182905260640161073d565b6001600160a01b0383165f9081526020819052604081208054839290611523908490611b10565b90915550506001600160a01b0382165f908152602081905260408120805483929061154f908490611bcd565b92505081905550816001600160a01b0316836001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040516113f591815260200190565b6001600160a01b038083165f90815260016020908152604080832093851683529290529081205480156115cf5790506105b7565b6115d883610e4e565b8061160157506001600160a01b038084165f908152600660205260409020546116019116610e4e565b1561161357600160ff1b9150506105b7565b5f9150506105b7565b5092915050565b6001600160a01b038216611635575f80fd5b8060025f8282546116469190611bcd565b90915550506001600160a01b0382165f9081526020819052604081208054839290611672908490611bcd565b90915550506040518181526001600160a01b038316905f907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9060200161147d565b5f6020808352835180828501525f5b818110156116df578581018301518582016040015282016116c3565b505f604082860101526040601f19601f8301168501019250505092915050565b80356001600160a01b0381168114611715575f80fd5b919050565b5f806040838503121561172b575f80fd5b611734836116ff565b946020939093013593505050565b803563ffffffff81168114611715575f80fd5b5f8060408385031215611766575f80fd5b8235915061177660208401611742565b90509250929050565b5f805f60608486031215611791575f80fd5b61179a846116ff565b92506117a8602085016116ff565b9150604084013590509250925092565b5f602082840312156117c8575f80fd5b610e3b826116ff565b5f805f606084860312156117e3575f80fd5b6117ec846116ff565b92506020840135915061180160408501611742565b90509250925092565b5f8083601f84011261181a575f80fd5b50813567ffffffffffffffff811115611831575f80fd5b602083019150836020828501011115611848575f80fd5b9250929050565b5f805f8060608587031215611862575f80fd5b61186b856116ff565b935060208501359250604085013567ffffffffffffffff81111561188d575f80fd5b6118998782880161180a565b95989497509550505050565b5f602082840312156118b5575f80fd5b5035919050565b5f805f80608085870312156118cf575f80fd5b6118d8856116ff565b9350602085013592506118ed60408601611742565b91506118fb60608601611742565b905092959194509250565b5f805f805f6060868803121561191a575f80fd5b611923866116ff565b9450602086013567ffffffffffffffff8082111561193f575f80fd5b818801915088601f830112611952575f80fd5b813581811115611960575f80fd5b8960208260051b8501011115611974575f80fd5b602083019650809550506040880135915080821115611991575f80fd5b5061199e8882890161180a565b969995985093965092949392505050565b5f805f805f608086880312156119c3575f80fd5b6119cc866116ff565b94506020860135935060408601359250606086013567ffffffffffffffff8111156119f5575f80fd5b61199e8882890161180a565b5f805f805f805f60e0888a031215611a17575f80fd5b611a20886116ff565b9650611a2e602089016116ff565b95506040880135945060608801359350608088013560ff81168114611a51575f80fd5b9699959850939692959460a0840135945060c09093013592915050565b5f8060408385031215611a7f575f80fd5b611a88836116ff565b9150611776602084016116ff565b5f805f60408486031215611aa8575f80fd5b611ab1846116ff565b9250602084013567ffffffffffffffff811115611acc575f80fd5b611ad88682870161180a565b9497909650939450505050565b634e487b7160e01b5f52601160045260245ffd5b80820281158282048414176105b7576105b7611ae5565b818103818111156105b7576105b7611ae5565b5f82611b3d57634e487b7160e01b5f52601260045260245ffd5b500490565b81835281816020850137505f828201602090810191909152601f909101601f19169091010190565b60018060a01b0385168152836020820152606060408201525f6112a8606083018486611b42565b5f60208284031215611ba1575f80fd5b81518015158114610e3b575f80fd5b63ffffffff82811682821603908082111561161c5761161c611ae5565b808201808211156105b7576105b7611ae5565b6001600160a01b038481168252604060208084018290529083018490525f91859160608501845b87811015611c2c5783611c19866116ff565b1682529382019390820190600101611c07565b5098975050505050505050565b602081525f611c4c602083018486611b42565b949350505050565b848152836020820152606060408201525f6112a8606083018486611b42565b5f60208284031215611c83575f80fd5b505191905056fea26469706673582212204ea2d3f5e523dfe23041019f9c9ecb1f0fc717baca0f8bcb0ddeaa294c4f0e4f64736f6c63430008140033",
  "devdoc": {
    "events": {
      "Approval(address,address,uint256)": {
        "details": "Emitted when the allowance of a `spender` for an `owner` is set by a call to `approve`. `value` is the new allowance."
      },
      "Transfer(address,address,uint256)": {
        "details": "Emitted when `value` tokens are moved from one account (`from`) to another (`to`). Note that `value` may be zero."
      }
    },
    "kind": "dev",
    "methods": {
      "allowance(address,address)": {
        "details": "See `IERC20.allowance`."
      },
      "approve(address,uint256)": {
        "details": "See `IERC20.approve`. Requirements: - `spender` cannot be the zero address."
      },
      "balanceOf(address)": {
        "details": "See `IERC20.balanceOf`."
      },
      "totalSupply()": {
        "details": "See `IERC20.totalSupply`."
      },
      "transfer(address,uint256)": {
        "details": "See `IERC20.transfer`. Requirements: - `recipient` cannot be the zero address. - the caller must have a balance of at least `amount`."
      },
      "transferFrom(address,address,uint256)": {
        "details": "See `IERC20.transferFrom`. Emits an `Approval` event indicating the updated allowance. This is not required by the EIP. See the note at the beginning of `ERC20`; Requirements: - `sender` and `recipient` cannot be the zero address. - `sender` must have a balance of at least `value`. - the caller must have allowance for `sender`'s tokens of at least `amount`."
      }
    },
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "MIN_FEE()": {
        "notice": "Minimal fee and application period when suggesting a new minter."
      },
      "burn(uint256)": {
        "notice": "Anyone is allowed to burn their ZCHF."
      },
      "burnFrom(address,uint256)": {
        "notice": "Burn someone elses ZCHF."
      },
      "burnFromWithReserve(address,uint256,uint32)": {
        "notice": "Burns the target amount taking the tokens to be burned from the payer and the payer's reserve. The caller is only allowed to use this method for tokens also minted through the caller with the same _reservePPM amount. Example: the calling contract has previously minted 100 ZCHF with a reserve ratio of 20% (i.e. 200000 ppm). To burn half of that again, the minter calls burnFrom with a target amount of 50 ZCHF. Assuming that reserves are only 90% covered, this call will deduct 41 ZCHF from the payer's balance and 9 from the reserve, while reducing the minter reserve by 10."
      },
      "burnWithReserve(uint256,uint32)": {
        "notice": "Burns the provided number of tokens plus whatever reserves are associated with that amount given the reserve requirement. The caller is only allowed to use this method for tokens also minted through the caller with the same _reservePPM amount. Example: the calling contract has previously minted 100 ZCHF with a reserve ratio of 20% (i.e. 200000 ppm). Now they have 41 ZCHF that they do not need so they decide to repay that amount. Assuming the reserves are only 90% covered, the call to burnWithReserve will burn the 41 plus 9 from the reserve, reducing the outstanding 'debt' of the caller by 50 ZCHF in total. This total is returned by the method so the caller knows how much less they owe."
      },
      "burnWithourReserve(uint256,uint32)": {
        "notice": "Burn that amount without reclaiming the reserve, but freeing it up and thereby essentially donating it to the pool share holders. This can make sense in combination with 'notifyLoss', i.e. when it is the pool share holders that bear the risk and depending on the outcome they make a profit or a loss. Design rule: Minters calling this method are only allowed to so for tokens amounts they previously minted with the same _reservePPM amount. For example, if someone minted 50 ZCHF earlier with a 20% reserve requirement (200000 ppm), they got 40 ZCHF and paid 10 ZCHF into the reserve. Now they want to repay the debt by burning 50 ZCHF. When doing so using this method, 50 ZCHF get burned and on top of that, 10 ZCHF previously assigned to the minter's reserved are reassigned to the pool share holders."
      },
      "calculateAssignedReserve(uint256,uint32)": {
        "notice": "Calculates the reserve attributable to someone who minted the given amount with the given reserve requirement. Under normal circumstances, this is just the reserver requirement multiplied by the amount. However, after a severe loss of capital that burned into the minter's reserve, this can also be less than that."
      },
      "calculateFreedAmount(uint256,uint32)": {
        "notice": "Calculate the amount that is freed when returning amountExcludingReserve given a reserve ratio of reservePPM, taking into account potential losses. Example values in the comments."
      },
      "constructor": {
        "notice": "Initiates the Frankencoin with the provided minimum application period for new plugins in seconds, for example 10 days, i.e. 3600*24*10 = 864000"
      },
      "denyMinter(address,address[],string)": {
        "notice": "Qualified pool share holders can deny minters during the application period. Calling this function is relatively cheap thanks to the deletion of a storage slot."
      },
      "equity()": {
        "notice": "The amount of equity of the Frankencoin system in ZCHF, owned by the holders of Frankencoin Pool Shares. Note that the equity contract technically holds both the minter reserve as well as the equity, so the minter reserve must be subtracted. All fees and other kind of income is added to the Equity contract and essentially constitutes profits attributable to the pool share holders."
      },
      "isMinter(address)": {
        "notice": "Returns true if the address is an approved minter."
      },
      "isPosition(address)": {
        "notice": "Returns the address of the minter that created this position or null if the provided address is unknown."
      },
      "mintWithReserve(address,uint256,uint32,uint32)": {
        "notice": "Mints the provided amount of ZCHF to the target address, automatically forwarding the minting fee and the reserve to the right place."
      },
      "minterReserve()": {
        "notice": "The reserve provided by the owners of collateralized positions. The minter reserve can be used to cover losses after all else failed and the equity holders have already been wiped out."
      },
      "minters(address)": {
        "notice": "Map of minters to approval time stamps. If the time stamp is in the past, the minter contract is allowed to mint Frankencoins."
      },
      "notifyLoss(uint256)": {
        "notice": "Notify the Frankencoin that a minter lost economic access to some coins. This does not mean that the coins are literally lost. It just means that some ZCHF will likely never be repaid and that in order to bring the system back into balance, the lost amount of ZCHF must be removed from the reserve instead. For example, if a minter printed 1 million ZCHF for a mortgage and the mortgage turned out to be unsound with the house only yielding 800'000 in the subsequent auction, there is a loss of 200'000 that needs to be covered by the reserve."
      },
      "positions(address)": {
        "notice": "List of positions that are allowed to mint and the minter that registered them."
      },
      "registerPosition(address)": {
        "notice": "Registers a collateralized debt position, thereby giving it the ability to mint Frankencoins. It is assumed that the responsible minter that registers the position ensures that the position can be trusted."
      },
      "reserve()": {
        "notice": "The contract that holds the reserve."
      },
      "suggestMinter(address,uint256,uint256,string)": {
        "notice": "Publicly accessible method to suggest a new way of minting Frankencoin. The caller has to pay an application fee that is irrevocably lost even if the new minter is vetoed. The caller must assume that someone will veto the new minter unless there is broad consensus that the new minter adds value to the Frankencoin system. Complex proposals should have application periods and applications fees above the minimum. It is assumed that over time, informal ways to coordinate on new minters emerge. The message parameter might be useful for initiating further communication. Maybe it contains a link to a website describing the proposed minter."
      }
    },
    "notice": "The Frankencoin (ZCHF) is an ERC-20 token that is designed to track the value of the Swiss franc. It is not upgradable, but open to arbitrary minting plugins. These are automatically accepted if none of the qualified pool share holders casts a veto, leading to a flexible but conservative governance.",
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 8266,
        "contract": "contracts/Frankencoin.sol:Frankencoin",
        "label": "_balances",
        "offset": 0,
        "slot": "0",
        "type": "t_mapping(t_address,t_uint256)"
      },
      {
        "astId": 8272,
        "contract": "contracts/Frankencoin.sol:Frankencoin",
        "label": "_allowances",
        "offset": 0,
        "slot": "1",
        "type": "t_mapping(t_address,t_mapping(t_address,t_uint256))"
      },
      {
        "astId": 8280,
        "contract": "contracts/Frankencoin.sol:Frankencoin",
        "label": "_totalSupply",
        "offset": 0,
        "slot": "2",
        "type": "t_uint256"
      },
      {
        "astId": 8686,
        "contract": "contracts/Frankencoin.sol:Frankencoin",
        "label": "nonces",
        "offset": 0,
        "slot": "3",
        "type": "t_mapping(t_address,t_uint256)"
      },
      {
        "astId": 1085,
        "contract": "contracts/Frankencoin.sol:Frankencoin",
        "label": "minterReserveE6",
        "offset": 0,
        "slot": "4",
        "type": "t_uint256"
      },
      {
        "astId": 1090,
        "contract": "contracts/Frankencoin.sol:Frankencoin",
        "label": "minters",
        "offset": 0,
        "slot": "5",
        "type": "t_mapping(t_address,t_uint256)"
      },
      {
        "astId": 1095,
        "contract": "contracts/Frankencoin.sol:Frankencoin",
        "label": "positions",
        "offset": 0,
        "slot": "6",
        "type": "t_mapping(t_address,t_address)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_mapping(t_address,t_address)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => address)",
        "numberOfBytes": "32",
        "value": "t_address"
      },
      "t_mapping(t_address,t_mapping(t_address,t_uint256))": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => mapping(address => uint256))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_address,t_uint256)"
      },
      "t_mapping(t_address,t_uint256)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}