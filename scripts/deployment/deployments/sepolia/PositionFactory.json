{
  "address": "0xE3d245a6B6d5e792f84E078Be0122139346439C3",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_existing",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_zchf",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_owner",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_initialCol",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_initialMint",
          "type": "uint256"
        }
      ],
      "name": "clonePosition",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_owner",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_zchf",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_collateral",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_minCollateral",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_initialCollateral",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_initialLimit",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_duration",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_challengePeriod",
          "type": "uint256"
        },
        {
          "internalType": "uint32",
          "name": "_mintingFeePPM",
          "type": "uint32"
        },
        {
          "internalType": "uint256",
          "name": "_liqPrice",
          "type": "uint256"
        },
        {
          "internalType": "uint32",
          "name": "_reserve",
          "type": "uint32"
        }
      ],
      "name": "createNewPosition",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0xfbe19fc06595f795db213d188fa659aec4701a3f310a87772edafaf1f5fd2682",
  "receipt": {
    "to": null,
    "from": "0x0aB6527027EcFF1144dEc3d78154fce309ac838c",
    "contractAddress": "0xE3d245a6B6d5e792f84E078Be0122139346439C3",
    "transactionIndex": 0,
    "gasUsed": "2475611",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x3df7315d3dfebb7bfd3f024d9b538e524082df13240aa0e3474ab18d37abadfa",
    "transactionHash": "0xfbe19fc06595f795db213d188fa659aec4701a3f310a87772edafaf1f5fd2682",
    "logs": [],
    "blockNumber": 2341164,
    "cumulativeGasUsed": "2475611",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 1,
  "solcInputHash": "23f3044768f8f95e181e4d95b88161f9",
  "metadata": "{\"compiler\":{\"version\":\"0.8.13+commit.abaa5c0e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_existing\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_zchf\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_initialCol\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_initialMint\",\"type\":\"uint256\"}],\"name\":\"clonePosition\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_zchf\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_collateral\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_minCollateral\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_initialCollateral\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_initialLimit\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_duration\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_challengePeriod\",\"type\":\"uint256\"},{\"internalType\":\"uint32\",\"name\":\"_mintingFeePPM\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"_liqPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint32\",\"name\":\"_reserve\",\"type\":\"uint32\"}],\"name\":\"createNewPosition\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"clonePosition(address,address,address,uint256,uint256)\":{\"params\":{\"_existing\":\"address of the position we want to clone\",\"_initialCol\":\"initial collateral to be posted by owner (dec 18)\",\"_initialMint\":\"initial amount to mint before fees/reserve by owner\",\"_owner\":\"owner address of the new clone\",\"_zchf\":\"ZCHF address\"},\"returns\":{\"_0\":\"address of the newly created clone position\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"clonePosition(address,address,address,uint256,uint256)\":{\"notice\":\"clone an existing position. This can be a clone of another clone, or an origin position. If it's another clone, then the liquidation price is taken from the clone and the rest from the origin. Limit is \\\"inherited\\\" (and adjusted) from the origin.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/PositionFactory.sol\":\"PositionFactory\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/CloneFactory.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\ncontract CloneFactory {\\n\\n  function createClone(address target) internal returns (address result) {\\n    bytes20 targetBytes = bytes20(target);\\n    assembly {\\n      let clone := mload(0x40)\\n      mstore(clone, 0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000000000000000000000)\\n      mstore(add(clone, 0x14), targetBytes)\\n      mstore(add(clone, 0x28), 0x5af43d82803e903d91602b57fd5bf30000000000000000000000000000000000)\\n      result := create(0, clone, 0x37)\\n    }\\n  }\\n\\n}\",\"keccak256\":\"0x71bf935be02c03f3ae08585645e859516f6adca52b8adecb6d4ce5753415096e\",\"license\":\"MIT\"},\"contracts/IERC20.sol\":{\"content\":\"/**\\n* SPDX-License-Identifier: MIT\\n*\\n* Copyright (c) 2016-2019 zOS Global Limited\\n*\\n*/\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Interface of the ERC20 standard as defined in the EIP. Does not include\\n * the optional functions; to access them see `ERC20Detailed`.\\n */\\n\\ninterface IERC20 {\\n\\n    // Optional functions\\n    function name() external view returns (string memory);\\n\\n    function symbol() external view returns (string memory);\\n\\n    function decimals() external view returns (uint8);\\n\\n    /**\\n     * @dev Returns the amount of tokens in existence.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the amount of tokens owned by `account`.\\n     */\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    /**\\n     * @dev Moves `amount` tokens from the caller's account to `recipient`.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a `Transfer` event.\\n     */\\n    function transfer(address recipient, uint256 amount) external returns (bool);\\n\\n    function transferAndCall(address recipient, uint256 amount, bytes calldata data) external returns (bool);\\n\\n    /**\\n     * @dev Returns the remaining number of tokens that `spender` will be\\n     * allowed to spend on behalf of `owner` through `transferFrom`. This is\\n     * zero by default.\\n     *\\n     * This value changes when `approve` or `transferFrom` are called.\\n     */\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /**\\n     * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * > Beware that changing an allowance with this method brings the risk\\n     * that someone may use both the old and the new allowance by unfortunate\\n     * transaction ordering. One possible solution to mitigate this race\\n     * condition is to first reduce the spender's allowance to 0 and set the\\n     * desired value afterwards:\\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n     *\\n     * Emits an `Approval` event.\\n     */\\n    function approve(address spender, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Moves `amount` tokens from `sender` to `recipient` using the\\n     * allowance mechanism. `amount` is then deducted from the caller's\\n     * allowance.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a `Transfer` event.\\n     */\\n    function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n     * another (`to`).\\n     *\\n     * Note that `value` may be zero.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n    /**\\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n     * a call to `approve`. `value` is the new allowance.\\n     */\\n    event Approval(address indexed owner, address indexed spender, uint256 value);\\n\\n}\",\"keccak256\":\"0xca95e6b6324b1c92dca4759b3da5fc251053691de885f2e23021eb5abdddea9c\",\"license\":\"MIT\"},\"contracts/IERC677Receiver.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\ninterface IERC677Receiver {\\n    \\n    function onTokenTransfer(address from, uint256 amount, bytes calldata data) external returns (bool);\\n\\n}\",\"keccak256\":\"0x40703acdfa2126286b117ad0cca84c0a4ca2d3b18586765186c9bdd8ad5cf744\",\"license\":\"MIT\"},\"contracts/IFrankencoin.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\nimport \\\"./IERC20.sol\\\";\\nimport \\\"./IReserve.sol\\\";\\n\\ninterface IFrankencoin is IERC20 {\\n\\n    function suggestMinter(address _minter, uint256 _applicationPeriod, \\n      uint256 _applicationFee, string calldata _message) external;\\n\\n    function registerPosition(address position) external;\\n\\n    function denyMinter(address minter, address[] calldata helpers, string calldata message) external;\\n\\n    function reserve() external view returns (IReserve);\\n\\n    function isMinter(address minter) external view returns (bool);\\n\\n    function isPosition(address position) external view returns (address);\\n    \\n    function mint(address target, uint256 amount) external;\\n\\n    function mint(address target, uint256 amount, uint32 reservePPM, uint32 feePPM) external;\\n\\n    function burn(uint256 amountIncludingReserve, uint32 reservePPM) external;\\n\\n    function burnFrom(address payer, uint256 targetTotalBurnAmount, uint32 _reservePPM) external returns (uint256);\\n\\n    function burnWithReserve(uint256 amountExcludingReserve, uint32 reservePPM) external returns (uint256);\\n\\n    function burn(address target, uint256 amount) external;\\n\\n    function notifyLoss(uint256 amount) external;\\n\\n}\",\"keccak256\":\"0xabb33542d10c4922e9df1e5c64ef6e6c780a6deadd029488aebe5d6c374b39a3\",\"license\":\"MIT\"},\"contracts/IPosition.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\nimport \\\"./IERC20.sol\\\";\\nimport \\\"./IReserve.sol\\\";\\nimport \\\"./IFrankencoin.sol\\\";\\n\\ninterface IPosition {\\n\\n    function collateral() external returns (IERC20);\\n\\n    function minimumCollateral() external returns (uint256);\\n\\n    function challengePeriod() external returns (uint256);\\n\\n    function price() external returns (uint256);\\n\\n    function initializeClone(address owner, uint256 _price, uint256 _limit, uint256 _coll, uint256 _mint) external;\\n\\n    function deny(address[] calldata helpers, string calldata message) external;\\n\\n    function notifyChallengeStarted(uint256 size) external;\\n\\n    function tryAvertChallenge(uint256 size, uint256 bid) external returns (bool);\\n\\n    function notifyChallengeSucceeded(address bidder, uint256 bid, uint256 size) external returns (uint256, uint256, uint32);\\n\\n}\",\"keccak256\":\"0x765cc70014a619739d7447c7d5849bf272c970d362f37b1ced175392774a63a1\",\"license\":\"MIT\"},\"contracts/IReserve.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\ninterface IReserve {\\n   function isQualified(address sender, address[] calldata helpers) external view returns (bool);\\n}\",\"keccak256\":\"0x0fe637cc8a87dd12b7a236a86c15d52990ea3224413a1ec0e776b093b44eca0d\",\"license\":\"MIT\"},\"contracts/MathUtil.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity >=0.8.0 <0.9.0;\\n\\n/** \\n * @title Functions for share valuation\\n */\\ncontract MathUtil {\\n\\n    uint256 internal constant ONE_DEC18 = 10**18;\\n    uint256 internal constant THRESH_DEC18 =  10000000000000000;//0.01\\n    /**\\n     * @notice Cubic root with Halley approximation\\n     *         Number 1e18 decimal\\n     * @param _v     number for which we calculate x**(1/3)\\n     * @return returns _v**(1/3)\\n     */\\n    function _cubicRoot(uint256 _v) internal pure returns (uint256) {\\n        uint256 x = ONE_DEC18;\\n        uint256 xOld;\\n        bool cond;\\n        do {\\n            xOld = x;\\n            uint256 powX3 = _mulD18(_mulD18(x, x), x);\\n            x = _mulD18(x, _divD18( (powX3 + 2 * _v) , (2 * powX3 + _v)));\\n            cond = xOld > x ? xOld - x > THRESH_DEC18 : x - xOld > THRESH_DEC18;\\n        } while ( cond );\\n        return x;\\n    }\\n\\n    function _mulD18(uint256 _a, uint256 _b) internal pure returns(uint256) {\\n        return _a * _b / ONE_DEC18;\\n    }\\n\\n    function _divD18(uint256 _a, uint256 _b) internal pure returns(uint256) {\\n        return (_a * ONE_DEC18) / _b ;\\n    }\\n\\n    function _power3(uint256 _x) internal pure returns(uint256) {\\n        return _mulD18(_mulD18(_x, _x), _x);\\n    }\\n\\n}\",\"keccak256\":\"0xb5d4f2e9e32e67daec5e87f2953a5f59b4a871d1feca79ca8703a61757215dce\",\"license\":\"MIT\"},\"contracts/Ownable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n//\\n// From https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/access/Ownable.sol\\n//\\n// Modifications:\\n// - Replaced Context._msgSender() with msg.sender\\n// - Made leaner\\n// - Extracted interface\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Contract module which provides a basic access control mechanism, where\\n * there is an account (an owner) that can be granted exclusive access to\\n * specific functions.\\n *\\n * By default, the owner account will be the one that deploys the contract. This\\n * can later be changed with {transferOwnership}.\\n *\\n * This module is used through inheritance. It will make available the modifier\\n * `onlyOwner`, which can be applied to your functions to restrict their use to\\n * the owner.\\n */\\ncontract Ownable {\\n\\n    address public owner;\\n\\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\\n\\n    /**\\n     * @dev Initializes the contract setting the deployer as the initial owner.\\n     */\\n    constructor (address initialOwner) {\\n        require(initialOwner != address(0), \\\"0x0\\\");\\n        owner = initialOwner;\\n        emit OwnershipTransferred(address(0), owner);\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Can only be called by the current owner.\\n     */\\n    function transferOwnership(address newOwner) virtual public onlyOwner {\\n        require(newOwner != address(0), \\\"0x0\\\");\\n        owner = newOwner;\\n        emit OwnershipTransferred(owner, newOwner);\\n    }\\n\\n    modifier onlyOwner() {\\n        require(owner == msg.sender || owner == address(0x0), \\\"not owner\\\");\\n        _;\\n    }\\n}\",\"keccak256\":\"0xeffc1aaff0fe8713402464c0d37d7f37a3e17025d40f088a6bd0f13ab321f1c3\",\"license\":\"MIT\"},\"contracts/Position.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\nimport \\\"./IERC20.sol\\\";\\nimport \\\"./IPosition.sol\\\";\\nimport \\\"./IReserve.sol\\\";\\nimport \\\"./IFrankencoin.sol\\\";\\nimport \\\"./Ownable.sol\\\";\\nimport \\\"./IERC677Receiver.sol\\\";\\nimport \\\"./MathUtil.sol\\\";\\n\\n/**\\n * A collateralized minting position.\\n */\\ncontract Position is Ownable, IERC677Receiver, IPosition, MathUtil {\\n\\n    uint256 public constant WARM_UP_PERIOD = 3600; //TODO: 1h set to 7 days for production\\n\\n    uint256 public price; // the zchf price per unit of the collateral below which challenges succeed, 18 digits\\n    uint256 public minted; // how much has been minted so far, including reserve\\n    uint256 public challengedAmount; // amount of the collateral that is currently under a challenge\\n    uint256 public immutable challengePeriod; //challenge period in timestamp units (seconds) for liquidation\\n\\n    uint256 public cooldown;\\n    uint256 public limit; // how many zchf can be minted at most, including reserve\\n    uint256 public immutable expiration;\\n\\n    address public immutable original; // originals point to themselves, clone to their origin\\n    address public immutable factory;\\n    address public immutable hub;\\n    IFrankencoin public immutable zchf; // currency\\n    IERC20 public override immutable collateral; // collateral\\n    uint256 public override immutable minimumCollateral; // prevent dust amounts\\n\\n    uint32 public immutable mintingFeePPM;\\n    uint32 public immutable reserveContribution; // in ppm\\n\\n    event PositionDenied(address indexed sender, string message);\\n    event MintingUpdate(uint256 collateral, uint256 price, uint256 minted, uint256 limit);\\n    event PositionOpened(address indexed owner, address original, address zchf, address collateral, uint256 price);\\n\\n    /**\\n    * @param _owner             position owner address\\n    * @param _hub               address of minting hub\\n    * @param _zchf              ZCHF address\\n    * @param _collateral        collateral address\\n    * @param _minCollateral     minimum collateral required to prevent dust amounts\\n    * @param _initialCollateral amount of initial collateral to be deposited\\n    * @param _initialLimit      maximal amount of ZCHF that can be minted by the position owner (includes reserve)\\n    * @param _duration          position tenor in unit of timestamp (seconds) from 'now'\\n    * @param _challengePeriod   challenge period. Longer for less liquid collateral.\\n    * @param _mintingFeePPM     fee to enter position in parts per million of ZCHF amount\\n    * @param _liqPrice          Liquidation price (dec18) that together with the reserve and\\n    *                           fees determines the minimal collateralization ratio\\n    * @param _reservePPM        ZCHF pool reserve requirement in parts per million of ZCHF amount\\n    */\\n    constructor(address _owner, address _hub, address _zchf, address _collateral, \\n        uint256 _minCollateral, uint256 _initialCollateral, \\n        uint256 _initialLimit, uint256 _duration, uint256 _challengePeriod, uint32 _mintingFeePPM, \\n        uint256 _liqPrice, uint32 _reservePPM) Ownable(_owner) \\n    {\\n        factory = msg.sender;\\n        original = address(this);\\n        hub = _hub;\\n        price = _liqPrice;\\n        zchf = IFrankencoin(_zchf);\\n        collateral = IERC20(_collateral);\\n        mintingFeePPM = _mintingFeePPM;\\n        reserveContribution = _reservePPM;\\n        require(_initialCollateral >= _minCollateral);\\n        minimumCollateral = _minCollateral;\\n        expiration = block.timestamp + _duration;\\n        challengePeriod = _challengePeriod;\\n        restrictMinting(WARM_UP_PERIOD);\\n        limit = _initialLimit;\\n        \\n        emit PositionOpened(_owner, original, _zchf, address(collateral), _liqPrice);\\n    }\\n\\n    function initializeClone(address owner, uint256 _price, uint256 _limit, uint256 _coll, uint256 _mint) external {\\n        require(msg.sender == address(factory), \\\"factory only\\\");\\n        require(_coll >= minimumCollateral, \\\"coll not enough\\\");\\n        transferOwnership(owner);\\n        \\n        price = _mint * ONE_DEC18 / _coll;\\n        require(price <= _price, \\\"can only reduce price on clone\\\");\\n        limit = _limit;\\n        mintInternal(owner, _mint, _coll);\\n\\n        emit PositionOpened(owner, original, address(zchf), address(collateral), _price);\\n    }\\n\\n    /**\\n     * @notice adjust this position's limit to give away some limit to the clone\\n     *         invariant: global limit stays constant\\n     * @param _minimum  amount that clone wants to mint initially\\n     * @return limit for the clone\\n     */\\n    function reduceLimitForClone(uint256 _minimum) external noMintRestriction returns (uint256) {\\n        require(msg.sender == address(factory), \\\"only factory\\\");\\n        require(minted + _minimum <= limit, \\\"limit exceeded\\\");\\n        uint256 reduction = (limit - minted - _minimum)/2;\\n        limit -= reduction + _minimum;\\n        return reduction + _minimum;\\n    }\\n\\n    function deny(address[] calldata helpers, string calldata message) public {\\n        require(minted == 0, \\\"minted\\\"); // must deny before any tokens are minted\\n        require(IReserve(zchf.reserve()).isQualified(msg.sender, helpers), \\\"not qualified\\\");\\n        collateral.transfer(owner, collateral.balanceOf(address(this)));\\n        zchf.transfer(owner, zchf.balanceOf(address(this)));\\n        cooldown = expiration;\\n        emit PositionDenied(msg.sender, message);\\n    }\\n\\n    /**\\n     * This is how much the minter can actually use when minting ZCHF, with the rest being used\\n     * to buy reserve pool shares.\\n     */\\n    function getUsableMint(uint256 totalMint, bool beforeFees) public view returns (uint256){\\n        uint256 usable = totalMint * (1000_000 - reserveContribution) / 1000_000;\\n        if (beforeFees){\\n            return usable;\\n        } else {\\n            return totalMint * (1000_000 - mintingFeePPM) / 1000_000;\\n        }\\n    }\\n\\n    function adjust(uint256 newMinted, uint256 newCollateral, uint256 newPrice) public {\\n        if (newPrice != price){\\n            adjustPrice(newPrice);\\n        }\\n        uint256 colbal = collateralBalance();\\n        if (newCollateral > colbal){\\n            collateral.transferFrom(msg.sender, address(this), newCollateral - colbal);\\n        }\\n        if (newMinted < minted){\\n            zchf.burnFrom(msg.sender, minted - newMinted, reserveContribution);\\n            minted = newMinted;\\n        }\\n        if (newCollateral < colbal){\\n            withdrawCollateral(msg.sender, colbal - newCollateral);\\n        }\\n        if (newMinted > minted){\\n            mint(msg.sender, newMinted - minted);\\n        }\\n    }\\n\\n    function adjustPrice(uint256 newPrice) public onlyOwner noChallenge {\\n        if (newPrice > price) {\\n            restrictMinting(3 days);\\n        } else {\\n            require(isWellCollateralized(collateralBalance(), newPrice));\\n        }\\n        price = newPrice;\\n        emitUpdate();\\n    }\\n\\n    function collateralBalance() internal view returns (uint256){\\n        return IERC20(collateral).balanceOf(address(this));\\n    }\\n\\n    function mint(address target, uint256 amount) public onlyOwner noChallenge noMintRestriction {\\n        mintInternal(target, amount, collateralBalance());\\n    }\\n\\n    function mintInternal(address target, uint256 amount, uint256 collateral_) internal {\\n        require(minted + amount <= limit, \\\"limit exceeded\\\");\\n        zchf.mint(target, amount, reserveContribution, mintingFeePPM);\\n        minted += amount;\\n\\n        require(isWellCollateralized(collateral_, price), \\\"not well collateralized\\\");\\n        emitUpdate();\\n    }\\n\\n    function restrictMinting(uint256 period) internal {\\n        uint256 horizon = block.timestamp + period;\\n        if (horizon > cooldown){\\n            cooldown = horizon;\\n        }\\n    }\\n    \\n    function onTokenTransfer(address, uint256 amount, bytes calldata) override external returns (bool) {\\n        if (msg.sender == address(zchf)){\\n            repayInternal(amount);\\n        } else {\\n            require(false);\\n        }\\n        return true;\\n    }\\n\\n    function repay(uint256 amount) public onlyOwner {\\n        IERC20(zchf).transferFrom(msg.sender, address(this), amount);\\n        repayInternal(amount);\\n    }\\n\\n    function repayInternal(uint256 burnable) internal noChallenge {\\n        uint256 actuallyBurned = IFrankencoin(zchf).burnWithReserve(burnable, reserveContribution);\\n        notifyRepaidInternal(actuallyBurned);\\n    }\\n\\n    function notifyRepaidInternal(uint256 amount) internal {\\n        require(amount <= minted);\\n        minted -= amount;\\n        emitUpdate();\\n    }\\n\\n    /**\\n     * Withdraw any token that might have ended up on this address, except for collateral\\n     * and reserve tokens, which also serve as a collateral.\\n     */\\n    function withdraw(address token, address target, uint256 amount) external onlyOwner {\\n        if (token == address(collateral)){\\n            withdrawCollateral(target, amount);\\n        } else {\\n            IERC20(token).transfer(target, amount);\\n        }\\n    }\\n\\n    function withdrawCollateral(address target, uint256 amount) public onlyOwner noChallenge {\\n        IERC20(collateral).transfer(target, amount);\\n        uint256 balance = collateralBalance();\\n        require(isWellCollateralized(balance, price));\\n        if (balance == 0){\\n            // Close\\n            cooldown = expiration;\\n        } else {\\n            require(balance >= minimumCollateral);\\n        }\\n        emitUpdate();\\n    }\\n\\n    function isWellCollateralized(uint256 collateralReserve, uint256 atPrice) internal view returns (bool) {\\n        return collateralReserve * atPrice >= minted * ONE_DEC18;\\n    }\\n\\n    function emitUpdate() internal {\\n        emit MintingUpdate(collateralBalance(), price, minted, limit);\\n    }\\n\\n    function notifyChallengeStarted(uint256 size) external onlyHub {\\n        // require minimum size, note that collateral balance can be below minimum if it was partially challenged before\\n        require(size >= minimumCollateral || size >= collateralBalance(), \\\"size too small\\\");\\n        challengedAmount += size;\\n    }\\n\\n    /**\\n     * @notice check whether challenge can be averted\\n     * @param _collateralAmount   amount of collateral challenged (dec18)\\n     * @param _bidAmountZCHF      bid amount in ZCHF (dec18)\\n     * @return true if challenge can be averted\\n     */\\n    function tryAvertChallenge(uint256 _collateralAmount, uint256 _bidAmountZCHF) external onlyHub returns (bool) {\\n        if (block.timestamp >= expiration){\\n            return false; // position expired, let every challenge succeed\\n        } else if (_bidAmountZCHF * ONE_DEC18 >= price * _collateralAmount){\\n            // challenge averted, bid is high enough\\n            challengedAmount -= _collateralAmount;\\n            // don't allow minter to close the position immediately so challenge can be repeated\\n            restrictMinting(1 days);\\n            return true;\\n        } else {\\n            return false;\\n        }\\n    }\\n\\n    /**\\n     * @notice Notifies the position that a challenge was successful.\\n     * Triggers the payout of the challenged part of the collateral.\\n     * Returns three important numbers:\\n     *  - repay: the amount that is needed to repay for the actually minted zchf wit the challenged collateral\\n     *  - minted: the number of zchf that where actually minted and used using the challenged collateral\\n     *  - mintmax: the maximum number of zchf that could have been minted and used using the challenged collateral \\n     * @param _bidder   address of the bidder that receives the collateral\\n     * @param _bid      bid amount in ZCHF (dec18)\\n     * @param _size     size of the collateral bid for (dec 18)\\n     * @return adjusted bid size, repaied xchf, reserve contribution ppm\\n     */\\n    function notifyChallengeSucceeded(address _bidder, uint256 _bid, uint256 _size) \\n        external onlyHub returns (uint256, uint256, uint32)\\n    {\\n        challengedAmount -= _size;\\n        uint256 volumeZCHF = _mulD18(price, _size);\\n        if (volumeZCHF > minted){\\n            _size = _divD18(_mulD18(_size, minted), volumeZCHF);\\n            _bid = _divD18(_mulD18(_bid, minted), volumeZCHF);\\n            volumeZCHF = minted;\\n        }\\n        require(_bid < volumeZCHF, \\\"challenge not successful\\\");\\n        // transfer collateral to the bidder\\n        IERC20(collateral).transfer(_bidder, _size);\\n        notifyRepaidInternal(volumeZCHF); // we assume the caller takes care of the actual repayment\\n        return (_bid, volumeZCHF, reserveContribution);\\n    }\\n\\n    modifier noMintRestriction() {\\n       require(cooldown < block.timestamp, \\\"cooldown\\\");\\n       require(block.timestamp <= expiration, \\\"expired\\\");\\n        _;\\n    }\\n\\n    modifier noChallenge() {\\n        require(challengedAmount == 0, \\\"challenges pending\\\");\\n        _;\\n    }\\n\\n    modifier onlyHub() {\\n        require(msg.sender == address(hub), \\\"not hub\\\");\\n        _;\\n    }\\n\\n}\",\"keccak256\":\"0xb807e7e599d40a030bcdcff8db86c3434a9a396588d2a821e78133045883d6af\",\"license\":\"MIT\"},\"contracts/PositionFactory.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\nimport \\\"./CloneFactory.sol\\\";\\nimport \\\"./Position.sol\\\";\\nimport \\\"./IFrankencoin.sol\\\";\\n\\ncontract PositionFactory is CloneFactory {\\n\\n    function createNewPosition(address _owner, address _zchf, address _collateral, \\n        uint256 _minCollateral, uint256 _initialCollateral, \\n        uint256 _initialLimit, uint256 _duration, uint256 _challengePeriod, \\n        uint32 _mintingFeePPM, uint256 _liqPrice, uint32 _reserve) \\n        external returns (address) \\n    {\\n        return address(new Position(_owner, msg.sender, _zchf, _collateral, \\n            _minCollateral, _initialCollateral, _initialLimit, _duration, \\n            _challengePeriod, _mintingFeePPM, _liqPrice, _reserve));\\n    }\\n\\n    /**\\n    * @notice clone an existing position. This can be a clone of another clone,\\n    * or an origin position. If it's another clone, then the liquidation price\\n    * is taken from the clone and the rest from the origin. Limit is \\\"inherited\\\"\\n    * (and adjusted) from the origin.\\n    * @param _existing     address of the position we want to clone\\n    * @param _zchf         ZCHF address\\n    * @param _owner        owner address of the new clone\\n    * @param _initialCol   initial collateral to be posted by owner (dec 18)\\n    * @param _initialMint  initial amount to mint before fees/reserve by owner\\n    * @return address of the newly created clone position\\n    */\\n    function clonePosition(address _existing, address _zchf, address _owner, \\n        uint256 _initialCol, uint256 _initialMint) \\n        external returns (address) \\n    {\\n        Position existing = Position(_existing);\\n        uint256 limit = existing.reduceLimitForClone(_initialMint);\\n        Position clone = Position(createClone(existing.original()));\\n        // suggest minter\\n        IFrankencoin(_zchf).suggestMinter(address(clone), 0, 0, \\\"clone\\\");\\n        // initialize and mint\\n        clone.initializeClone(_owner, existing.price(), limit, _initialCol, _initialMint);\\n        return address(clone);\\n    }\\n\\n}\",\"keccak256\":\"0xbfa051228c119948b7c6e0d4a4ef5c8311ee7385b3bd6f8f7341b38b71fef2bf\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b50612c26806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c80632e292e8d1461003b57806353af18071461006a575b600080fd5b61004e6100493660046103fe565b61007d565b6040516001600160a01b03909116815260200160405180910390f35b61004e610078366004610472565b6102d8565b604051635861764160e11b815260048101829052600090869082906001600160a01b0383169063b0c2ec82906024016020604051808303816000875af11580156100cb573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906100ef919061051a565b9050600061015d836001600160a01b03166346c715fa6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610134573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101589190610533565b610387565b60405163d1a15ff160e01b81526001600160a01b0380831660048301526000602483018190526044830152608060648301526005608483015264636c6f6e6560d81b60a48301529192509089169063d1a15ff19060c401600060405180830381600087803b1580156101ce57600080fd5b505af11580156101e2573d6000803e3d6000fd5b50505050806001600160a01b031663aee1a95988856001600160a01b031663a035b1fe6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610234573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610258919061051a565b6040516001600160e01b031960e085901b1681526001600160a01b039092166004830152602482015260448101859052606481018990526084810188905260a401600060405180830381600087803b1580156102b357600080fd5b505af11580156102c7573d6000803e3d6000fd5b50929b9a5050505050505050505050565b60008b338c8c8c8c8c8c8c8c8c8c6040516102f2906103d9565b6001600160a01b039c8d1681529a8c1660208c0152988b1660408b0152969099166060890152608088019490945260a087019290925260c086015260e085015261010084015263ffffffff9384166101208401526101408301529190911661016082015261018001604051809103906000f080158015610376573d6000803e3d6000fd5b509c9b505050505050505050505050565b6000808260601b9050604051733d602d80600a3d3981f3363d3d373d3d3d363d7360601b81528160148201526e5af43d82803e903d91602b57fd5bf360881b60288201526037816000f0949350505050565b6126998061055883390190565b6001600160a01b03811681146103fb57600080fd5b50565b600080600080600060a0868803121561041657600080fd5b8535610421816103e6565b94506020860135610431816103e6565b93506040860135610441816103e6565b94979396509394606081013594506080013592915050565b803563ffffffff8116811461046d57600080fd5b919050565b60008060008060008060008060008060006101608c8e03121561049457600080fd5b8b3561049f816103e6565b9a5060208c01356104af816103e6565b995060408c01356104bf816103e6565b985060608c0135975060808c0135965060a08c0135955060c08c0135945060e08c013593506104f16101008d01610459565b92506101208c013591506105086101408d01610459565b90509295989b509295989b9093969950565b60006020828403121561052c57600080fd5b5051919050565b60006020828403121561054557600080fd5b8151610550816103e6565b939250505056fe6101c06040523480156200001257600080fd5b5060405162002699380380620026998339810160408190526200003591620001fb565b8b6001600160a01b038116620000775760405162461bcd60e51b815260206004820152600360248201526203078360ec1b604482015260640160405180910390fd5b600080546001600160a01b0319166001600160a01b03831690811782556040519091907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a3503360e0523060c0526001600160a01b038b81166101005260018390558a81166101205289166101405263ffffffff8084166101805281166101a052878710156200010957600080fd5b6101608890526200011b8542620002ba565b60a052608084905262000130610e10620001a4565b600586905560c05161014051604080516001600160a01b0393841681528d84166020820152918316828201526060820185905251918e16917f591ede549d7e337ac63249acd2d7849532b0a686377bbf0b0cca6c8abd9552f29181900360800190a2505050505050505050505050620002e1565b6000620001b28242620002ba565b9050600454811115620001c55760048190555b5050565b80516001600160a01b0381168114620001e157600080fd5b919050565b805163ffffffff81168114620001e157600080fd5b6000806000806000806000806000806000806101808d8f0312156200021f57600080fd5b6200022a8d620001c9565b9b506200023a60208e01620001c9565b9a506200024a60408e01620001c9565b99506200025a60608e01620001c9565b985060808d0151975060a08d0151965060c08d0151955060e08d015194506101008d015193506200028f6101208e01620001e6565b92506101408d01519150620002a86101608e01620001e6565b90509295989b509295989b509295989b565b60008219821115620002dc57634e487b7160e01b600052601160045260246000fd5b500190565b60805160a05160c05160e05161010051610120516101405161016051610180516101a05161224062000459600039600081816102a301528181610560015281816110440152818161128e01528181611a5f0152611ba2015260008181610407015281816105b70152611bca01526000818161047001528181610b2601528181610e6601526114040152600081816104e50152818161078c01528181610a6401528181610f21015281816112100152818161154a01528181611799015261192a0152600081816104be015281816106400152818161089301528181610bbe01528181610fd8015281816113610152818161152201528181611a890152611bf101526000818161025101528181610c4d01528181610e2701526110fd015260008181610497015281816113a6015261165001526000818161034f01526114f40152600081816103280152818161097c01528181610afd01528181610c8c01528181610dae01526115ed0152600061053201526122406000f3fe608060405234801561001057600080fd5b50600436106101f05760003560e01c8063787a08a61161010f578063b0c2ec82116100a2578063d8dfeb4511610071578063d8dfeb45146104e0578063d9caed1214610507578063f2fde38b1461051a578063f3f480d91461052d57600080fd5b8063b0c2ec8214610458578063babe7c741461046b578063c45a015514610492578063c4d4803a146104b957600080fd5b8063a1362033116100de578063a136203314610402578063a4c0ed3614610429578063a4d66daf1461043c578063aee1a9591461044557600080fd5b8063787a08a6146103d45780638da5cb5b146103dd57806397fbdf08146103f0578063a035b1fe146103f957600080fd5b806340c10f19116101875780634f02c420116101565780634f02c420146103715780636f871cec1461037a578063707271b11461038d57806372bf079e146103c157600080fd5b806340c10f19146102fd57806342d02041146103105780634665096d1461032357806346c715fa1461034a57600080fd5b8063365a86fc116101c3578063365a86fc1461024c578063371fd8e61461028b5780633a7c29fb1461029e5780633e94e242146102da57600080fd5b806308262940146101f55780631bbea34c1461021b57806324e657fe14610230578063350c35e914610239575b600080fd5b610208610203366004611d2f565b610554565b6040519081526020015b60405180910390f35b61022e610229366004611da8565b610600565b005b61020860035481565b61022e610247366004611e57565b6109e0565b6102737f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b039091168152602001610212565b61022e610299366004611e83565b610b5e565b6102c57f000000000000000000000000000000000000000000000000000000000000000081565b60405163ffffffff9091168152602001610212565b6102ed6102e8366004611e9c565b610c40565b6040519015158152602001610212565b61022e61030b366004611e57565b610d12565b61022e61031e366004611e83565b610e1c565b6102087f000000000000000000000000000000000000000000000000000000000000000081565b6102737f000000000000000000000000000000000000000000000000000000000000000081565b61020860025481565b61022e610388366004611ebe565b610ef1565b6103a061039b366004611eea565b6110ee565b60408051938452602084019290925263ffffffff1690820152606001610212565b61022e6103cf366004611e83565b6112b5565b61020860045481565b600054610273906001600160a01b031681565b610208610e1081565b61020860015481565b6102c57f000000000000000000000000000000000000000000000000000000000000000081565b6102ed610437366004611f1f565b611355565b61020860055481565b61022e610453366004611f6f565b61139b565b610208610466366004611e83565b6115ad565b6102087f000000000000000000000000000000000000000000000000000000000000000081565b6102737f000000000000000000000000000000000000000000000000000000000000000081565b6102737f000000000000000000000000000000000000000000000000000000000000000081565b6102737f000000000000000000000000000000000000000000000000000000000000000081565b61022e610515366004611fb3565b611759565b61022e610528366004611ff4565b61184d565b6102087f000000000000000000000000000000000000000000000000000000000000000081565b600080620f42406105857f000000000000000000000000000000000000000000000000000000000000000082612027565b6105959063ffffffff168661204c565b61059f919061206b565b905082156105ae5790506105fa565b620f42406105dc7f000000000000000000000000000000000000000000000000000000000000000082612027565b6105ec9063ffffffff168661204c565b6105f6919061206b565b9150505b92915050565b6002541561063e5760405162461bcd60e51b81526020600482015260066024820152651b5a5b9d195960d21b60448201526064015b60405180910390fd5b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663cd3293de6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561069c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106c0919061208d565b6001600160a01b0316635e1121cf3386866040518463ffffffff1660e01b81526004016106ef939291906120aa565b602060405180830381865afa15801561070c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107309190612106565b61076c5760405162461bcd60e51b815260206004820152600d60248201526c1b9bdd081c5d585b1a599a5959609a1b6044820152606401610635565b6000546040516370a0823160e01b81523060048201526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081169263a9059cbb9291169083906370a0823190602401602060405180830381865afa1580156107df573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108039190612123565b6040516001600160e01b031960e085901b1681526001600160a01b03909216600483015260248201526044016020604051808303816000875af115801561084e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108729190612106565b506000546040516370a0823160e01b81523060048201526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081169263a9059cbb9291169083906370a0823190602401602060405180830381865afa1580156108e6573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061090a9190612123565b6040516001600160e01b031960e085901b1681526001600160a01b03909216600483015260248201526044016020604051808303816000875af1158015610955573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109799190612106565b507f000000000000000000000000000000000000000000000000000000000000000060045560405133907faca80c800ec0d2aa9d9d31b7f886a1dd3067d4676abc637626a18ffb9381653d906109d2908590859061213c565b60405180910390a250505050565b6000546001600160a01b0316331480610a0257506000546001600160a01b0316155b610a1e5760405162461bcd60e51b81526004016106359061216b565b60035415610a3e5760405162461bcd60e51b81526004016106359061218e565b60405163a9059cbb60e01b81526001600160a01b038381166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063a9059cbb906044016020604051808303816000875af1158015610aad573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ad19190612106565b506000610adc611912565b9050610aea816001546119a2565b610af357600080fd5b80600003610b24577f0000000000000000000000000000000000000000000000000000000000000000600455610b51565b7f0000000000000000000000000000000000000000000000000000000000000000811015610b5157600080fd5b610b596119cd565b505050565b6000546001600160a01b0316331480610b8057506000546001600160a01b0316155b610b9c5760405162461bcd60e51b81526004016106359061216b565b6040516323b872dd60e01b8152336004820152306024820152604481018290527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906323b872dd906064016020604051808303816000875af1158015610c0f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c339190612106565b50610c3d81611a24565b50565b6000336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610c8a5760405162461bcd60e51b8152600401610635906121ba565b7f00000000000000000000000000000000000000000000000000000000000000004210610cb9575060006105fa565b82600154610cc7919061204c565b610cd9670de0b6b3a76400008461204c565b10610d0a578260036000828254610cf091906121db565b90915550610d02905062015180611b09565b5060016105fa565b5060006105fa565b6000546001600160a01b0316331480610d3457506000546001600160a01b0316155b610d505760405162461bcd60e51b81526004016106359061216b565b60035415610d705760405162461bcd60e51b81526004016106359061218e565b4260045410610dac5760405162461bcd60e51b815260206004820152600860248201526731b7b7b63237bbb760c11b6044820152606401610635565b7f0000000000000000000000000000000000000000000000000000000000000000421115610e065760405162461bcd60e51b8152602060048201526007602482015266195e1c1a5c995960ca1b6044820152606401610635565b610e188282610e13611912565b611b27565b5050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610e645760405162461bcd60e51b8152600401610635906121ba565b7f000000000000000000000000000000000000000000000000000000000000000081101580610e9a5750610e96611912565b8110155b610ed75760405162461bcd60e51b815260206004820152600e60248201526d1cda5e99481d1bdbc81cdb585b1b60921b6044820152606401610635565b8060036000828254610ee991906121f2565b909155505050565b6001548114610f0357610f03816112b5565b6000610f0d611912565b905080831115610fcc576001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000166323b872dd3330610f5285886121db565b6040516001600160e01b031960e086901b1681526001600160a01b03938416600482015292909116602483015260448201526064016020604051808303816000875af1158015610fa6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610fca9190612106565b505b6002548410156110b6577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663ea889b8a338660025461101491906121db565b6040516001600160e01b031960e085901b1681526001600160a01b039092166004830152602482015263ffffffff7f00000000000000000000000000000000000000000000000000000000000000001660448201526064016020604051808303816000875af115801561108b573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110af9190612123565b5060028490555b808310156110cc576110cc3361024785846121db565b6002548411156110e8576110e8336002548661030b91906121db565b50505050565b60008080336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461113a5760405162461bcd60e51b8152600401610635906121ba565b836003600082825461114c91906121db565b92505081905550600061116160015486611cbe565b905060025481111561119b5761118261117c86600254611cbe565b82611cdd565b945061119361117c87600254611cbe565b955060025490505b8086106111ea5760405162461bcd60e51b815260206004820152601860248201527f6368616c6c656e6765206e6f74207375636365737366756c00000000000000006044820152606401610635565b60405163a9059cbb60e01b81526001600160a01b038881166004830152602482018790527f0000000000000000000000000000000000000000000000000000000000000000169063a9059cbb906044016020604051808303816000875af1158015611259573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061127d9190612106565b5061128781611cf2565b94969495507f0000000000000000000000000000000000000000000000000000000000000000949350505050565b6000546001600160a01b03163314806112d757506000546001600160a01b0316155b6112f35760405162461bcd60e51b81526004016106359061216b565b600354156113135760405162461bcd60e51b81526004016106359061218e565b60015481111561132e576113296203f480611b09565b611348565b61133f611339611912565b826119a2565b61134857600080fd5b6001819055610c3d6119cd565b60006001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001633036101f05761139084611a24565b506001949350505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146114025760405162461bcd60e51b815260206004820152600c60248201526b666163746f7279206f6e6c7960a01b6044820152606401610635565b7f00000000000000000000000000000000000000000000000000000000000000008210156114645760405162461bcd60e51b815260206004820152600f60248201526e0c6ded8d840dcdee840cadcdeeaced608b1b6044820152606401610635565b61146d8561184d565b81611480670de0b6b3a76400008361204c565b61148a919061206b565b60018190558410156114de5760405162461bcd60e51b815260206004820152601e60248201527f63616e206f6e6c7920726564756365207072696365206f6e20636c6f6e6500006044820152606401610635565b60058390556114ee858284611b27565b604080517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0390811682527f0000000000000000000000000000000000000000000000000000000000000000811660208301527f0000000000000000000000000000000000000000000000000000000000000000811682840152606082018790529151918716917f591ede549d7e337ac63249acd2d7849532b0a686377bbf0b0cca6c8abd9552f29181900360800190a25050505050565b600042600454106115eb5760405162461bcd60e51b815260206004820152600860248201526731b7b7b63237bbb760c11b6044820152606401610635565b7f00000000000000000000000000000000000000000000000000000000000000004211156116455760405162461bcd60e51b8152602060048201526007602482015266195e1c1a5c995960ca1b6044820152606401610635565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146116ac5760405162461bcd60e51b815260206004820152600c60248201526b6f6e6c7920666163746f727960a01b6044820152606401610635565b600554826002546116bd91906121f2565b11156116fc5760405162461bcd60e51b815260206004820152600e60248201526d1b1a5b5a5d08195e18d95959195960921b6044820152606401610635565b600060028360025460055461171191906121db565b61171b91906121db565b611725919061206b565b905061173183826121f2565b6005600082825461174291906121db565b90915550611752905083826121f2565b9392505050565b6000546001600160a01b031633148061177b57506000546001600160a01b0316155b6117975760405162461bcd60e51b81526004016106359061216b565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316836001600160a01b0316036117da57610b5982826109e0565b60405163a9059cbb60e01b81526001600160a01b0383811660048301526024820183905284169063a9059cbb906044016020604051808303816000875af1158015611829573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110e89190612106565b6000546001600160a01b031633148061186f57506000546001600160a01b0316155b61188b5760405162461bcd60e51b81526004016106359061216b565b6001600160a01b0381166118c75760405162461bcd60e51b815260206004820152600360248201526203078360ec1b6044820152606401610635565b600080546001600160a01b0319166001600160a01b0383169081178255604051909182917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a350565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa158015611979573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061199d9190612123565b905090565b6000670de0b6b3a76400006002546119ba919061204c565b6119c4838561204c565b10159392505050565b7fcb2040b7eb3265a4335698c9ecbe81a5f9857e92aa32e07ce235f44c321a7e356119f6611912565b60015460025460055460408051948552602085019390935291830152606082015260800160405180910390a1565b60035415611a445760405162461bcd60e51b81526004016106359061218e565b60405163a47d75ad60e01b81526004810182905263ffffffff7f00000000000000000000000000000000000000000000000000000000000000001660248201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063a47d75ad906044016020604051808303816000875af1158015611ada573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611afe9190612123565b9050610e1881611cf2565b6000611b1582426121f2565b9050600454811115610e185760045550565b60055482600254611b3891906121f2565b1115611b775760405162461bcd60e51b815260206004820152600e60248201526d1b1a5b5a5d08195e18d95959195960921b6044820152606401610635565b6040516365e5314760e11b81526001600160a01b0384811660048301526024820184905263ffffffff7f0000000000000000000000000000000000000000000000000000000000000000811660448401527f00000000000000000000000000000000000000000000000000000000000000001660648301527f0000000000000000000000000000000000000000000000000000000000000000169063cbca628e90608401600060405180830381600087803b158015611c3557600080fd5b505af1158015611c49573d6000803e3d6000fd5b505050508160026000828254611c5f91906121f2565b92505081905550611c72816001546119a2565b610b515760405162461bcd60e51b815260206004820152601760248201527f6e6f742077656c6c20636f6c6c61746572616c697a65640000000000000000006044820152606401610635565b6000670de0b6b3a7640000611cd3838561204c565b611752919061206b565b600081611cd3670de0b6b3a76400008561204c565b600254811115611d0157600080fd5b8060026000828254611d1391906121db565b90915550610c3d90506119cd565b8015158114610c3d57600080fd5b60008060408385031215611d4257600080fd5b823591506020830135611d5481611d21565b809150509250929050565b60008083601f840112611d7157600080fd5b50813567ffffffffffffffff811115611d8957600080fd5b602083019150836020828501011115611da157600080fd5b9250929050565b60008060008060408587031215611dbe57600080fd5b843567ffffffffffffffff80821115611dd657600080fd5b818701915087601f830112611dea57600080fd5b813581811115611df957600080fd5b8860208260051b8501011115611e0e57600080fd5b602092830196509450908601359080821115611e2957600080fd5b50611e3687828801611d5f565b95989497509550505050565b6001600160a01b0381168114610c3d57600080fd5b60008060408385031215611e6a57600080fd5b8235611e7581611e42565b946020939093013593505050565b600060208284031215611e9557600080fd5b5035919050565b60008060408385031215611eaf57600080fd5b50508035926020909101359150565b600080600060608486031215611ed357600080fd5b505081359360208301359350604090920135919050565b600080600060608486031215611eff57600080fd5b8335611f0a81611e42565b95602085013595506040909401359392505050565b60008060008060608587031215611f3557600080fd5b8435611f4081611e42565b935060208501359250604085013567ffffffffffffffff811115611f6357600080fd5b611e3687828801611d5f565b600080600080600060a08688031215611f8757600080fd5b8535611f9281611e42565b97602087013597506040870135966060810135965060800135945092505050565b600080600060608486031215611fc857600080fd5b8335611fd381611e42565b92506020840135611fe381611e42565b929592945050506040919091013590565b60006020828403121561200657600080fd5b813561175281611e42565b634e487b7160e01b600052601160045260246000fd5b600063ffffffff8381169083168181101561204457612044612011565b039392505050565b600081600019048311821515161561206657612066612011565b500290565b60008261208857634e487b7160e01b600052601260045260246000fd5b500490565b60006020828403121561209f57600080fd5b815161175281611e42565b6001600160a01b03848116825260406020808401829052908301849052600091859160608501845b878110156120f95784356120e581611e42565b8416825293820193908201906001016120d2565b5098975050505050505050565b60006020828403121561211857600080fd5b815161175281611d21565b60006020828403121561213557600080fd5b5051919050565b60208152816020820152818360408301376000818301604090810191909152601f909201601f19160101919050565b6020808252600990820152683737ba1037bbb732b960b91b604082015260600190565b6020808252601290820152716368616c6c656e6765732070656e64696e6760701b604082015260600190565b6020808252600790820152663737ba10343ab160c91b604082015260600190565b6000828210156121ed576121ed612011565b500390565b6000821982111561220557612205612011565b50019056fea264697066735822122018c70ece6381c42b53c568d1b86a646fc0b4cad160426083a5d0351dc48b539164736f6c634300080d0033a2646970667358221220760718b614b8f72945f9e80702855c387f5f7622a6eb31a9b599c721a496c68864736f6c634300080d0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100365760003560e01c80632e292e8d1461003b57806353af18071461006a575b600080fd5b61004e6100493660046103fe565b61007d565b6040516001600160a01b03909116815260200160405180910390f35b61004e610078366004610472565b6102d8565b604051635861764160e11b815260048101829052600090869082906001600160a01b0383169063b0c2ec82906024016020604051808303816000875af11580156100cb573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906100ef919061051a565b9050600061015d836001600160a01b03166346c715fa6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610134573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101589190610533565b610387565b60405163d1a15ff160e01b81526001600160a01b0380831660048301526000602483018190526044830152608060648301526005608483015264636c6f6e6560d81b60a48301529192509089169063d1a15ff19060c401600060405180830381600087803b1580156101ce57600080fd5b505af11580156101e2573d6000803e3d6000fd5b50505050806001600160a01b031663aee1a95988856001600160a01b031663a035b1fe6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610234573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610258919061051a565b6040516001600160e01b031960e085901b1681526001600160a01b039092166004830152602482015260448101859052606481018990526084810188905260a401600060405180830381600087803b1580156102b357600080fd5b505af11580156102c7573d6000803e3d6000fd5b50929b9a5050505050505050505050565b60008b338c8c8c8c8c8c8c8c8c8c6040516102f2906103d9565b6001600160a01b039c8d1681529a8c1660208c0152988b1660408b0152969099166060890152608088019490945260a087019290925260c086015260e085015261010084015263ffffffff9384166101208401526101408301529190911661016082015261018001604051809103906000f080158015610376573d6000803e3d6000fd5b509c9b505050505050505050505050565b6000808260601b9050604051733d602d80600a3d3981f3363d3d373d3d3d363d7360601b81528160148201526e5af43d82803e903d91602b57fd5bf360881b60288201526037816000f0949350505050565b6126998061055883390190565b6001600160a01b03811681146103fb57600080fd5b50565b600080600080600060a0868803121561041657600080fd5b8535610421816103e6565b94506020860135610431816103e6565b93506040860135610441816103e6565b94979396509394606081013594506080013592915050565b803563ffffffff8116811461046d57600080fd5b919050565b60008060008060008060008060008060006101608c8e03121561049457600080fd5b8b3561049f816103e6565b9a5060208c01356104af816103e6565b995060408c01356104bf816103e6565b985060608c0135975060808c0135965060a08c0135955060c08c0135945060e08c013593506104f16101008d01610459565b92506101208c013591506105086101408d01610459565b90509295989b509295989b9093969950565b60006020828403121561052c57600080fd5b5051919050565b60006020828403121561054557600080fd5b8151610550816103e6565b939250505056fe6101c06040523480156200001257600080fd5b5060405162002699380380620026998339810160408190526200003591620001fb565b8b6001600160a01b038116620000775760405162461bcd60e51b815260206004820152600360248201526203078360ec1b604482015260640160405180910390fd5b600080546001600160a01b0319166001600160a01b03831690811782556040519091907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a3503360e0523060c0526001600160a01b038b81166101005260018390558a81166101205289166101405263ffffffff8084166101805281166101a052878710156200010957600080fd5b6101608890526200011b8542620002ba565b60a052608084905262000130610e10620001a4565b600586905560c05161014051604080516001600160a01b0393841681528d84166020820152918316828201526060820185905251918e16917f591ede549d7e337ac63249acd2d7849532b0a686377bbf0b0cca6c8abd9552f29181900360800190a2505050505050505050505050620002e1565b6000620001b28242620002ba565b9050600454811115620001c55760048190555b5050565b80516001600160a01b0381168114620001e157600080fd5b919050565b805163ffffffff81168114620001e157600080fd5b6000806000806000806000806000806000806101808d8f0312156200021f57600080fd5b6200022a8d620001c9565b9b506200023a60208e01620001c9565b9a506200024a60408e01620001c9565b99506200025a60608e01620001c9565b985060808d0151975060a08d0151965060c08d0151955060e08d015194506101008d015193506200028f6101208e01620001e6565b92506101408d01519150620002a86101608e01620001e6565b90509295989b509295989b509295989b565b60008219821115620002dc57634e487b7160e01b600052601160045260246000fd5b500190565b60805160a05160c05160e05161010051610120516101405161016051610180516101a05161224062000459600039600081816102a301528181610560015281816110440152818161128e01528181611a5f0152611ba2015260008181610407015281816105b70152611bca01526000818161047001528181610b2601528181610e6601526114040152600081816104e50152818161078c01528181610a6401528181610f21015281816112100152818161154a01528181611799015261192a0152600081816104be015281816106400152818161089301528181610bbe01528181610fd8015281816113610152818161152201528181611a890152611bf101526000818161025101528181610c4d01528181610e2701526110fd015260008181610497015281816113a6015261165001526000818161034f01526114f40152600081816103280152818161097c01528181610afd01528181610c8c01528181610dae01526115ed0152600061053201526122406000f3fe608060405234801561001057600080fd5b50600436106101f05760003560e01c8063787a08a61161010f578063b0c2ec82116100a2578063d8dfeb4511610071578063d8dfeb45146104e0578063d9caed1214610507578063f2fde38b1461051a578063f3f480d91461052d57600080fd5b8063b0c2ec8214610458578063babe7c741461046b578063c45a015514610492578063c4d4803a146104b957600080fd5b8063a1362033116100de578063a136203314610402578063a4c0ed3614610429578063a4d66daf1461043c578063aee1a9591461044557600080fd5b8063787a08a6146103d45780638da5cb5b146103dd57806397fbdf08146103f0578063a035b1fe146103f957600080fd5b806340c10f19116101875780634f02c420116101565780634f02c420146103715780636f871cec1461037a578063707271b11461038d57806372bf079e146103c157600080fd5b806340c10f19146102fd57806342d02041146103105780634665096d1461032357806346c715fa1461034a57600080fd5b8063365a86fc116101c3578063365a86fc1461024c578063371fd8e61461028b5780633a7c29fb1461029e5780633e94e242146102da57600080fd5b806308262940146101f55780631bbea34c1461021b57806324e657fe14610230578063350c35e914610239575b600080fd5b610208610203366004611d2f565b610554565b6040519081526020015b60405180910390f35b61022e610229366004611da8565b610600565b005b61020860035481565b61022e610247366004611e57565b6109e0565b6102737f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b039091168152602001610212565b61022e610299366004611e83565b610b5e565b6102c57f000000000000000000000000000000000000000000000000000000000000000081565b60405163ffffffff9091168152602001610212565b6102ed6102e8366004611e9c565b610c40565b6040519015158152602001610212565b61022e61030b366004611e57565b610d12565b61022e61031e366004611e83565b610e1c565b6102087f000000000000000000000000000000000000000000000000000000000000000081565b6102737f000000000000000000000000000000000000000000000000000000000000000081565b61020860025481565b61022e610388366004611ebe565b610ef1565b6103a061039b366004611eea565b6110ee565b60408051938452602084019290925263ffffffff1690820152606001610212565b61022e6103cf366004611e83565b6112b5565b61020860045481565b600054610273906001600160a01b031681565b610208610e1081565b61020860015481565b6102c57f000000000000000000000000000000000000000000000000000000000000000081565b6102ed610437366004611f1f565b611355565b61020860055481565b61022e610453366004611f6f565b61139b565b610208610466366004611e83565b6115ad565b6102087f000000000000000000000000000000000000000000000000000000000000000081565b6102737f000000000000000000000000000000000000000000000000000000000000000081565b6102737f000000000000000000000000000000000000000000000000000000000000000081565b6102737f000000000000000000000000000000000000000000000000000000000000000081565b61022e610515366004611fb3565b611759565b61022e610528366004611ff4565b61184d565b6102087f000000000000000000000000000000000000000000000000000000000000000081565b600080620f42406105857f000000000000000000000000000000000000000000000000000000000000000082612027565b6105959063ffffffff168661204c565b61059f919061206b565b905082156105ae5790506105fa565b620f42406105dc7f000000000000000000000000000000000000000000000000000000000000000082612027565b6105ec9063ffffffff168661204c565b6105f6919061206b565b9150505b92915050565b6002541561063e5760405162461bcd60e51b81526020600482015260066024820152651b5a5b9d195960d21b60448201526064015b60405180910390fd5b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663cd3293de6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561069c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106c0919061208d565b6001600160a01b0316635e1121cf3386866040518463ffffffff1660e01b81526004016106ef939291906120aa565b602060405180830381865afa15801561070c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107309190612106565b61076c5760405162461bcd60e51b815260206004820152600d60248201526c1b9bdd081c5d585b1a599a5959609a1b6044820152606401610635565b6000546040516370a0823160e01b81523060048201526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081169263a9059cbb9291169083906370a0823190602401602060405180830381865afa1580156107df573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108039190612123565b6040516001600160e01b031960e085901b1681526001600160a01b03909216600483015260248201526044016020604051808303816000875af115801561084e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108729190612106565b506000546040516370a0823160e01b81523060048201526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081169263a9059cbb9291169083906370a0823190602401602060405180830381865afa1580156108e6573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061090a9190612123565b6040516001600160e01b031960e085901b1681526001600160a01b03909216600483015260248201526044016020604051808303816000875af1158015610955573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109799190612106565b507f000000000000000000000000000000000000000000000000000000000000000060045560405133907faca80c800ec0d2aa9d9d31b7f886a1dd3067d4676abc637626a18ffb9381653d906109d2908590859061213c565b60405180910390a250505050565b6000546001600160a01b0316331480610a0257506000546001600160a01b0316155b610a1e5760405162461bcd60e51b81526004016106359061216b565b60035415610a3e5760405162461bcd60e51b81526004016106359061218e565b60405163a9059cbb60e01b81526001600160a01b038381166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063a9059cbb906044016020604051808303816000875af1158015610aad573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ad19190612106565b506000610adc611912565b9050610aea816001546119a2565b610af357600080fd5b80600003610b24577f0000000000000000000000000000000000000000000000000000000000000000600455610b51565b7f0000000000000000000000000000000000000000000000000000000000000000811015610b5157600080fd5b610b596119cd565b505050565b6000546001600160a01b0316331480610b8057506000546001600160a01b0316155b610b9c5760405162461bcd60e51b81526004016106359061216b565b6040516323b872dd60e01b8152336004820152306024820152604481018290527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906323b872dd906064016020604051808303816000875af1158015610c0f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c339190612106565b50610c3d81611a24565b50565b6000336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610c8a5760405162461bcd60e51b8152600401610635906121ba565b7f00000000000000000000000000000000000000000000000000000000000000004210610cb9575060006105fa565b82600154610cc7919061204c565b610cd9670de0b6b3a76400008461204c565b10610d0a578260036000828254610cf091906121db565b90915550610d02905062015180611b09565b5060016105fa565b5060006105fa565b6000546001600160a01b0316331480610d3457506000546001600160a01b0316155b610d505760405162461bcd60e51b81526004016106359061216b565b60035415610d705760405162461bcd60e51b81526004016106359061218e565b4260045410610dac5760405162461bcd60e51b815260206004820152600860248201526731b7b7b63237bbb760c11b6044820152606401610635565b7f0000000000000000000000000000000000000000000000000000000000000000421115610e065760405162461bcd60e51b8152602060048201526007602482015266195e1c1a5c995960ca1b6044820152606401610635565b610e188282610e13611912565b611b27565b5050565b336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610e645760405162461bcd60e51b8152600401610635906121ba565b7f000000000000000000000000000000000000000000000000000000000000000081101580610e9a5750610e96611912565b8110155b610ed75760405162461bcd60e51b815260206004820152600e60248201526d1cda5e99481d1bdbc81cdb585b1b60921b6044820152606401610635565b8060036000828254610ee991906121f2565b909155505050565b6001548114610f0357610f03816112b5565b6000610f0d611912565b905080831115610fcc576001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000166323b872dd3330610f5285886121db565b6040516001600160e01b031960e086901b1681526001600160a01b03938416600482015292909116602483015260448201526064016020604051808303816000875af1158015610fa6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610fca9190612106565b505b6002548410156110b6577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663ea889b8a338660025461101491906121db565b6040516001600160e01b031960e085901b1681526001600160a01b039092166004830152602482015263ffffffff7f00000000000000000000000000000000000000000000000000000000000000001660448201526064016020604051808303816000875af115801561108b573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110af9190612123565b5060028490555b808310156110cc576110cc3361024785846121db565b6002548411156110e8576110e8336002548661030b91906121db565b50505050565b60008080336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461113a5760405162461bcd60e51b8152600401610635906121ba565b836003600082825461114c91906121db565b92505081905550600061116160015486611cbe565b905060025481111561119b5761118261117c86600254611cbe565b82611cdd565b945061119361117c87600254611cbe565b955060025490505b8086106111ea5760405162461bcd60e51b815260206004820152601860248201527f6368616c6c656e6765206e6f74207375636365737366756c00000000000000006044820152606401610635565b60405163a9059cbb60e01b81526001600160a01b038881166004830152602482018790527f0000000000000000000000000000000000000000000000000000000000000000169063a9059cbb906044016020604051808303816000875af1158015611259573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061127d9190612106565b5061128781611cf2565b94969495507f0000000000000000000000000000000000000000000000000000000000000000949350505050565b6000546001600160a01b03163314806112d757506000546001600160a01b0316155b6112f35760405162461bcd60e51b81526004016106359061216b565b600354156113135760405162461bcd60e51b81526004016106359061218e565b60015481111561132e576113296203f480611b09565b611348565b61133f611339611912565b826119a2565b61134857600080fd5b6001819055610c3d6119cd565b60006001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001633036101f05761139084611a24565b506001949350505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146114025760405162461bcd60e51b815260206004820152600c60248201526b666163746f7279206f6e6c7960a01b6044820152606401610635565b7f00000000000000000000000000000000000000000000000000000000000000008210156114645760405162461bcd60e51b815260206004820152600f60248201526e0c6ded8d840dcdee840cadcdeeaced608b1b6044820152606401610635565b61146d8561184d565b81611480670de0b6b3a76400008361204c565b61148a919061206b565b60018190558410156114de5760405162461bcd60e51b815260206004820152601e60248201527f63616e206f6e6c7920726564756365207072696365206f6e20636c6f6e6500006044820152606401610635565b60058390556114ee858284611b27565b604080517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0390811682527f0000000000000000000000000000000000000000000000000000000000000000811660208301527f0000000000000000000000000000000000000000000000000000000000000000811682840152606082018790529151918716917f591ede549d7e337ac63249acd2d7849532b0a686377bbf0b0cca6c8abd9552f29181900360800190a25050505050565b600042600454106115eb5760405162461bcd60e51b815260206004820152600860248201526731b7b7b63237bbb760c11b6044820152606401610635565b7f00000000000000000000000000000000000000000000000000000000000000004211156116455760405162461bcd60e51b8152602060048201526007602482015266195e1c1a5c995960ca1b6044820152606401610635565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146116ac5760405162461bcd60e51b815260206004820152600c60248201526b6f6e6c7920666163746f727960a01b6044820152606401610635565b600554826002546116bd91906121f2565b11156116fc5760405162461bcd60e51b815260206004820152600e60248201526d1b1a5b5a5d08195e18d95959195960921b6044820152606401610635565b600060028360025460055461171191906121db565b61171b91906121db565b611725919061206b565b905061173183826121f2565b6005600082825461174291906121db565b90915550611752905083826121f2565b9392505050565b6000546001600160a01b031633148061177b57506000546001600160a01b0316155b6117975760405162461bcd60e51b81526004016106359061216b565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316836001600160a01b0316036117da57610b5982826109e0565b60405163a9059cbb60e01b81526001600160a01b0383811660048301526024820183905284169063a9059cbb906044016020604051808303816000875af1158015611829573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110e89190612106565b6000546001600160a01b031633148061186f57506000546001600160a01b0316155b61188b5760405162461bcd60e51b81526004016106359061216b565b6001600160a01b0381166118c75760405162461bcd60e51b815260206004820152600360248201526203078360ec1b6044820152606401610635565b600080546001600160a01b0319166001600160a01b0383169081178255604051909182917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a350565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa158015611979573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061199d9190612123565b905090565b6000670de0b6b3a76400006002546119ba919061204c565b6119c4838561204c565b10159392505050565b7fcb2040b7eb3265a4335698c9ecbe81a5f9857e92aa32e07ce235f44c321a7e356119f6611912565b60015460025460055460408051948552602085019390935291830152606082015260800160405180910390a1565b60035415611a445760405162461bcd60e51b81526004016106359061218e565b60405163a47d75ad60e01b81526004810182905263ffffffff7f00000000000000000000000000000000000000000000000000000000000000001660248201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063a47d75ad906044016020604051808303816000875af1158015611ada573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611afe9190612123565b9050610e1881611cf2565b6000611b1582426121f2565b9050600454811115610e185760045550565b60055482600254611b3891906121f2565b1115611b775760405162461bcd60e51b815260206004820152600e60248201526d1b1a5b5a5d08195e18d95959195960921b6044820152606401610635565b6040516365e5314760e11b81526001600160a01b0384811660048301526024820184905263ffffffff7f0000000000000000000000000000000000000000000000000000000000000000811660448401527f00000000000000000000000000000000000000000000000000000000000000001660648301527f0000000000000000000000000000000000000000000000000000000000000000169063cbca628e90608401600060405180830381600087803b158015611c3557600080fd5b505af1158015611c49573d6000803e3d6000fd5b505050508160026000828254611c5f91906121f2565b92505081905550611c72816001546119a2565b610b515760405162461bcd60e51b815260206004820152601760248201527f6e6f742077656c6c20636f6c6c61746572616c697a65640000000000000000006044820152606401610635565b6000670de0b6b3a7640000611cd3838561204c565b611752919061206b565b600081611cd3670de0b6b3a76400008561204c565b600254811115611d0157600080fd5b8060026000828254611d1391906121db565b90915550610c3d90506119cd565b8015158114610c3d57600080fd5b60008060408385031215611d4257600080fd5b823591506020830135611d5481611d21565b809150509250929050565b60008083601f840112611d7157600080fd5b50813567ffffffffffffffff811115611d8957600080fd5b602083019150836020828501011115611da157600080fd5b9250929050565b60008060008060408587031215611dbe57600080fd5b843567ffffffffffffffff80821115611dd657600080fd5b818701915087601f830112611dea57600080fd5b813581811115611df957600080fd5b8860208260051b8501011115611e0e57600080fd5b602092830196509450908601359080821115611e2957600080fd5b50611e3687828801611d5f565b95989497509550505050565b6001600160a01b0381168114610c3d57600080fd5b60008060408385031215611e6a57600080fd5b8235611e7581611e42565b946020939093013593505050565b600060208284031215611e9557600080fd5b5035919050565b60008060408385031215611eaf57600080fd5b50508035926020909101359150565b600080600060608486031215611ed357600080fd5b505081359360208301359350604090920135919050565b600080600060608486031215611eff57600080fd5b8335611f0a81611e42565b95602085013595506040909401359392505050565b60008060008060608587031215611f3557600080fd5b8435611f4081611e42565b935060208501359250604085013567ffffffffffffffff811115611f6357600080fd5b611e3687828801611d5f565b600080600080600060a08688031215611f8757600080fd5b8535611f9281611e42565b97602087013597506040870135966060810135965060800135945092505050565b600080600060608486031215611fc857600080fd5b8335611fd381611e42565b92506020840135611fe381611e42565b929592945050506040919091013590565b60006020828403121561200657600080fd5b813561175281611e42565b634e487b7160e01b600052601160045260246000fd5b600063ffffffff8381169083168181101561204457612044612011565b039392505050565b600081600019048311821515161561206657612066612011565b500290565b60008261208857634e487b7160e01b600052601260045260246000fd5b500490565b60006020828403121561209f57600080fd5b815161175281611e42565b6001600160a01b03848116825260406020808401829052908301849052600091859160608501845b878110156120f95784356120e581611e42565b8416825293820193908201906001016120d2565b5098975050505050505050565b60006020828403121561211857600080fd5b815161175281611d21565b60006020828403121561213557600080fd5b5051919050565b60208152816020820152818360408301376000818301604090810191909152601f909201601f19160101919050565b6020808252600990820152683737ba1037bbb732b960b91b604082015260600190565b6020808252601290820152716368616c6c656e6765732070656e64696e6760701b604082015260600190565b6020808252600790820152663737ba10343ab160c91b604082015260600190565b6000828210156121ed576121ed612011565b500390565b6000821982111561220557612205612011565b50019056fea264697066735822122018c70ece6381c42b53c568d1b86a646fc0b4cad160426083a5d0351dc48b539164736f6c634300080d0033a2646970667358221220760718b614b8f72945f9e80702855c387f5f7622a6eb31a9b599c721a496c68864736f6c634300080d0033",
  "devdoc": {
    "kind": "dev",
    "methods": {
      "clonePosition(address,address,address,uint256,uint256)": {
        "params": {
          "_existing": "address of the position we want to clone",
          "_initialCol": "initial collateral to be posted by owner (dec 18)",
          "_initialMint": "initial amount to mint before fees/reserve by owner",
          "_owner": "owner address of the new clone",
          "_zchf": "ZCHF address"
        },
        "returns": {
          "_0": "address of the newly created clone position"
        }
      }
    },
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "clonePosition(address,address,address,uint256,uint256)": {
        "notice": "clone an existing position. This can be a clone of another clone, or an origin position. If it's another clone, then the liquidation price is taken from the clone and the rest from the origin. Limit is \"inherited\" (and adjusted) from the origin."
      }
    },
    "version": 1
  },
  "storageLayout": {
    "storage": [],
    "types": null
  }
}