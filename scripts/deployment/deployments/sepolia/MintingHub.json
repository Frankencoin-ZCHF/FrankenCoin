{
  "address": "0xE3Ce8d8ed0D513f6732e237E3DfDCa8D29156C46",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_zchf",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "factory",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "bid",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "min",
          "type": "uint256"
        }
      ],
      "name": "BidTooLow",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "TooLate",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "UnexpectedPrice",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "UnexpectedSize",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "position",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "number",
          "type": "uint256"
        }
      ],
      "name": "ChallengeAverted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "challenger",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "position",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "size",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "number",
          "type": "uint256"
        }
      ],
      "name": "ChallengeStarted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "position",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "bid",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "number",
          "type": "uint256"
        }
      ],
      "name": "ChallengeSucceeded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "challengedId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "bidAmount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "bidder",
          "type": "address"
        }
      ],
      "name": "NewBid",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "position",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "zchf",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "collateral",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "name": "PositionOpened",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "collateral",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "beneficiary",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "PostPonedReturn",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "CHALLENGER_REWARD",
      "outputs": [
        {
          "internalType": "uint32",
          "name": "",
          "type": "uint32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "OPENING_FEE",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_challengeNumber",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_bidAmountZCHF",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "expectedSize",
          "type": "uint256"
        }
      ],
      "name": "bid",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "challenges",
      "outputs": [
        {
          "internalType": "address",
          "name": "challenger",
          "type": "address"
        },
        {
          "internalType": "contract IPosition",
          "name": "position",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "size",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "end",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "bidder",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "bid",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "position",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_initialCollateral",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_initialMint",
          "type": "uint256"
        }
      ],
      "name": "clonePosition",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "position",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_initialCollateral",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_initialMint",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "expiration",
          "type": "uint256"
        }
      ],
      "name": "clonePosition",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_challengeNumber",
          "type": "uint256"
        }
      ],
      "name": "end",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_challengeNumber",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "postponeCollateralReturn",
          "type": "bool"
        }
      ],
      "name": "end",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_challengeNumber",
          "type": "uint256"
        }
      ],
      "name": "isChallengeOpen",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_positionAddr",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_collateralAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "expectedPrice",
          "type": "uint256"
        }
      ],
      "name": "launchChallenge",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "challenge",
          "type": "uint256"
        }
      ],
      "name": "minBid",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_collateralAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_minCollateral",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_initialCollateral",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_mintingMaximum",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_initPeriodSeconds",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_expirationSeconds",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_challengeSeconds",
          "type": "uint256"
        },
        {
          "internalType": "uint32",
          "name": "_yearlyInterestPPM",
          "type": "uint32"
        },
        {
          "internalType": "uint256",
          "name": "_liqPrice",
          "type": "uint256"
        },
        {
          "internalType": "uint32",
          "name": "_reservePPM",
          "type": "uint32"
        }
      ],
      "name": "openPosition",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_collateralAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_minCollateral",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_initialCollateral",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_mintingMaximum",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_expirationSeconds",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_challengeSeconds",
          "type": "uint256"
        },
        {
          "internalType": "uint32",
          "name": "_yearlyInterestPPM",
          "type": "uint32"
        },
        {
          "internalType": "uint256",
          "name": "_liqPrice",
          "type": "uint256"
        },
        {
          "internalType": "uint32",
          "name": "_reservePPM",
          "type": "uint32"
        }
      ],
      "name": "openPositionOneWeek",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "collateral",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "pendingReturns",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "collateral",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "target",
          "type": "address"
        }
      ],
      "name": "returnPostponedCollateral",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_challengeNumber",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "splitOffAmount",
          "type": "uint256"
        }
      ],
      "name": "splitChallenge",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "zchf",
      "outputs": [
        {
          "internalType": "contract IFrankencoin",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0x3b4ff13122daaad341c5732e1e933100fbaae060f857ffd300b9d925af32bd98",
  "receipt": {
    "to": null,
    "from": "0xaA770D646be470BA8Cb97566DD83662334D5D7CF",
    "contractAddress": "0xE3Ce8d8ed0D513f6732e237E3DfDCa8D29156C46",
    "transactionIndex": 14,
    "gasUsed": "2177403",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0xbde70e6a83f96d630f14dfba096923741d033b5b7cc1f5dbcb35f3e0a39f4fc8",
    "transactionHash": "0x3b4ff13122daaad341c5732e1e933100fbaae060f857ffd300b9d925af32bd98",
    "logs": [],
    "blockNumber": 4045744,
    "cumulativeGasUsed": "3553386",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0xB19373305306DeE3156e0916bB1ed07aafcc345c",
    "0x6C36Ea4bF1F9E9D12631Fa80066bFd62065fE834"
  ],
  "numDeployments": 1,
  "solcInputHash": "03c11cb1ff3ef0b533c5cd2fbf6aa748",
  "metadata": "{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_zchf\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"factory\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"bid\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"min\",\"type\":\"uint256\"}],\"name\":\"BidTooLow\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"TooLate\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"UnexpectedPrice\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"UnexpectedSize\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"position\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"number\",\"type\":\"uint256\"}],\"name\":\"ChallengeAverted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"challenger\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"position\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"number\",\"type\":\"uint256\"}],\"name\":\"ChallengeStarted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"position\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"bid\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"number\",\"type\":\"uint256\"}],\"name\":\"ChallengeSucceeded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"challengedId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"bidAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"bidder\",\"type\":\"address\"}],\"name\":\"NewBid\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"position\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"zchf\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"collateral\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"name\":\"PositionOpened\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"collateral\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"beneficiary\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"PostPonedReturn\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"CHALLENGER_REWARD\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"\",\"type\":\"uint32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"OPENING_FEE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_challengeNumber\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_bidAmountZCHF\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"expectedSize\",\"type\":\"uint256\"}],\"name\":\"bid\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"challenges\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"challenger\",\"type\":\"address\"},{\"internalType\":\"contract IPosition\",\"name\":\"position\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"end\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"bidder\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"bid\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"position\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_initialCollateral\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_initialMint\",\"type\":\"uint256\"}],\"name\":\"clonePosition\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"position\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_initialCollateral\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_initialMint\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"expiration\",\"type\":\"uint256\"}],\"name\":\"clonePosition\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_challengeNumber\",\"type\":\"uint256\"}],\"name\":\"end\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_challengeNumber\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"postponeCollateralReturn\",\"type\":\"bool\"}],\"name\":\"end\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_challengeNumber\",\"type\":\"uint256\"}],\"name\":\"isChallengeOpen\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_positionAddr\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_collateralAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"expectedPrice\",\"type\":\"uint256\"}],\"name\":\"launchChallenge\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"challenge\",\"type\":\"uint256\"}],\"name\":\"minBid\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_collateralAddress\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_minCollateral\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_initialCollateral\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_mintingMaximum\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_initPeriodSeconds\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_expirationSeconds\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_challengeSeconds\",\"type\":\"uint256\"},{\"internalType\":\"uint32\",\"name\":\"_yearlyInterestPPM\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"_liqPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint32\",\"name\":\"_reservePPM\",\"type\":\"uint32\"}],\"name\":\"openPosition\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_collateralAddress\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_minCollateral\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_initialCollateral\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_mintingMaximum\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_expirationSeconds\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_challengeSeconds\",\"type\":\"uint256\"},{\"internalType\":\"uint32\",\"name\":\"_yearlyInterestPPM\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"_liqPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint32\",\"name\":\"_reservePPM\",\"type\":\"uint32\"}],\"name\":\"openPositionOneWeek\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"collateral\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"pendingReturns\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"collateral\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"}],\"name\":\"returnPostponedCollateral\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_challengeNumber\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"splitOffAmount\",\"type\":\"uint256\"}],\"name\":\"splitChallenge\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"zchf\",\"outputs\":[{\"internalType\":\"contract IFrankencoin\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"bid(uint256,uint256,uint256)\":{\"params\":{\"_bidAmountZCHF\":\"how much to bid for the collateral of this challenge (dec 18)\",\"_challengeNumber\":\"index of the challenge as broadcast in the event\",\"expectedSize\":\"size verification to guard against frontrunners doing a split-challenge-attack\"}},\"end(uint256,bool)\":{\"params\":{\"postponeCollateralReturn\":\"Can be used to postpone the return of the collateral to the challenger. Usually false. \"}},\"launchChallenge(address,uint256,uint256)\":{\"params\":{\"_collateralAmount\":\"size of the collateral we want to challenge (dec 18)\",\"_positionAddr\":\"address of the position we want to challenge\"},\"returns\":{\"_0\":\"index of the challenge in challenge-array\"}},\"openPosition(address,uint256,uint256,uint256,uint256,uint256,uint256,uint32,uint256,uint32)\":{\"params\":{\"_challengeSeconds\":\"challenge period. Longer for less liquid collateral.\",\"_collateralAddress\":\"address of collateral token\",\"_expirationSeconds\":\"position tenor in unit of timestamp (seconds) from 'now'\",\"_initialCollateral\":\"amount of initial collateral to be deposited\",\"_liqPrice\":\"Liquidation price with (36 - token decimals) decimals,                           e.g. 18 decimals for an 18 decimal collateral, 36 decimals for a 0 decimal collateral.\",\"_minCollateral\":\"minimum collateral required to prevent dust amounts\",\"_mintingMaximum\":\"maximal amount of ZCHF that can be minted by the position owner\",\"_reservePPM\":\"ppm of minted amount that is locked as borrower's reserve, e.g. 20%\",\"_yearlyInterestPPM\":\"ppm of minted amount that is paid as fee to the equity contract for each year of duration\"},\"returns\":{\"_0\":\"address           address of created position\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"CHALLENGER_REWARD()\":{\"notice\":\"The challenger reward in parts per million (ppm) relative to the challenged amount, whereas challenged amount if defined as the challenged collateral amount times the liquidation price.\"},\"OPENING_FEE()\":{\"notice\":\"Irrevocable fee in ZCHF when proposing a new position (but not when cloning an existing one).\"},\"bid(uint256,uint256,uint256)\":{\"notice\":\"Post a bid in ZCHF given an open challenge. Requires a ZCHF allowance from the caller to the minting hub.\"},\"clonePosition(address,uint256,uint256)\":{\"notice\":\"Clones an existing position and immediately tries to mint the specified amount using the given amount of collateral. This requires an allowance to be set on the collateral contract such that the minting hub can withdraw the collateral.\"},\"end(uint256,bool)\":{\"notice\":\"Ends a challenge successfully after the auction period ended, whereas successfully means that the challenger could show that the price of the collateral is too low to make the position well-collateralized. In case that the collateral cannot be transfered back to the challenger (i.e. because the collateral token has a blacklist and the challenger is on it), it is possible to postpone the return of the collateral.\"},\"launchChallenge(address,uint256,uint256)\":{\"notice\":\"Launch a challenge on a position\"},\"openPosition(address,uint256,uint256,uint256,uint256,uint256,uint256,uint32,uint256,uint32)\":{\"notice\":\"Open a collateralized loan position. See also https://docs.frankencoin.com/positions/open . For a successful call, you must set allowances for both ZCHF and the collateral token, allowing the minting hub to transfer the initial collateral amount to the newly created position and to withdraw the fees. Together, the expiration and the minting fee imply an interest rate. TODO: in future versions, it might be better to fix the interest and not the fee\"},\"pendingReturns(address,address)\":{\"notice\":\"Map to remember pending postponed collateral returns. It maps collateral => beneficiary => amount.\"},\"returnPostponedCollateral(address,address)\":{\"notice\":\"Challengers can call this method to withdraw collateral whose return was postponed.\"},\"splitChallenge(uint256,uint256)\":{\"notice\":\"Splits a challenge into two smaller challenges. This can be useful to guard an attack, where a challenger launches a challenge so big that most bidders do not have the liquidity available to bid a sufficient amount. With this function, the can split of smaller slices of the challenge and avert it piece by piece.\"}},\"notice\":\"The central hub for creating, cloning and challenging collateralized Frankencoin positions. Only one instance of this contract is required, whereas every new position comes with a new position contract. Pending challenges are stored as structs in an array.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/MintingHub.sol\":\"MintingHub\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/IERC20.sol\":{\"content\":\"/**\\n* SPDX-License-Identifier: MIT\\n*\\n* Copyright (c) 2016-2019 zOS Global Limited\\n*\\n*/\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Interface of the ERC20 standard as defined in the EIP. Does not include\\n * the optional functions; to access them see `ERC20Detailed`.\\n */\\n\\ninterface IERC20 {\\n\\n    // Optional functions\\n    function name() external view returns (string memory);\\n\\n    function symbol() external view returns (string memory);\\n\\n    function decimals() external view returns (uint8);\\n\\n    /**\\n     * @dev Returns the amount of tokens in existence.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the amount of tokens owned by `account`.\\n     */\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    /**\\n     * @dev Moves `amount` tokens from the caller's account to `recipient`.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a `Transfer` event.\\n     */\\n    function transfer(address recipient, uint256 amount) external returns (bool);\\n\\n    function transferAndCall(address recipient, uint256 amount, bytes calldata data) external returns (bool);\\n\\n    /**\\n     * @dev Returns the remaining number of tokens that `spender` will be\\n     * allowed to spend on behalf of `owner` through `transferFrom`. This is\\n     * zero by default.\\n     *\\n     * This value changes when `approve` or `transferFrom` are called.\\n     */\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /**\\n     * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * > Beware that changing an allowance with this method brings the risk\\n     * that someone may use both the old and the new allowance by unfortunate\\n     * transaction ordering. One possible solution to mitigate this race\\n     * condition is to first reduce the spender's allowance to 0 and set the\\n     * desired value afterwards:\\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n     *\\n     * Emits an `Approval` event.\\n     */\\n    function approve(address spender, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Moves `amount` tokens from `sender` to `recipient` using the\\n     * allowance mechanism. `amount` is then deducted from the caller's\\n     * allowance.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a `Transfer` event.\\n     */\\n    function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n     * another (`to`).\\n     *\\n     * Note that `value` may be zero.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n    /**\\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n     * a call to `approve`. `value` is the new allowance.\\n     */\\n    event Approval(address indexed owner, address indexed spender, uint256 value);\\n\\n}\",\"keccak256\":\"0xca95e6b6324b1c92dca4759b3da5fc251053691de885f2e23021eb5abdddea9c\",\"license\":\"MIT\"},\"contracts/IFrankencoin.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\nimport \\\"./IERC20.sol\\\";\\nimport \\\"./IReserve.sol\\\";\\n\\ninterface IFrankencoin is IERC20 {\\n\\n    function suggestMinter(address _minter, uint256 _applicationPeriod, \\n      uint256 _applicationFee, string calldata _message) external;\\n\\n    function registerPosition(address position) external;\\n\\n    function denyMinter(address minter, address[] calldata helpers, string calldata message) external;\\n\\n    function reserve() external view returns (IReserve);\\n\\n    function minterReserve() external view returns (uint256);\\n\\n    function calculateAssignedReserve(uint256 mintedAmount, uint32 _reservePPM) external view returns (uint256);\\n\\n    function equity() external view returns (uint256);\\n\\n    function isMinter(address minter) external view returns (bool);\\n\\n    function isPosition(address position) external view returns (address);\\n    \\n    function mint(address target, uint256 amount) external;\\n\\n    function mint(address target, uint256 amount, uint32 reservePPM, uint32 feePPM) external;\\n\\n    function burn(uint256 amountIncludingReserve, uint32 reservePPM) external;\\n\\n    function burnFrom(address payer, uint256 targetTotalBurnAmount, uint32 _reservePPM) external returns (uint256);\\n\\n    function burnWithReserve(uint256 amountExcludingReserve, uint32 reservePPM) external returns (uint256);\\n\\n    function burn(address target, uint256 amount) external;\\n\\n    function notifyLoss(uint256 amount) external;\\n\\n}\",\"keccak256\":\"0x7d0b038b27ee4f8aa8e827ed5efd1bd69c19cb3a58ff52ca05d3f375ef936e84\",\"license\":\"MIT\"},\"contracts/IPosition.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\nimport \\\"./IERC20.sol\\\";\\nimport \\\"./IReserve.sol\\\";\\nimport \\\"./IFrankencoin.sol\\\";\\n\\ninterface IPosition {\\n\\n    function collateral() external returns (IERC20);\\n\\n    function minimumCollateral() external returns (uint256);\\n\\n    function challengePeriod() external returns (uint256);\\n\\n    function expiration() external returns (uint256);\\n\\n    function price() external returns (uint256);\\n\\n    function reduceLimitForClone(uint256 amount, uint256 expiration) external;\\n\\n    function initializeClone(address owner, uint256 _price, uint256 _coll, uint256 _mint, uint256 expiration) external;\\n\\n    function deny(address[] calldata helpers, string calldata message) external;\\n\\n    function mint(address target, uint256 amount) external;\\n\\n    function minted() external returns (uint256);\\n\\n    function reserveContribution() external returns (uint32);\\n\\n    function getUsableMint(uint256 totalMint, bool beforeFees) external view returns (uint256);\\n\\n    function notifyChallengeStarted(uint256 size) external;\\n\\n    function tryAvertChallenge(uint256 size, uint256 bid, uint256 challengeEnd) external returns (bool);\\n\\n    function notifyChallengeSucceeded(address bidder, uint256 bid, uint256 size) external returns (address, uint256, uint256, uint32);\\n\\n}\",\"keccak256\":\"0xc26cb71852ab7d7f0745c652284e69540ea2a733b8295fdb4134c1863c30d0a0\",\"license\":\"MIT\"},\"contracts/IReserve.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\nimport \\\"./IERC20.sol\\\";\\n\\ninterface IReserve is IERC20 {\\n   function checkQualified(address sender, address[] calldata helpers) external view;\\n}\",\"keccak256\":\"0xbbb5f65cee6a43065dc16b2fa4540ab2462de86b689cc15a1e8dd2c7b87411d0\",\"license\":\"MIT\"},\"contracts/MintingHub.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\nimport \\\"./IERC20.sol\\\";\\nimport \\\"./IReserve.sol\\\";\\nimport \\\"./IFrankencoin.sol\\\";\\nimport \\\"./Ownable.sol\\\";\\nimport \\\"./IPosition.sol\\\";\\n\\n/**\\n * The central hub for creating, cloning and challenging collateralized Frankencoin positions.\\n * Only one instance of this contract is required, whereas every new position comes with a new position\\n * contract. Pending challenges are stored as structs in an array.\\n */\\ncontract MintingHub {\\n\\n    /**\\n     * Irrevocable fee in ZCHF when proposing a new position (but not when cloning an existing one).\\n     */\\n    uint256 public constant OPENING_FEE = 1000 * 10**18;\\n\\n    /**\\n     * The challenger reward in parts per million (ppm) relative to the challenged amount, whereas\\n     * challenged amount if defined as the challenged collateral amount times the liquidation price.\\n     */\\n    uint32 public constant CHALLENGER_REWARD = 20000; // 2%\\n\\n    IPositionFactory private immutable POSITION_FACTORY; // position contract to clone\\n\\n    IFrankencoin public immutable zchf; // currency\\n    Challenge[] public challenges; // list of open challenges\\n\\n    /**\\n     * Map to remember pending postponed collateral returns.\\n     * It maps collateral => beneficiary => amount.\\n     */\\n    mapping(address collateral => mapping(address owner => uint256 amount)) public pendingReturns;\\n\\n    struct Challenge {\\n        address challenger; // the address from which the challenge was initiated\\n        IPosition position; // the position that was challenged\\n        uint256 size;       // how much collateral the challenger provided\\n        uint256 end;        // the deadline of the challenge (block.timestamp)\\n        address bidder;     // the address from which the highest bid was made, if any\\n        uint256 bid;        // the highest bid in ZCHF (total amount, not price per unit)\\n    }\\n\\n    event PositionOpened(address indexed owner, address indexed position, address zchf, address collateral, uint256 price);\\n    event ChallengeStarted(address indexed challenger, address indexed position, uint256 size, uint256 number);\\n    event ChallengeAverted(address indexed position, uint256 number);\\n    event ChallengeSucceeded(address indexed position, uint256 bid, uint256 number);\\n    event NewBid(uint256 challengedId, uint256 bidAmount, address bidder);\\n    event PostPonedReturn(address collateral, address indexed beneficiary, uint256 amount);\\n\\n    constructor(address _zchf, address factory) {\\n        zchf = IFrankencoin(_zchf);\\n        POSITION_FACTORY = IPositionFactory(factory);\\n    }\\n\\n    function openPositionOneWeek(\\n        address _collateralAddress, uint256 _minCollateral, uint256 _initialCollateral,\\n        uint256 _mintingMaximum, uint256 _expirationSeconds, uint256 _challengeSeconds,\\n        uint32 _yearlyInterestPPM, uint256 _liqPrice, uint32 _reservePPM) public returns (address) {\\n            return openPosition(_collateralAddress, _minCollateral, _initialCollateral, _mintingMaximum,\\n            7 days, _expirationSeconds, _challengeSeconds, _yearlyInterestPPM, _liqPrice, _reservePPM);\\n    }\\n\\n    /**\\n     * Open a collateralized loan position. See also https://docs.frankencoin.com/positions/open .\\n     * For a successful call, you must set allowances for both ZCHF and the collateral token, allowing\\n     * the minting hub to transfer the initial collateral amount to the newly created position and to\\n     * withdraw the fees.\\n     *\\n     * Together, the expiration and the minting fee imply an interest rate.\\n     * TODO: in future versions, it might be better to fix the interest and not the fee\\n     *\\n     * @param _collateralAddress        address of collateral token\\n     * @param _minCollateral     minimum collateral required to prevent dust amounts\\n     * @param _initialCollateral amount of initial collateral to be deposited\\n     * @param _mintingMaximum    maximal amount of ZCHF that can be minted by the position owner\\n     * @param _expirationSeconds position tenor in unit of timestamp (seconds) from 'now'\\n     * @param _challengeSeconds  challenge period. Longer for less liquid collateral.\\n     * @param _yearlyInterestPPM ppm of minted amount that is paid as fee to the equity contract for each year of duration\\n     * @param _liqPrice          Liquidation price with (36 - token decimals) decimals,\\n     *                           e.g. 18 decimals for an 18 decimal collateral, 36 decimals for a 0 decimal collateral.\\n     * @param _reservePPM        ppm of minted amount that is locked as borrower's reserve, e.g. 20%\\n     * @return address           address of created position\\n     */\\n    function openPosition(\\n        address _collateralAddress, uint256 _minCollateral, uint256 _initialCollateral,\\n        uint256 _mintingMaximum, uint256 _initPeriodSeconds, uint256 _expirationSeconds, uint256 _challengeSeconds,\\n        uint32 _yearlyInterestPPM, uint256 _liqPrice, uint32 _reservePPM) public returns (address) {\\n        IPosition pos = IPosition(\\n            POSITION_FACTORY.createNewPosition(\\n                msg.sender,\\n                address(zchf),\\n                _collateralAddress,\\n                _minCollateral,\\n                _mintingMaximum,\\n                _initPeriodSeconds,\\n                _expirationSeconds,\\n                _challengeSeconds,\\n                _yearlyInterestPPM,\\n                _liqPrice,\\n                _reservePPM\\n            )\\n        );\\n        require(IERC20(_collateralAddress).decimals() <= 24); // leaves 12 digits for price\\n        require(_initialCollateral >= _minCollateral, \\\"must start with min col\\\");\\n        require(_minCollateral * _liqPrice >= 5000 ether); // must start with at least 5000 ZCHF worth of collateral\\n        zchf.registerPosition(address(pos));\\n        zchf.transferFrom(msg.sender, address(zchf.reserve()), OPENING_FEE);\\n        IERC20(_collateralAddress).transferFrom(msg.sender, address(pos), _initialCollateral);\\n\\n        emit PositionOpened(msg.sender, address(pos), address(zchf), _collateralAddress, _liqPrice);\\n        return address(pos);\\n    }\\n\\n    modifier validPos(address position) {\\n        require(zchf.isPosition(position) == address(this), \\\"not our pos\\\");\\n        _;\\n    }\\n\\n    /**\\n     * Clones an existing position and immediately tries to mint the specified amount using the given amount of collateral.\\n     * This requires an allowance to be set on the collateral contract such that the minting hub can withdraw the collateral.\\n     */\\n    function clonePosition(address position, uint256 _initialCollateral, uint256 _initialMint) public validPos(position) returns (address) {\\n        uint256 expiration = IPosition(position).expiration();\\n        return clonePosition(position, _initialCollateral, _initialMint, expiration);\\n    }\\n\\n    function clonePosition(address position, uint256 _initialCollateral, uint256 _initialMint, uint256 expiration) public validPos(position) returns (address) {\\n        IPosition existing = IPosition(position);\\n        existing.reduceLimitForClone(_initialMint, expiration);\\n        address pos = POSITION_FACTORY.clonePosition(position);\\n        zchf.registerPosition(pos);\\n        IPosition(pos).initializeClone(msg.sender, existing.price(), _initialCollateral, _initialMint, expiration);\\n        existing.collateral().transferFrom(msg.sender, pos, _initialCollateral); // At the end to guard against ERC-777 reentrancy\\n\\n        emit PositionOpened(msg.sender, address(pos), address(zchf), address(existing.collateral()), existing.price());\\n        return address(pos);\\n    }\\n\\n    /**\\n     * Launch a challenge on a position\\n     * @param _positionAddr      address of the position we want to challenge\\n     * @param _collateralAmount  size of the collateral we want to challenge (dec 18)\\n     * @return index of the challenge in challenge-array\\n     */\\n    function launchChallenge(address _positionAddr, uint256 _collateralAmount, uint256 expectedPrice) external validPos(_positionAddr) returns (uint256) {\\n        IPosition position = IPosition(_positionAddr);\\n        if (position.price() != expectedPrice) revert UnexpectedPrice();\\n        IERC20(position.collateral()).transferFrom(msg.sender, address(this), _collateralAmount); // At the beginning to guard against ERC-777 reentrancy\\n        uint256 pos = challenges.length;\\n        challenges.push(Challenge(msg.sender, position, _collateralAmount, block.timestamp + position.challengePeriod(), address(0x0), 0));\\n        position.notifyChallengeStarted(_collateralAmount);\\n        emit ChallengeStarted(msg.sender, address(position), _collateralAmount, pos);\\n        return pos;\\n    }\\n\\n    error UnexpectedPrice();\\n\\n    /**\\n     * Splits a challenge into two smaller challenges.\\n     * This can be useful to guard an attack, where a challenger launches a challenge so big that most bidders do not\\n     * have the liquidity available to bid a sufficient amount. With this function, the can split of smaller slices of\\n     * the challenge and avert it piece by piece.\\n     */\\n    function splitChallenge(uint256 _challengeNumber, uint256 splitOffAmount) external returns (uint256) {\\n        Challenge storage challenge = challenges[_challengeNumber];\\n        require(challenge.challenger != address(0x0));\\n        Challenge memory copy = Challenge(\\n            challenge.challenger,\\n            challenge.position,\\n            splitOffAmount,\\n            challenge.end,\\n            challenge.bidder,\\n            (challenge.bid * splitOffAmount) / challenge.size\\n        );\\n        challenge.bid -= copy.bid;\\n        challenge.size -= copy.size;\\n\\n        uint256 min = IPosition(challenge.position).minimumCollateral();\\n        require(challenge.size >= min);\\n        require(copy.size >= min);\\n\\n        uint256 pos = challenges.length;\\n        challenges.push(copy);\\n        emit ChallengeStarted(challenge.challenger, address(challenge.position), challenge.size, _challengeNumber);\\n        emit ChallengeStarted(copy.challenger, address(copy.position), copy.size, pos);\\n        return pos;\\n    }\\n\\n    function minBid(uint256 challenge) public view returns (uint256) {\\n        return minBid(challenges[challenge]);\\n    }\\n\\n    /**\\n     * The minimum bid size for the next bid. It must be 0.5% higher than the previous bid.\\n     */\\n    function minBid(Challenge storage challenge) internal view returns (uint256) {\\n        return (challenge.bid * 1005) / 1000;\\n    }\\n\\n    /**\\n     * Post a bid in ZCHF given an open challenge. Requires a ZCHF allowance from the caller to the minting hub.\\n     *\\n     * @param _challengeNumber   index of the challenge as broadcast in the event\\n     * @param _bidAmountZCHF     how much to bid for the collateral of this challenge (dec 18)\\n     * @param expectedSize       size verification to guard against frontrunners doing a split-challenge-attack\\n     */\\n    function bid(uint256 _challengeNumber, uint256 _bidAmountZCHF, uint256 expectedSize) external {\\n        Challenge storage challenge = challenges[_challengeNumber];\\n                \\n        // Deactivated: if (block.timestamp >= challenge.end) revert TooLate();\\n        // Reason: in case the bidder got blacklisted by the collateral issuer, it should be possible to bid even higher\\n\\n        if (expectedSize != challenge.size) revert UnexpectedSize();\\n        if (challenge.bid > 0) {\\n            zchf.transfer(challenge.bidder, challenge.bid); // return old bid\\n        }\\n        emit NewBid(_challengeNumber, _bidAmountZCHF, msg.sender);\\n        IPosition pos = challenge.position;\\n        uint256 size_ = challenge.size;\\n        uint256 endTime = challenge.end;\\n        // ask position if the bid was high enough to avert the challenge\\n        if (pos.tryAvertChallenge(size_, _bidAmountZCHF, endTime)) {\\n            // bid was high enough, let bidder buy collateral from challenger\\n            emit ChallengeAverted(address(pos), _challengeNumber);\\n            zchf.transferFrom(msg.sender, challenge.challenger, _bidAmountZCHF);\\n            delete challenges[_challengeNumber]; // delete challenge before transferring collateral to avoid ERC777 re-entrency\\n            pos.collateral().transfer(msg.sender, size_);\\n        } else {\\n            // challenge is not averted, update bid\\n            if (_bidAmountZCHF < minBid(challenge)) revert BidTooLow(_bidAmountZCHF, minBid(challenge));\\n            uint256 earliestEnd = block.timestamp + 30 minutes;\\n            if (earliestEnd >= endTime && block.timestamp < endTime) {\\n                // bump remaining time like ebay does when last minute bids come in\\n                // An attacker trying to postpone the challenge forever must increase the bid by 0.5%\\n                // every 30 minutes, or double it every three days, making the attack hard to sustain\\n                // for a prolonged period of time.\\n                challenge.end = earliestEnd;\\n            }\\n            zchf.transferFrom(msg.sender, address(this), _bidAmountZCHF);\\n            challenge.bid = _bidAmountZCHF;\\n            challenge.bidder = msg.sender;\\n        }\\n    }\\n\\n    error TooLate();\\n    error UnexpectedSize();\\n    error BidTooLow(uint256 bid, uint256 min);\\n\\n    function end(uint256 _challengeNumber) external {\\n        end(_challengeNumber, false);\\n    }\\n\\n    function isChallengeOpen(uint256 _challengeNumber) external view returns (bool) {\\n        return challenges[_challengeNumber].end > block.timestamp;\\n    }\\n\\n    /**\\n     * Ends a challenge successfully after the auction period ended, whereas successfully means that the challenger\\n     * could show that the price of the collateral is too low to make the position well-collateralized.\\n     *\\n     * In case that the collateral cannot be transfered back to the challenger (i.e. because the collateral token has a blacklist and the\\n     * challenger is on it), it is possible to postpone the return of the collateral.\\n     *\\n     * @param postponeCollateralReturn Can be used to postpone the return of the collateral to the challenger. Usually false. \\n     */\\n    function end(uint256 _challengeNumber, bool postponeCollateralReturn) public {\\n        Challenge memory challenge = challenges[_challengeNumber];\\n        require(challenge.challenger != address(0x0));\\n        require(block.timestamp >= challenge.end, \\\"period has not ended\\\");\\n        delete challenges[_challengeNumber]; // delete first to avoid reentrancy with ERC-777 tokens\\n\\n        // challenge must have been successful, because otherwise it would have immediately ended on placing the winning bid\\n\\n        // notify the position that will send the collateral to the bidder. If there is no bid, send the collateral to msg.sender\\n        address recipient = challenge.bidder == address(0x0) ? msg.sender : challenge.bidder;\\n        (address owner, uint256 effectiveBid, uint256 repayment, uint32 reservePPM) = challenge.position.notifyChallengeSucceeded(recipient, challenge.bid, challenge.size);\\n        if (effectiveBid < challenge.bid) {\\n            // overbid, return excess amount\\n            IERC20(zchf).transfer(recipient, challenge.bid - effectiveBid);\\n        }\\n        uint256 reward = (effectiveBid * CHALLENGER_REWARD) / 1000_000;\\n        uint256 fundsNeeded = reward + repayment;\\n        if (effectiveBid > fundsNeeded){\\n            zchf.transfer(owner, effectiveBid - fundsNeeded);\\n        } else if (effectiveBid < fundsNeeded){\\n            zchf.notifyLoss(fundsNeeded - effectiveBid); // ensure we have enough to pay everything\\n        }\\n        zchf.transfer(challenge.challenger, reward); // pay out the challenger reward\\n        zchf.burn(repayment, reservePPM); // Repay the challenged part\\n        returnCollateral(challenge.position.collateral(), challenge.challenger, challenge.size, postponeCollateralReturn);\\n        emit ChallengeSucceeded(address(challenge.position), challenge.bid, _challengeNumber);\\n    }\\n\\n    /**\\n     * Challengers can call this method to withdraw collateral whose return was postponed.\\n     */\\n    function returnPostponedCollateral(address collateral, address target) external {\\n        uint256 amount = pendingReturns[collateral][msg.sender];\\n        delete pendingReturns[collateral][msg.sender];\\n        IERC20(collateral).transfer(target, amount);\\n    }\\n\\n    function returnCollateral(IERC20 collateral, address recipient, uint256 amount, bool postpone) internal {\\n        if (postpone){\\n            // Postponing helps in case the challenger was blacklisted on the collateral token or otherwise cannot receive it at the moment.\\n            pendingReturns[address(collateral)][recipient] += amount;\\n            emit PostPonedReturn(address(collateral), recipient, amount);\\n        } else {\\n            collateral.transfer(recipient, amount); // return the challenger's collateral\\n        }\\n    }\\n}\\n\\ninterface IPositionFactory {\\n    function createNewPosition(\\n        address _owner,\\n        address _zchf,\\n        address _collateral,\\n        uint256 _minCollateral,\\n        uint256 _initialLimit,\\n        uint256 _initPeriodSeconds,\\n        uint256 _duration,\\n        uint256 _challengePeriod,\\n        uint32 _yearlyInterestPPM,\\n        uint256 _liqPrice,\\n        uint32 _reserve\\n    ) external returns (address);\\n\\n    function clonePosition(address _existing) external returns (address);\\n}\\n\",\"keccak256\":\"0x1e0bda3e1ebf8f71ea57a2bfdfcbfaf7f5c54af5bb9957943138567e48ae29ed\",\"license\":\"MIT\"},\"contracts/Ownable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n//\\n// From https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/access/Ownable.sol\\n//\\n// Modifications:\\n// - Replaced Context._msgSender() with msg.sender\\n// - Made leaner\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Contract module which provides a basic access control mechanism, where\\n * there is an account (an owner) that can be granted exclusive access to\\n * specific functions.\\n *\\n * By default, the owner account will be the one that deploys the contract. This\\n * can later be changed with {transferOwnership}.\\n */\\ncontract Ownable {\\n\\n    address public owner;\\n\\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\\n\\n    error NotOwner();\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Can only be called by the current owner.\\n     */\\n    function transferOwnership(address newOwner) public onlyOwner {\\n        setOwner(newOwner);\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Internal function without access restriction.\\n     */\\n    function setOwner(address newOwner) internal {\\n        require(newOwner != address(0x0));\\n        address oldOwner = owner;\\n        owner = newOwner;\\n        emit OwnershipTransferred(oldOwner, newOwner);\\n    }\\n\\n    function requireOwner(address sender) internal view {\\n        if (owner != sender) revert NotOwner();\\n    }\\n\\n    modifier onlyOwner() {\\n        requireOwner(msg.sender);\\n        _;\\n    }\\n}\",\"keccak256\":\"0xd26b0088f59d662a8c2f483618bf22a33e0da1bde630ebb9950c114543de995e\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x60c060405234801562000010575f80fd5b50604051620027ac380380620027ac833981016040819052620000339162000067565b6001600160a01b0391821660a052166080526200009d565b80516001600160a01b038116811462000062575f80fd5b919050565b5f806040838503121562000079575f80fd5b62000084836200004b565b915062000094602084016200004b565b90509250929050565b60805160a051612668620001445f395f81816102a1015281816103890152818161051d01528181610755015281816109ef01528181610ad701528181610b8b01528181610c2e01528181610cbd01528181610e3a01528181610f6a0152818161139e0152818161153a0152818161177a01528181611ce601528181611ec501528181611f1e01528181611f4e01526120dd01525f81816114ad0152611d5b01526126685ff3fe608060405234801561000f575f80fd5b5060043610610106575f3560e01c80638f1d37761161009e578063c0dba9441161006e578063c0dba94414610279578063c4d4803a1461029c578063c5360227146102c3578063e85cde6f146102d6578063f475f14f146102e9575f80fd5b80638f1d3776146101e3578063a859b47b14610235578063af5806b614610248578063be747fd514610266575f80fd5b8063643745fb116100d9578063643745fb146101685780636f8241c91461019257806374362a25146101bd5780638f1c335c146101d0575f80fd5b80630ad245281461010a5780632ac9bf091461011f5780632bf78dd814610132578063314142f214610155575b5f80fd5b61011d610118366004612247565b6102fc565b005b61011d61012d36600461225e565b610309565b610142683635c9adc5dea0000081565b6040519081526020015b60405180910390f35b61011d610163366004612294565b6107f5565b6101426101763660046122d6565b600160209081525f928352604080842090915290825290205481565b6101a56101a0366004612313565b610df1565b6040516001600160a01b03909116815260200161014c565b6101a56101cb366004612393565b610e15565b6101426101de366004612393565b610f45565b6101f66101f1366004612247565b611325565b604080516001600160a01b03978816815295871660208701528501939093526060840191909152909216608082015260a081019190915260c00161014c565b6101a56102433660046123c5565b611379565b610251614e2081565b60405163ffffffff909116815260200161014c565b6101426102743660046123fd565b61187d565b61028c610287366004612247565b611be3565b604051901515815260200161014c565b6101a57f000000000000000000000000000000000000000000000000000000000000000081565b6101426102d1366004612247565b611c0f565b61011d6102e43660046122d6565b611c36565b6101a56102f736600461241d565b611cc9565b610306815f6107f5565b50565b5f80848154811061031c5761031c6124a8565b905f5260205f20906006020190508060020154821461034e57604051638d343e3760e01b815260040160405180910390fd5b6005810154156103f557600481810154600583015460405163a9059cbb60e01b81526001600160a01b039283169381019390935260248301527f0000000000000000000000000000000000000000000000000000000000000000169063a9059cbb906044016020604051808303815f875af11580156103cf573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906103f391906124bc565b505b6040805185815260208101859052338183015290517f0b946a7d9cbd47da0dd592970ef1259349c40f44b231f11da4babeb56c07dd2d9181900360600190a160018101546002820154600383015460405163c3c5186360e01b81526004810183905260248101879052604481018290526001600160a01b0390931692839063c3c51863906064016020604051808303815f875af1158015610498573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104bc91906124bc565b156106d257826001600160a01b03167f77f5c683926510b182ace6fbf98ddedb0d8f79ddbcbd37b76472bd0428d328ca886040516104fc91815260200190565b60405180910390a283546040516323b872dd60e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000008116926323b872dd9261055792339216908b906004016124de565b6020604051808303815f875af1158015610573573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061059791906124bc565b505f87815481106105aa576105aa6124a8565b5f9182526020808320600690920290910180546001600160a01b031990811682556001820180548216905560028201849055600382018490556004808301805490921690915560059091018390556040805163d8dfeb4560e01b815290516001600160a01b0388169463d8dfeb459483850194909383900301908290875af1158015610638573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061065c9190612502565b60405163a9059cbb60e01b8152336004820152602481018490526001600160a01b03919091169063a9059cbb906044016020604051808303815f875af11580156106a8573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906106cc91906124bc565b506107ec565b6106db84612124565b86101561071357856106ec85612124565b60405163f0defc6160e01b8152600481019290925260248201526044015b60405180910390fd5b5f61072042610708612531565b905081811015801561073157508142105b1561073e57600385018190555b6040516323b872dd60e01b81526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906323b872dd9061078e90339030908c906004016124de565b6020604051808303815f875af11580156107aa573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906107ce91906124bc565b5050600584018690556004840180546001600160a01b031916331790555b50505050505050565b5f808381548110610808576108086124a8565b5f9182526020918290206040805160c081018252600690930290910180546001600160a01b03908116808552600183015482169585019590955260028201549284019290925260038101546060840152600481015490911660808301526005015460a08201529150610878575f80fd5b80606001514210156108c35760405162461bcd60e51b81526020600482015260146024820152731c195c9a5bd9081a185cc81b9bdd08195b99195960621b604482015260640161070a565b5f83815481106108d5576108d56124a8565b5f9182526020822060069091020180546001600160a01b03199081168255600182018054821690556002820183905560038201839055600482018054909116905560050181905560808201516001600160a01b03161561093957816080015161093b565b335b90505f805f8085602001516001600160a01b031663707271b1868860a0015189604001516040518463ffffffff1660e01b8152600401610999939291906001600160a01b039390931683526020830191909152604082015260600190565b6080604051808303815f875af11580156109b5573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906109d99190612544565b93509350935093508560a00151831015610a9b577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663a9059cbb86858960a00151610a2d919061258d565b6040516001600160e01b031960e085901b1681526001600160a01b03909216600483015260248201526044016020604051808303815f875af1158015610a75573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610a9991906124bc565b505b5f620f4240610aac614e20866125a0565b610ab691906125b7565b90505f610ac38483612531565b905080851115610b79576001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001663a9059cbb87610b07848961258d565b6040516001600160e01b031960e085901b1681526001600160a01b03909216600483015260248201526044016020604051808303815f875af1158015610b4f573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610b7391906124bc565b50610c06565b80851015610c06576001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000166361f3d110610bba878461258d565b6040518263ffffffff1660e01b8152600401610bd891815260200190565b5f604051808303815f87803b158015610bef575f80fd5b505af1158015610c01573d5f803e3d5ffd5b505050505b875160405163a9059cbb60e01b81526001600160a01b039182166004820152602481018490527f00000000000000000000000000000000000000000000000000000000000000009091169063a9059cbb906044016020604051808303815f875af1158015610c76573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610c9a91906124bc565b506040516313980c6b60e31b81526004810185905263ffffffff841660248201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690639cc06358906044015f604051808303815f87803b158015610d06575f80fd5b505af1158015610d18573d5f803e3d5ffd5b50505050610d9188602001516001600160a01b031663d8dfeb456040518163ffffffff1660e01b81526004016020604051808303815f875af1158015610d60573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610d849190612502565b895160408b01518c612144565b87602001516001600160a01b03167ff7bf51234e6ca827a69443267d342998768b8e753f1ec6e1fd72d70714443b168960a001518c604051610ddd929190918252602082015260400190565b60405180910390a250505050505050505050565b5f610e078a8a8a8a62093a808b8b8b8b8b611cc9565b9a9950505050505050505050565b604051632748913b60e01b81526001600160a01b0384811660048301525f91859130917f000000000000000000000000000000000000000000000000000000000000000090911690632748913b90602401602060405180830381865afa158015610e81573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610ea59190612502565b6001600160a01b031614610ecb5760405162461bcd60e51b815260040161070a906125d6565b5f856001600160a01b0316634665096d6040518163ffffffff1660e01b81526004016020604051808303815f875af1158015610f09573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610f2d91906125fb565b9050610f3b86868684611379565b9695505050505050565b604051632748913b60e01b81526001600160a01b0384811660048301525f91859130917f000000000000000000000000000000000000000000000000000000000000000090911690632748913b90602401602060405180830381865afa158015610fb1573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610fd59190612502565b6001600160a01b031614610ffb5760405162461bcd60e51b815260040161070a906125d6565b5f85905083816001600160a01b031663a035b1fe6040518163ffffffff1660e01b81526004016020604051808303815f875af115801561103d573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061106191906125fb565b1461107f57604051630d57523160e11b815260040160405180910390fd5b806001600160a01b031663d8dfeb456040518163ffffffff1660e01b81526004016020604051808303815f875af11580156110bc573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906110e09190612502565b6001600160a01b03166323b872dd3330886040518463ffffffff1660e01b815260040161110f939291906124de565b6020604051808303815f875af115801561112b573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061114f91906124bc565b505f808054905090505f6040518060c00160405280336001600160a01b03168152602001846001600160a01b03168152602001888152602001846001600160a01b031663f3f480d96040518163ffffffff1660e01b81526004016020604051808303815f875af11580156111c5573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906111e991906125fb565b6111f39042612531565b81525f6020808301829052604092830182905284546001808201875595835291819020845160069093020180546001600160a01b03199081166001600160a01b03948516178255918501519581018054831696841696909617909555838301516002860155606084015160038601556080840151600480870180549093169184169190911790915560a090930151600590940193909355516342d0204160e01b8152908101889052908316906342d02041906024015f604051808303815f87803b1580156112bf575f80fd5b505af11580156112d1573d5f803e3d5ffd5b505060408051898152602081018590526001600160a01b03861693503392507fc4b384b2c5ca32c8e77081f4083be594a1ea9ba34f208a9f9a458f70608585f5910160405180910390a39695505050505050565b5f8181548110611333575f80fd5b5f9182526020909120600690910201805460018201546002830154600384015460048501546005909501546001600160a01b039485169650928416949193909291169086565b604051632748913b60e01b81526001600160a01b0385811660048301525f91869130917f000000000000000000000000000000000000000000000000000000000000000090911690632748913b90602401602060405180830381865afa1580156113e5573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906114099190612502565b6001600160a01b03161461142f5760405162461bcd60e51b815260040161070a906125d6565b60405163a6e503af60e01b8152600481018590526024810184905286906001600160a01b0382169063a6e503af906044015f604051808303815f87803b158015611477575f80fd5b505af1158015611489573d5f803e3d5ffd5b5050604051630167d12360e71b81526001600160a01b038a811660048301525f93507f000000000000000000000000000000000000000000000000000000000000000016915063b3e89180906024016020604051808303815f875af11580156114f4573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906115189190612502565b60405163b52c696d60e01b81526001600160a01b0380831660048301529192507f00000000000000000000000000000000000000000000000000000000000000009091169063b52c696d906024015f604051808303815f87803b15801561157d575f80fd5b505af115801561158f573d5f803e3d5ffd5b50505050806001600160a01b031663aee1a95933846001600160a01b031663a035b1fe6040518163ffffffff1660e01b81526004016020604051808303815f875af11580156115e0573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061160491906125fb565b6040516001600160e01b031960e085901b1681526001600160a01b0390921660048301526024820152604481018a9052606481018990526084810188905260a4015f604051808303815f87803b15801561165c575f80fd5b505af115801561166e573d5f803e3d5ffd5b50505050816001600160a01b031663d8dfeb456040518163ffffffff1660e01b81526004016020604051808303815f875af11580156116af573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906116d39190612502565b6001600160a01b03166323b872dd33838a6040518463ffffffff1660e01b8152600401611702939291906124de565b6020604051808303815f875af115801561171e573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061174291906124bc565b50806001600160a01b0316336001600160a01b03167f591ede549d7e337ac63249acd2d7849532b0a686377bbf0b0cca6c8abd9552f27f0000000000000000000000000000000000000000000000000000000000000000856001600160a01b031663d8dfeb456040518163ffffffff1660e01b81526004016020604051808303815f875af11580156117d6573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906117fa9190612502565b866001600160a01b031663a035b1fe6040518163ffffffff1660e01b81526004016020604051808303815f875af1158015611837573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061185b91906125fb565b60405161186a939291906124de565b60405180910390a3979650505050505050565b5f805f8481548110611891576118916124a8565b5f918252602090912060069091020180549091506001600160a01b03166118b6575f80fd5b6040805160c08101825282546001600160a01b0390811682526001840154811660208301529181018590526003830154606082015260048301549091166080820152600282015460058301545f929160a08301916119159088906125a0565b61191f91906125b7565b81525090508060a00151826005015f82825461193b919061258d565b909155505060408101516002830180545f9061195890849061258d565b9091555050600182015460408051632eaf9f1d60e21b815290515f926001600160a01b03169163babe7c74916004808301926020929190829003018187875af11580156119a7573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906119cb91906125fb565b905080836002015410156119dd575f80fd5b80826040015110156119ed575f80fd5b5f80546001808201835591805283517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5636006830290810180546001600160a01b03199081166001600160a01b03948516179091556020808801517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5648401805484169186169190911790556040808901517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56585015560608901517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56685015560808901517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e567850180549094169086161790925560a08801517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56890930192909255938701548754600289015486519081529283018c9052939490831693909216917fc4b384b2c5ca32c8e77081f4083be594a1ea9ba34f208a9f9a458f70608585f5910160405180910390a382602001516001600160a01b0316835f01516001600160a01b03167fc4b384b2c5ca32c8e77081f4083be594a1ea9ba34f208a9f9a458f70608585f5856040015184604051611bcf929190918252602082015260400190565b60405180910390a393505050505b92915050565b5f425f8381548110611bf757611bf76124a8565b905f5260205f20906006020160030154119050919050565b5f611bdd5f8381548110611c2557611c256124a8565b905f5260205f209060060201612124565b6001600160a01b038281165f81815260016020908152604080832033845290915280822080549290555163a9059cbb60e01b81529284166004840152602483018190529163a9059cbb906044016020604051808303815f875af1158015611c9f573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611cc391906124bc565b50505050565b6040516353af180760e01b81523360048201526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000811660248301528b81166044830152606482018b90526084820189905260a4820188905260c4820187905260e4820186905263ffffffff858116610104840152610124830185905283166101448301525f9182917f000000000000000000000000000000000000000000000000000000000000000016906353af180790610164016020604051808303815f875af1158015611da2573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611dc69190612502565b905060188c6001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa158015611e06573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611e2a9190612612565b60ff161115611e37575f80fd5b8a8a1015611e875760405162461bcd60e51b815260206004820152601760248201527f6d7573742073746172742077697468206d696e20636f6c000000000000000000604482015260640161070a565b69010f0cf064dd59200000611e9c858d6125a0565b1015611ea6575f80fd5b60405163b52c696d60e01b81526001600160a01b0382811660048301527f0000000000000000000000000000000000000000000000000000000000000000169063b52c696d906024015f604051808303815f87803b158015611f06575f80fd5b505af1158015611f18573d5f803e3d5ffd5b505050507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166323b872dd337f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663cd3293de6040518163ffffffff1660e01b8152600401602060405180830381865afa158015611fa8573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611fcc9190612502565b683635c9adc5dea000006040518463ffffffff1660e01b8152600401611ff4939291906124de565b6020604051808303815f875af1158015612010573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061203491906124bc565b506040516323b872dd60e01b81526001600160a01b038d16906323b872dd9061206590339085908f906004016124de565b6020604051808303815f875af1158015612081573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906120a591906124bc565b50806001600160a01b0316336001600160a01b03167f591ede549d7e337ac63249acd2d7849532b0a686377bbf0b0cca6c8abd9552f27f00000000000000000000000000000000000000000000000000000000000000008f8860405161210d939291906124de565b60405180910390a39b9a5050505050505050505050565b5f6103e882600501546103ed61213a91906125a0565b611bdd91906125b7565b80156121d0576001600160a01b038085165f90815260016020908152604080832093871683529290529081208054849290612180908490612531565b9091555050604080516001600160a01b038681168252602082018590528516917f8ab298b78a235f73eee230f82012c0cf4db76003eaabd16a0195f112e7d625c8910160405180910390a2611cc3565b60405163a9059cbb60e01b81526001600160a01b0384811660048301526024820184905285169063a9059cbb906044016020604051808303815f875af115801561221c573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061224091906124bc565b5050505050565b5f60208284031215612257575f80fd5b5035919050565b5f805f60608486031215612270575f80fd5b505081359360208301359350604090920135919050565b8015158114610306575f80fd5b5f80604083850312156122a5575f80fd5b8235915060208301356122b781612287565b809150509250929050565b6001600160a01b0381168114610306575f80fd5b5f80604083850312156122e7575f80fd5b82356122f2816122c2565b915060208301356122b7816122c2565b63ffffffff81168114610306575f80fd5b5f805f805f805f805f6101208a8c03121561232c575f80fd5b8935612337816122c2565b985060208a0135975060408a0135965060608a0135955060808a0135945060a08a0135935060c08a013561236a81612302565b925060e08a013591506101008a013561238281612302565b809150509295985092959850929598565b5f805f606084860312156123a5575f80fd5b83356123b0816122c2565b95602085013595506040909401359392505050565b5f805f80608085870312156123d8575f80fd5b84356123e3816122c2565b966020860135965060408601359560600135945092505050565b5f806040838503121561240e575f80fd5b50508035926020909101359150565b5f805f805f805f805f806101408b8d031215612437575f80fd5b8a35612442816122c2565b995060208b0135985060408b0135975060608b0135965060808b0135955060a08b0135945060c08b0135935060e08b013561247c81612302565b92506101008b013591506101208b013561249581612302565b809150509295989b9194979a5092959850565b634e487b7160e01b5f52603260045260245ffd5b5f602082840312156124cc575f80fd5b81516124d781612287565b9392505050565b6001600160a01b039384168152919092166020820152604081019190915260600190565b5f60208284031215612512575f80fd5b81516124d7816122c2565b634e487b7160e01b5f52601160045260245ffd5b80820180821115611bdd57611bdd61251d565b5f805f8060808587031215612557575f80fd5b8451612562816122c2565b809450506020850151925060408501519150606085015161258281612302565b939692955090935050565b81810381811115611bdd57611bdd61251d565b8082028115828204841417611bdd57611bdd61251d565b5f826125d157634e487b7160e01b5f52601260045260245ffd5b500490565b6020808252600b908201526a6e6f74206f757220706f7360a81b604082015260600190565b5f6020828403121561260b575f80fd5b5051919050565b5f60208284031215612622575f80fd5b815160ff811681146124d7575f80fdfea2646970667358221220efa8cb316e0ea4866f08bdfcf0bf49701d193ac1ac091872220595129ea8b51a64736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561000f575f80fd5b5060043610610106575f3560e01c80638f1d37761161009e578063c0dba9441161006e578063c0dba94414610279578063c4d4803a1461029c578063c5360227146102c3578063e85cde6f146102d6578063f475f14f146102e9575f80fd5b80638f1d3776146101e3578063a859b47b14610235578063af5806b614610248578063be747fd514610266575f80fd5b8063643745fb116100d9578063643745fb146101685780636f8241c91461019257806374362a25146101bd5780638f1c335c146101d0575f80fd5b80630ad245281461010a5780632ac9bf091461011f5780632bf78dd814610132578063314142f214610155575b5f80fd5b61011d610118366004612247565b6102fc565b005b61011d61012d36600461225e565b610309565b610142683635c9adc5dea0000081565b6040519081526020015b60405180910390f35b61011d610163366004612294565b6107f5565b6101426101763660046122d6565b600160209081525f928352604080842090915290825290205481565b6101a56101a0366004612313565b610df1565b6040516001600160a01b03909116815260200161014c565b6101a56101cb366004612393565b610e15565b6101426101de366004612393565b610f45565b6101f66101f1366004612247565b611325565b604080516001600160a01b03978816815295871660208701528501939093526060840191909152909216608082015260a081019190915260c00161014c565b6101a56102433660046123c5565b611379565b610251614e2081565b60405163ffffffff909116815260200161014c565b6101426102743660046123fd565b61187d565b61028c610287366004612247565b611be3565b604051901515815260200161014c565b6101a57f000000000000000000000000000000000000000000000000000000000000000081565b6101426102d1366004612247565b611c0f565b61011d6102e43660046122d6565b611c36565b6101a56102f736600461241d565b611cc9565b610306815f6107f5565b50565b5f80848154811061031c5761031c6124a8565b905f5260205f20906006020190508060020154821461034e57604051638d343e3760e01b815260040160405180910390fd5b6005810154156103f557600481810154600583015460405163a9059cbb60e01b81526001600160a01b039283169381019390935260248301527f0000000000000000000000000000000000000000000000000000000000000000169063a9059cbb906044016020604051808303815f875af11580156103cf573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906103f391906124bc565b505b6040805185815260208101859052338183015290517f0b946a7d9cbd47da0dd592970ef1259349c40f44b231f11da4babeb56c07dd2d9181900360600190a160018101546002820154600383015460405163c3c5186360e01b81526004810183905260248101879052604481018290526001600160a01b0390931692839063c3c51863906064016020604051808303815f875af1158015610498573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104bc91906124bc565b156106d257826001600160a01b03167f77f5c683926510b182ace6fbf98ddedb0d8f79ddbcbd37b76472bd0428d328ca886040516104fc91815260200190565b60405180910390a283546040516323b872dd60e01b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000008116926323b872dd9261055792339216908b906004016124de565b6020604051808303815f875af1158015610573573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061059791906124bc565b505f87815481106105aa576105aa6124a8565b5f9182526020808320600690920290910180546001600160a01b031990811682556001820180548216905560028201849055600382018490556004808301805490921690915560059091018390556040805163d8dfeb4560e01b815290516001600160a01b0388169463d8dfeb459483850194909383900301908290875af1158015610638573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061065c9190612502565b60405163a9059cbb60e01b8152336004820152602481018490526001600160a01b03919091169063a9059cbb906044016020604051808303815f875af11580156106a8573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906106cc91906124bc565b506107ec565b6106db84612124565b86101561071357856106ec85612124565b60405163f0defc6160e01b8152600481019290925260248201526044015b60405180910390fd5b5f61072042610708612531565b905081811015801561073157508142105b1561073e57600385018190555b6040516323b872dd60e01b81526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906323b872dd9061078e90339030908c906004016124de565b6020604051808303815f875af11580156107aa573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906107ce91906124bc565b5050600584018690556004840180546001600160a01b031916331790555b50505050505050565b5f808381548110610808576108086124a8565b5f9182526020918290206040805160c081018252600690930290910180546001600160a01b03908116808552600183015482169585019590955260028201549284019290925260038101546060840152600481015490911660808301526005015460a08201529150610878575f80fd5b80606001514210156108c35760405162461bcd60e51b81526020600482015260146024820152731c195c9a5bd9081a185cc81b9bdd08195b99195960621b604482015260640161070a565b5f83815481106108d5576108d56124a8565b5f9182526020822060069091020180546001600160a01b03199081168255600182018054821690556002820183905560038201839055600482018054909116905560050181905560808201516001600160a01b03161561093957816080015161093b565b335b90505f805f8085602001516001600160a01b031663707271b1868860a0015189604001516040518463ffffffff1660e01b8152600401610999939291906001600160a01b039390931683526020830191909152604082015260600190565b6080604051808303815f875af11580156109b5573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906109d99190612544565b93509350935093508560a00151831015610a9b577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663a9059cbb86858960a00151610a2d919061258d565b6040516001600160e01b031960e085901b1681526001600160a01b03909216600483015260248201526044016020604051808303815f875af1158015610a75573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610a9991906124bc565b505b5f620f4240610aac614e20866125a0565b610ab691906125b7565b90505f610ac38483612531565b905080851115610b79576001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001663a9059cbb87610b07848961258d565b6040516001600160e01b031960e085901b1681526001600160a01b03909216600483015260248201526044016020604051808303815f875af1158015610b4f573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610b7391906124bc565b50610c06565b80851015610c06576001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000166361f3d110610bba878461258d565b6040518263ffffffff1660e01b8152600401610bd891815260200190565b5f604051808303815f87803b158015610bef575f80fd5b505af1158015610c01573d5f803e3d5ffd5b505050505b875160405163a9059cbb60e01b81526001600160a01b039182166004820152602481018490527f00000000000000000000000000000000000000000000000000000000000000009091169063a9059cbb906044016020604051808303815f875af1158015610c76573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610c9a91906124bc565b506040516313980c6b60e31b81526004810185905263ffffffff841660248201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690639cc06358906044015f604051808303815f87803b158015610d06575f80fd5b505af1158015610d18573d5f803e3d5ffd5b50505050610d9188602001516001600160a01b031663d8dfeb456040518163ffffffff1660e01b81526004016020604051808303815f875af1158015610d60573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610d849190612502565b895160408b01518c612144565b87602001516001600160a01b03167ff7bf51234e6ca827a69443267d342998768b8e753f1ec6e1fd72d70714443b168960a001518c604051610ddd929190918252602082015260400190565b60405180910390a250505050505050505050565b5f610e078a8a8a8a62093a808b8b8b8b8b611cc9565b9a9950505050505050505050565b604051632748913b60e01b81526001600160a01b0384811660048301525f91859130917f000000000000000000000000000000000000000000000000000000000000000090911690632748913b90602401602060405180830381865afa158015610e81573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610ea59190612502565b6001600160a01b031614610ecb5760405162461bcd60e51b815260040161070a906125d6565b5f856001600160a01b0316634665096d6040518163ffffffff1660e01b81526004016020604051808303815f875af1158015610f09573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610f2d91906125fb565b9050610f3b86868684611379565b9695505050505050565b604051632748913b60e01b81526001600160a01b0384811660048301525f91859130917f000000000000000000000000000000000000000000000000000000000000000090911690632748913b90602401602060405180830381865afa158015610fb1573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610fd59190612502565b6001600160a01b031614610ffb5760405162461bcd60e51b815260040161070a906125d6565b5f85905083816001600160a01b031663a035b1fe6040518163ffffffff1660e01b81526004016020604051808303815f875af115801561103d573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061106191906125fb565b1461107f57604051630d57523160e11b815260040160405180910390fd5b806001600160a01b031663d8dfeb456040518163ffffffff1660e01b81526004016020604051808303815f875af11580156110bc573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906110e09190612502565b6001600160a01b03166323b872dd3330886040518463ffffffff1660e01b815260040161110f939291906124de565b6020604051808303815f875af115801561112b573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061114f91906124bc565b505f808054905090505f6040518060c00160405280336001600160a01b03168152602001846001600160a01b03168152602001888152602001846001600160a01b031663f3f480d96040518163ffffffff1660e01b81526004016020604051808303815f875af11580156111c5573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906111e991906125fb565b6111f39042612531565b81525f6020808301829052604092830182905284546001808201875595835291819020845160069093020180546001600160a01b03199081166001600160a01b03948516178255918501519581018054831696841696909617909555838301516002860155606084015160038601556080840151600480870180549093169184169190911790915560a090930151600590940193909355516342d0204160e01b8152908101889052908316906342d02041906024015f604051808303815f87803b1580156112bf575f80fd5b505af11580156112d1573d5f803e3d5ffd5b505060408051898152602081018590526001600160a01b03861693503392507fc4b384b2c5ca32c8e77081f4083be594a1ea9ba34f208a9f9a458f70608585f5910160405180910390a39695505050505050565b5f8181548110611333575f80fd5b5f9182526020909120600690910201805460018201546002830154600384015460048501546005909501546001600160a01b039485169650928416949193909291169086565b604051632748913b60e01b81526001600160a01b0385811660048301525f91869130917f000000000000000000000000000000000000000000000000000000000000000090911690632748913b90602401602060405180830381865afa1580156113e5573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906114099190612502565b6001600160a01b03161461142f5760405162461bcd60e51b815260040161070a906125d6565b60405163a6e503af60e01b8152600481018590526024810184905286906001600160a01b0382169063a6e503af906044015f604051808303815f87803b158015611477575f80fd5b505af1158015611489573d5f803e3d5ffd5b5050604051630167d12360e71b81526001600160a01b038a811660048301525f93507f000000000000000000000000000000000000000000000000000000000000000016915063b3e89180906024016020604051808303815f875af11580156114f4573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906115189190612502565b60405163b52c696d60e01b81526001600160a01b0380831660048301529192507f00000000000000000000000000000000000000000000000000000000000000009091169063b52c696d906024015f604051808303815f87803b15801561157d575f80fd5b505af115801561158f573d5f803e3d5ffd5b50505050806001600160a01b031663aee1a95933846001600160a01b031663a035b1fe6040518163ffffffff1660e01b81526004016020604051808303815f875af11580156115e0573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061160491906125fb565b6040516001600160e01b031960e085901b1681526001600160a01b0390921660048301526024820152604481018a9052606481018990526084810188905260a4015f604051808303815f87803b15801561165c575f80fd5b505af115801561166e573d5f803e3d5ffd5b50505050816001600160a01b031663d8dfeb456040518163ffffffff1660e01b81526004016020604051808303815f875af11580156116af573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906116d39190612502565b6001600160a01b03166323b872dd33838a6040518463ffffffff1660e01b8152600401611702939291906124de565b6020604051808303815f875af115801561171e573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061174291906124bc565b50806001600160a01b0316336001600160a01b03167f591ede549d7e337ac63249acd2d7849532b0a686377bbf0b0cca6c8abd9552f27f0000000000000000000000000000000000000000000000000000000000000000856001600160a01b031663d8dfeb456040518163ffffffff1660e01b81526004016020604051808303815f875af11580156117d6573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906117fa9190612502565b866001600160a01b031663a035b1fe6040518163ffffffff1660e01b81526004016020604051808303815f875af1158015611837573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061185b91906125fb565b60405161186a939291906124de565b60405180910390a3979650505050505050565b5f805f8481548110611891576118916124a8565b5f918252602090912060069091020180549091506001600160a01b03166118b6575f80fd5b6040805160c08101825282546001600160a01b0390811682526001840154811660208301529181018590526003830154606082015260048301549091166080820152600282015460058301545f929160a08301916119159088906125a0565b61191f91906125b7565b81525090508060a00151826005015f82825461193b919061258d565b909155505060408101516002830180545f9061195890849061258d565b9091555050600182015460408051632eaf9f1d60e21b815290515f926001600160a01b03169163babe7c74916004808301926020929190829003018187875af11580156119a7573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906119cb91906125fb565b905080836002015410156119dd575f80fd5b80826040015110156119ed575f80fd5b5f80546001808201835591805283517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5636006830290810180546001600160a01b03199081166001600160a01b03948516179091556020808801517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5648401805484169186169190911790556040808901517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56585015560608901517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56685015560808901517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e567850180549094169086161790925560a08801517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56890930192909255938701548754600289015486519081529283018c9052939490831693909216917fc4b384b2c5ca32c8e77081f4083be594a1ea9ba34f208a9f9a458f70608585f5910160405180910390a382602001516001600160a01b0316835f01516001600160a01b03167fc4b384b2c5ca32c8e77081f4083be594a1ea9ba34f208a9f9a458f70608585f5856040015184604051611bcf929190918252602082015260400190565b60405180910390a393505050505b92915050565b5f425f8381548110611bf757611bf76124a8565b905f5260205f20906006020160030154119050919050565b5f611bdd5f8381548110611c2557611c256124a8565b905f5260205f209060060201612124565b6001600160a01b038281165f81815260016020908152604080832033845290915280822080549290555163a9059cbb60e01b81529284166004840152602483018190529163a9059cbb906044016020604051808303815f875af1158015611c9f573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611cc391906124bc565b50505050565b6040516353af180760e01b81523360048201526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000811660248301528b81166044830152606482018b90526084820189905260a4820188905260c4820187905260e4820186905263ffffffff858116610104840152610124830185905283166101448301525f9182917f000000000000000000000000000000000000000000000000000000000000000016906353af180790610164016020604051808303815f875af1158015611da2573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611dc69190612502565b905060188c6001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa158015611e06573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611e2a9190612612565b60ff161115611e37575f80fd5b8a8a1015611e875760405162461bcd60e51b815260206004820152601760248201527f6d7573742073746172742077697468206d696e20636f6c000000000000000000604482015260640161070a565b69010f0cf064dd59200000611e9c858d6125a0565b1015611ea6575f80fd5b60405163b52c696d60e01b81526001600160a01b0382811660048301527f0000000000000000000000000000000000000000000000000000000000000000169063b52c696d906024015f604051808303815f87803b158015611f06575f80fd5b505af1158015611f18573d5f803e3d5ffd5b505050507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166323b872dd337f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663cd3293de6040518163ffffffff1660e01b8152600401602060405180830381865afa158015611fa8573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611fcc9190612502565b683635c9adc5dea000006040518463ffffffff1660e01b8152600401611ff4939291906124de565b6020604051808303815f875af1158015612010573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061203491906124bc565b506040516323b872dd60e01b81526001600160a01b038d16906323b872dd9061206590339085908f906004016124de565b6020604051808303815f875af1158015612081573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906120a591906124bc565b50806001600160a01b0316336001600160a01b03167f591ede549d7e337ac63249acd2d7849532b0a686377bbf0b0cca6c8abd9552f27f00000000000000000000000000000000000000000000000000000000000000008f8860405161210d939291906124de565b60405180910390a39b9a5050505050505050505050565b5f6103e882600501546103ed61213a91906125a0565b611bdd91906125b7565b80156121d0576001600160a01b038085165f90815260016020908152604080832093871683529290529081208054849290612180908490612531565b9091555050604080516001600160a01b038681168252602082018590528516917f8ab298b78a235f73eee230f82012c0cf4db76003eaabd16a0195f112e7d625c8910160405180910390a2611cc3565b60405163a9059cbb60e01b81526001600160a01b0384811660048301526024820184905285169063a9059cbb906044016020604051808303815f875af115801561221c573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061224091906124bc565b5050505050565b5f60208284031215612257575f80fd5b5035919050565b5f805f60608486031215612270575f80fd5b505081359360208301359350604090920135919050565b8015158114610306575f80fd5b5f80604083850312156122a5575f80fd5b8235915060208301356122b781612287565b809150509250929050565b6001600160a01b0381168114610306575f80fd5b5f80604083850312156122e7575f80fd5b82356122f2816122c2565b915060208301356122b7816122c2565b63ffffffff81168114610306575f80fd5b5f805f805f805f805f6101208a8c03121561232c575f80fd5b8935612337816122c2565b985060208a0135975060408a0135965060608a0135955060808a0135945060a08a0135935060c08a013561236a81612302565b925060e08a013591506101008a013561238281612302565b809150509295985092959850929598565b5f805f606084860312156123a5575f80fd5b83356123b0816122c2565b95602085013595506040909401359392505050565b5f805f80608085870312156123d8575f80fd5b84356123e3816122c2565b966020860135965060408601359560600135945092505050565b5f806040838503121561240e575f80fd5b50508035926020909101359150565b5f805f805f805f805f806101408b8d031215612437575f80fd5b8a35612442816122c2565b995060208b0135985060408b0135975060608b0135965060808b0135955060a08b0135945060c08b0135935060e08b013561247c81612302565b92506101008b013591506101208b013561249581612302565b809150509295989b9194979a5092959850565b634e487b7160e01b5f52603260045260245ffd5b5f602082840312156124cc575f80fd5b81516124d781612287565b9392505050565b6001600160a01b039384168152919092166020820152604081019190915260600190565b5f60208284031215612512575f80fd5b81516124d7816122c2565b634e487b7160e01b5f52601160045260245ffd5b80820180821115611bdd57611bdd61251d565b5f805f8060808587031215612557575f80fd5b8451612562816122c2565b809450506020850151925060408501519150606085015161258281612302565b939692955090935050565b81810381811115611bdd57611bdd61251d565b8082028115828204841417611bdd57611bdd61251d565b5f826125d157634e487b7160e01b5f52601260045260245ffd5b500490565b6020808252600b908201526a6e6f74206f757220706f7360a81b604082015260600190565b5f6020828403121561260b575f80fd5b5051919050565b5f60208284031215612622575f80fd5b815160ff811681146124d7575f80fdfea2646970667358221220efa8cb316e0ea4866f08bdfcf0bf49701d193ac1ac091872220595129ea8b51a64736f6c63430008140033",
  "devdoc": {
    "kind": "dev",
    "methods": {
      "bid(uint256,uint256,uint256)": {
        "params": {
          "_bidAmountZCHF": "how much to bid for the collateral of this challenge (dec 18)",
          "_challengeNumber": "index of the challenge as broadcast in the event",
          "expectedSize": "size verification to guard against frontrunners doing a split-challenge-attack"
        }
      },
      "end(uint256,bool)": {
        "params": {
          "postponeCollateralReturn": "Can be used to postpone the return of the collateral to the challenger. Usually false. "
        }
      },
      "launchChallenge(address,uint256,uint256)": {
        "params": {
          "_collateralAmount": "size of the collateral we want to challenge (dec 18)",
          "_positionAddr": "address of the position we want to challenge"
        },
        "returns": {
          "_0": "index of the challenge in challenge-array"
        }
      },
      "openPosition(address,uint256,uint256,uint256,uint256,uint256,uint256,uint32,uint256,uint32)": {
        "params": {
          "_challengeSeconds": "challenge period. Longer for less liquid collateral.",
          "_collateralAddress": "address of collateral token",
          "_expirationSeconds": "position tenor in unit of timestamp (seconds) from 'now'",
          "_initialCollateral": "amount of initial collateral to be deposited",
          "_liqPrice": "Liquidation price with (36 - token decimals) decimals,                           e.g. 18 decimals for an 18 decimal collateral, 36 decimals for a 0 decimal collateral.",
          "_minCollateral": "minimum collateral required to prevent dust amounts",
          "_mintingMaximum": "maximal amount of ZCHF that can be minted by the position owner",
          "_reservePPM": "ppm of minted amount that is locked as borrower's reserve, e.g. 20%",
          "_yearlyInterestPPM": "ppm of minted amount that is paid as fee to the equity contract for each year of duration"
        },
        "returns": {
          "_0": "address           address of created position"
        }
      }
    },
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "CHALLENGER_REWARD()": {
        "notice": "The challenger reward in parts per million (ppm) relative to the challenged amount, whereas challenged amount if defined as the challenged collateral amount times the liquidation price."
      },
      "OPENING_FEE()": {
        "notice": "Irrevocable fee in ZCHF when proposing a new position (but not when cloning an existing one)."
      },
      "bid(uint256,uint256,uint256)": {
        "notice": "Post a bid in ZCHF given an open challenge. Requires a ZCHF allowance from the caller to the minting hub."
      },
      "clonePosition(address,uint256,uint256)": {
        "notice": "Clones an existing position and immediately tries to mint the specified amount using the given amount of collateral. This requires an allowance to be set on the collateral contract such that the minting hub can withdraw the collateral."
      },
      "end(uint256,bool)": {
        "notice": "Ends a challenge successfully after the auction period ended, whereas successfully means that the challenger could show that the price of the collateral is too low to make the position well-collateralized. In case that the collateral cannot be transfered back to the challenger (i.e. because the collateral token has a blacklist and the challenger is on it), it is possible to postpone the return of the collateral."
      },
      "launchChallenge(address,uint256,uint256)": {
        "notice": "Launch a challenge on a position"
      },
      "openPosition(address,uint256,uint256,uint256,uint256,uint256,uint256,uint32,uint256,uint32)": {
        "notice": "Open a collateralized loan position. See also https://docs.frankencoin.com/positions/open . For a successful call, you must set allowances for both ZCHF and the collateral token, allowing the minting hub to transfer the initial collateral amount to the newly created position and to withdraw the fees. Together, the expiration and the minting fee imply an interest rate. TODO: in future versions, it might be better to fix the interest and not the fee"
      },
      "pendingReturns(address,address)": {
        "notice": "Map to remember pending postponed collateral returns. It maps collateral => beneficiary => amount."
      },
      "returnPostponedCollateral(address,address)": {
        "notice": "Challengers can call this method to withdraw collateral whose return was postponed."
      },
      "splitChallenge(uint256,uint256)": {
        "notice": "Splits a challenge into two smaller challenges. This can be useful to guard an attack, where a challenger launches a challenge so big that most bidders do not have the liquidity available to bid a sufficient amount. With this function, the can split of smaller slices of the challenge and avert it piece by piece."
      }
    },
    "notice": "The central hub for creating, cloning and challenging collateralized Frankencoin positions. Only one instance of this contract is required, whereas every new position comes with a new position contract. Pending challenges are stored as structs in an array.",
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 2987,
        "contract": "contracts/MintingHub.sol:MintingHub",
        "label": "challenges",
        "offset": 0,
        "slot": "0",
        "type": "t_array(t_struct(Challenge)3008_storage)dyn_storage"
      },
      {
        "astId": 2994,
        "contract": "contracts/MintingHub.sol:MintingHub",
        "label": "pendingReturns",
        "offset": 0,
        "slot": "1",
        "type": "t_mapping(t_address,t_mapping(t_address,t_uint256))"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_struct(Challenge)3008_storage)dyn_storage": {
        "base": "t_struct(Challenge)3008_storage",
        "encoding": "dynamic_array",
        "label": "struct MintingHub.Challenge[]",
        "numberOfBytes": "32"
      },
      "t_contract(IPosition)2754": {
        "encoding": "inplace",
        "label": "contract IPosition",
        "numberOfBytes": "20"
      },
      "t_mapping(t_address,t_mapping(t_address,t_uint256))": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => mapping(address => uint256))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_address,t_uint256)"
      },
      "t_mapping(t_address,t_uint256)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_struct(Challenge)3008_storage": {
        "encoding": "inplace",
        "label": "struct MintingHub.Challenge",
        "members": [
          {
            "astId": 2996,
            "contract": "contracts/MintingHub.sol:MintingHub",
            "label": "challenger",
            "offset": 0,
            "slot": "0",
            "type": "t_address"
          },
          {
            "astId": 2999,
            "contract": "contracts/MintingHub.sol:MintingHub",
            "label": "position",
            "offset": 0,
            "slot": "1",
            "type": "t_contract(IPosition)2754"
          },
          {
            "astId": 3001,
            "contract": "contracts/MintingHub.sol:MintingHub",
            "label": "size",
            "offset": 0,
            "slot": "2",
            "type": "t_uint256"
          },
          {
            "astId": 3003,
            "contract": "contracts/MintingHub.sol:MintingHub",
            "label": "end",
            "offset": 0,
            "slot": "3",
            "type": "t_uint256"
          },
          {
            "astId": 3005,
            "contract": "contracts/MintingHub.sol:MintingHub",
            "label": "bidder",
            "offset": 0,
            "slot": "4",
            "type": "t_address"
          },
          {
            "astId": 3007,
            "contract": "contracts/MintingHub.sol:MintingHub",
            "label": "bid",
            "offset": 0,
            "slot": "5",
            "type": "t_uint256"
          }
        ],
        "numberOfBytes": "192"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}